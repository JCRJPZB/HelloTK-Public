{"version":3,"sources":["../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/AlertLbl.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/HP/HpNum.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/StartScene/SignUp.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Deprecated/Gesture.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/ResMgr.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/NetWork/LoginMsg.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Error/UserException.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/Stage/StageMgr.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/NetWork/MD5.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/GameMgr.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/MoveCamera.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Items/ItemMgr.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/StartScene/Loading.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/Monster/MonsterMgr.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/SceneMgr.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/MainScene/MainScene.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Heros/Formation/HeroPortrait.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/HP/HpMgr.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/Stage/StageDetails.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/TouchScreen.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/Configure.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/BattleScene.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Heros/HerosMgr.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/Test.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/Err.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/StartScene/StartScene.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/NetWork/Json2Exc.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/Stage/StagePoint.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/NetWork/NetWork.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/Attack/AtkMgr.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/Attack/Info.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/Stage/StageMaker.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/Stage/StageScene.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/Functions.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Error/BasicException.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/Attack/DmgCal.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/BattleFieldMaker.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/Generator.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/Subscribe.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Tools/ShowNum.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Heros/Formation/Formation.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/BattleField/HP/TotalHp.ts","../../file:/D:/PZB/Cocos3D/HelloTK/assets/Script/Heros/Formation/FormationBar.ts"],"names":["_class","_class2","_temp","_RF","push","undefined","ccclass","_decorator","property","_dec","_Component","AlertLbl","name","_this","call","this","_defineProperty","_assertThisInitialized","gen","Generator","getInstance","_inheritsLoose","ins","prototype","alert","content","parent","pos","lbl_node","generator","lbl","getComponent","Label","string","tween","by","position","v3","easing","destroy","start","Component","pop","HpNum","_len","arguments","length","args","Array","_key","apply","concat","_proto","onLoad","Err","print","init","hp","target","camp","_find","_this2","curHp","Functions","numToStr","camera","find","Camera","scheduleOnce","UIFllow3DNode","node","console","changeHp","value","rest","getCamp","SignUp","_this$node$getChildBy","_this$node$getChildBy2","_this$node$getChildBy3","_this$node$getChildBy4","_this$login_btn","ac_ed_box","getChildByName","EditBox","pw_ed_bix","regist_btn","Button","login_btn","on","login","ac","pw","LoginMsg","login_test","Subscribe","trigger","active","regist","ResMgr","resources","preloadDir","e","bundle_map","set","listen","loadBundle","list","Configure","getConfigure","forEach","assetManager","err","bundle","message","loadRes","bundle_name","path","type","callBack","caller","caller_func","param","get","load","res","loadDir","preLoad","preload","Map","uuid","userId","datetime","platform","others","pwCode","MD5","md5","loginJson","JSON","parse","toString","log","stringify","parseMsg","token","key","verifyCode","UserException","StageMgr","conf","stages","conf_map","goals_str","ist","getStageConf","stage_name","getStageGoal","idx","stage_conf","goal_strs","goal_conf","_goal_conf$split","split","goal","num","replace","_createClass","curr_stage","str","md5_RotateLeft","lValue","iShiftBits","md5_AddUnsigned","lX","lY","lX4","lY4","lX8","lY8","lResult","md5_FF","a","b","c","d","x","s","y","z","md5_F","md5_GG","md5_G","md5_HH","md5_H","md5_II","md5_I","md5_WordToHex","lCount","WordToHexValue","WordToHexValue_temp","substr","k","AA","BB","CC","DD","lWordCount","lMessageLength","lNumberOfWords_temp1","lNumberOfWords","lWordArray","lBytePosition","lByteCount","charCodeAt","md5_ConvertToWordArray","utftext","n","String","fromCharCode","md5_Utf8Encode","toLowerCase","GameMgr","director","pause","resume","Ray","geometry","MoveCamera","Vec3","changeScene","systemEvent","SystemEvent","EventType","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","TOUCH_CANCEL","onTouchEnd","TOUCH_END","scene_name","data","curr_conf","max_x","min_x","max_z","min_z","scale","max_scale","min_scale","camera_node","safe_area","t","t_num","getAllTouches","rayCast","touch_dist","getLocation","subtract","touchs","dist","scaleScene","getPosition","temp_x","getDeltaX","temp_z","getDeltaY","setPosition","screenPointToRay","getLocationX","getLocationY","ray","PhysicsSystem","instance","raycast","raycastResults","collider","rate","curr_scale","setScale","ItemMgr","item","getItemConf","id","Loading","start_btn","load_lbl","login_window","SceneMgr","loadScene","MonsterMgr","mst","getMonsterAttr","deepCopy","pb","ProgressBar","loadStart","_this3","preloadScene","completeCount","totalcount","ratio","progress","loadComplete","returnToStart","_director$getScene","getScene","MainScene","battle_btn","getChildByPath","_this$battle_btn","HeroPortrait","_this$sp_trigger","_this$sp_trigger2","unselected","selected","select_trigger","portrait","Sprite","name_lbl","lv_lbl","sp_trigger","sp_disable","sp_enable","is_select","changeSelected","bind","is_sp","changeSphero","SpriteFrame","spf","spriteFrame","HpMgr","num_root","total_hp","TotalHp","reset","num_map","clear","genHpNum","hero","new_hpBar","num_ctrl","getConf","hero_map","init_total_hp","heros","total","set_hp","bar","heroDie","hpNum","onDestroy","unscheduleAllCallbacks","StageDetails","changeSelect","description","i","goal_temp","reward_item_root","setItemList","items_conf","_this$reward_item_roo","_this$reward_item_roo2","itemMgr","reward_items","initItem","_this$reward_items$po","UITransform","setContentSize","Size","_node$getChildByName","sf","sp","numToChar","Math","floor","TouchScreen","mainCamera","SystemEventType","touch","touchRay","game","addPersistRootNode","JsonAsset","json","setting_dict","loaded","mod_name","size","BattleMgr","stage_data","battle_over","pause_btn","pause_window","result_node","victory","defeat","abandon","return_btn","agian_btn","goals_root","reward_root","confirm_btn","resume_btn","battle_again","isAbandon","isWin","goal_flags","setGoalNode","setRewardsNode","_this$goals_root","ui_trans","contentSize","width","goal_node","goal_lbl","disable","enable","_ref","_this4","count","_portrait$getChildByN","probToVal","portrait_sf","num_lbl","randomInSec","HerosMgr","settings","common","hero_conf","troop_conf","troop","getTroops","getHeroConf","has","getConfigureConf","tag","Test","_console","_x","_x2","_x3","script","func","error","stopGame","StartScene","_login_window$getChil","_login_window$getChil2","_login_window$getChil3","bg","start_btn_sp","login_bg","login_btn_sp","regist_btn_sp","sprite_map","Font","font","setFont","sprite","getSpriteFrame","children","child","Json2Exc","J2E","E2J","fpath","StagePoint","meshR","MeshRenderer","Material","_this2$meshR","enable_mtr","isEnabled","setMaterial","disable_mtr","select_mtr","_this2$meshR2","slt_flag","_this2$meshR3","uiParent","record","ui_target","ui_node","label","text","mstMgr","mst_conf","mst_pos_idxs","camera_pos","camera_tween","to","remove","stop","update","NetWork","WebSocket","ws","onopen","onmessage","event","onerror","onclose","readyState","OPEN","send","sendMsg","msg","sendFile","file","receiveMsg","params","nodeDict","shift","emit","AtkMgr","start_battle","allies","del","enemies","all","alternate","schedule","attack","target_Eff","dmg","DmgCal","calculate","atkEff","hitEff","play","Info","__id","__camp","__conf","atkEff_name","__atkEff","ParticleSystem","hitEff_name","__hitEff","arg","StageMaker","prepare","_this$mgr","mgr","stage_root","ui_root","getRecord","stage","new_stage","stage_ctrl","test_data","StageScene","_this$retrun_btn","retrun_btn","formation_btn","formation_node","sin","cos","pow","temp","digit","_char","char_map","_short","_long","indexOf","splice","uiNode","offset","convertToUINode","worldPosition","copy","getNodeByName","root","getNodeByPath","names","sumOfArray","arr","ps","values","section","random_num","random","_i","max","min","round","charAt","exch","array","idx_1","idx_2","sortStr","strs","low","high","low_s","high_S","_char2","EulerToQuaternion","v","wx","wy","wz","ww","v4","Multiply","q1","q2","w","ToRadian","math","toRadian","getInverse","q","mod_square","multiplyScalar","QuaternionRotate","qv","qr","inverse","qv_r","getRotateVec","Quat","invert","multiply","PARAM_COUNT","PARAM_TYPE","PARAM_NULL","_Error","BasicException","code","detail","map","check","appendMap","getCode","getMsg","getDetail","getErrPos","_wrapNativeSuper","Error","max_dmg_ratio","min_dmg_ratio","base_cri_dmg_rate","base_blk_dmg_rate","atker","defer","BattleFieldMaker","enemy_conf","army_node","ally_node","enemy_node","ally_conf","prePos","genArmies","hero_ids","pos_idxs","pos_idx","pos_vec","hero_node","info","Prefab","prefabs","p","prefab_map","_name","prefab","new_node","instantiate","client_map","_dec2","_descriptor","SpriteAtlas","_applyDecoratedDescriptor","ShowNum","_initializerDefineProperty","getNodeFromPool","index","numNode","_poolArr","Node","addComponent","removeChild","showNumber","frameName","sprAtlas","removeReset","numSpr","numArr","_numSpr$spriteFrame","addChild","rect","removeAllChildren","configurable","enumerable","writable","initializer","Formation","_this$finish_btn","hero_root","portrait_root","formation_name","bar_root","alert_root","formation_conf","max_selection","portraits","curr_formation_id","setFormationBar","finish_btn","hide","changeSpHero","changeFormation","sort_map","sort_type","setHero","onEnable","updateFormation","bar_root_trans","formation_conf_map","ctrl","FormationBar","formation_ctrl_map","_this$formation_ctrl_","_this$formation_ctrl_2","changeState","heros_conf_map","ids_sp","ids_nm","selected_hero_ids","ids","_hero_portrait$getCom","hero_portrait","call_back","_this$hero_map$get","canvas_pos","portrait_pos","update_hero","udpate_pos","_loop","portrait_sp","hero_id","_i2","isAdd","add_ids","del_ids","_ref2","del_idx","updateOder","sort_func","ids_idxs","_this$ally_bar","_this$ally_bar$node$g","_this$enemy_bar","_this$enemy_bar$node$","ally_bar","enemy_bar","ally_lbl","enemy_lbl","ally_max_hp","ally_cur_hp","enemy_max_hp","enemy_cur_hp","updateHp","val","intro_lbl","point_dis","point_en","curr_id","isEnable"],"mappings":"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","file":"all.js","sourcesContent":["import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"02386CL/INAE6RGI4YIrT9d\", \"AlertLbl\", undefined);\n\nimport { _decorator, Component, Label, tween, v3 } from 'cc';\nimport { Generator } from './Generator';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var AlertLbl = (_dec = ccclass('AlertLbl'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AlertLbl, _Component);\n\n  function AlertLbl(name) {\n    var _this;\n\n    _this = _Component.call(this, name) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"gen\", null);\n\n    _this.gen = Generator.getInstance();\n    return _this;\n  }\n\n  AlertLbl.getInstance = function getInstance() {\n    if (!AlertLbl.ins) {\n      AlertLbl.ins = new AlertLbl(\"AlertLbl\");\n    }\n\n    return AlertLbl.ins;\n  };\n\n  var _proto = AlertLbl.prototype;\n\n  _proto.alert = function alert(content, parent, pos) {\n    if (!this.gen) {\n      return;\n    }\n\n    var lbl_node = this.gen.generator(parent, \"Alert_Label\", pos);\n    var lbl = lbl_node === null || lbl_node === void 0 ? void 0 : lbl_node.getComponent(Label);\n\n    if (lbl) {\n      lbl.string = content;\n    }\n\n    tween(lbl_node).by(1, {\n      position: v3(0, 150, 0)\n    }, {\n      easing: \"fade\"\n    }).call(function () {\n      lbl_node === null || lbl_node === void 0 ? void 0 : lbl_node.destroy();\n    }).start();\n  };\n\n  return AlertLbl;\n}(Component), _defineProperty(_class2, \"ins\", void 0), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"029f87Zhc9Bba11wecL2YPI\", \"HpNum\", undefined);\n\nimport { _decorator, Component, find, Label, Camera } from 'cc';\nimport { Err } from '../../Tools/Err';\nimport { Functions } from '../../Tools/Functions';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var HpNum = (_dec = ccclass('HpNum'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(HpNum, _Component);\n\n  function HpNum() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"lbl\", new Label());\n\n    _defineProperty(_assertThisInitialized(_this), \"curHp\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"camp\", \"\");\n\n    return _this;\n  }\n\n  var _proto = HpNum.prototype;\n\n  // 阵营\n  _proto.onLoad = function onLoad() {\n    var lbl = this.getComponent(Label);\n\n    if (!lbl) {\n      Err.print(\"Node doesn't have component named \\'Label\\'!\", this.name, this.onLoad.name);\n      return;\n    }\n\n    this.lbl = lbl;\n  };\n\n  _proto.init = function init(hp, target, camp) {\n    var _find,\n        _this2 = this;\n\n    // 血量，血量跟随的3D物体，阵营\n    if (!this.lbl) {\n      Err.console(\"Label hasn't initialized!\", this.name, this.init.name);\n      return;\n    }\n\n    this.curHp = hp;\n    this.lbl.string = Functions.numToStr(this.curHp); // 数字转字符串并设置\n\n    this.camp = camp;\n    var camera = (_find = find(\"/Main Camera\")) === null || _find === void 0 ? void 0 : _find.getComponent(Camera); // 主摄像机\n\n    this.scheduleOnce(function () {\n      if (!camera) {\n        Err.console(\"Can't find camera!\", _this2.name, _this2.init.name);\n        return;\n      }\n\n      Functions.UIFllow3DNode(_this2.node, camera, target); // 防止节点位置未初始化，间隔短暂时间后修正一次位置\n    }, 0.1);\n  };\n\n  _proto.changeHp = function changeHp(value) {\n    // 血量变化\n    var rest = this.curHp + value;\n    this.curHp = rest > 0 ? rest : 0;\n    this.lbl.string = Functions.numToStr(this.curHp);\n    return rest;\n  } // 获取当前血量所属单位的阵营\n  ;\n\n  _proto.getCamp = function getCamp() {\n    return this.camp;\n  };\n\n  return HpNum;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"0521djfz5hPkpHOEwNXbvWb\", \"SignUp\", undefined);\n\nimport { _decorator, Component, EditBox, Button } from 'cc';\nimport { LoginMsg } from '../NetWork/LoginMsg';\nimport { Err } from '../Tools/Err';\nimport { Subscribe } from '../Tools/Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var SignUp = (_dec = ccclass('SignUp'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(SignUp, _Component);\n\n  function SignUp() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"ac_ed_box\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"pw_ed_bix\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"regist_btn\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"login_btn\", null);\n\n    return _this;\n  }\n\n  var _proto = SignUp.prototype;\n\n  _proto.onLoad = function onLoad() {\n    var _this$node$getChildBy,\n        _this$node$getChildBy2,\n        _this$node$getChildBy3,\n        _this$node$getChildBy4,\n        _this$login_btn,\n        _this2 = this;\n\n    this.ac_ed_box = (_this$node$getChildBy = this.node.getChildByName(\"Ac_ed_box\")) === null || _this$node$getChildBy === void 0 ? void 0 : _this$node$getChildBy.getComponent(EditBox);\n    this.pw_ed_bix = (_this$node$getChildBy2 = this.node.getChildByName(\"Pw_ed_box\")) === null || _this$node$getChildBy2 === void 0 ? void 0 : _this$node$getChildBy2.getComponent(EditBox);\n    this.regist_btn = (_this$node$getChildBy3 = this.node.getChildByName(\"Regist\")) === null || _this$node$getChildBy3 === void 0 ? void 0 : _this$node$getChildBy3.getComponent(Button);\n    this.login_btn = (_this$node$getChildBy4 = this.node.getChildByName(\"Login\")) === null || _this$node$getChildBy4 === void 0 ? void 0 : _this$node$getChildBy4.getComponent(Button);\n    (_this$login_btn = this.login_btn) === null || _this$login_btn === void 0 ? void 0 : _this$login_btn.node.on(\"click\", function () {\n      if (!_this2.ac_ed_box || !_this2.pw_ed_bix || !_this2.regist_btn || !_this2.login_btn) {\n        Err.alert(\"严重错误！请检查各节点名称！\", _this2.name, _this2.login.name);\n        return;\n      }\n\n      _this2.login(_this2.ac_ed_box.string, _this2.pw_ed_bix.string);\n    });\n  };\n\n  _proto.login = function login(ac, pw) {\n    // #####################################\n    if (LoginMsg.login_test()) {\n      Subscribe.trigger(\"login success\");\n      this.node.active = false;\n    } // #####################################\n\n  };\n\n  _proto.regist = function regist() {};\n\n  return SignUp;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"0e731+tczZBD4xyIdUQzmV9\", \"Gesture\", undefined);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"0ef46VNddxJSqnQ0y8rYn5y\", \"ResMgr\", undefined);\n\nimport { _decorator, Component, resources, assetManager } from 'cc';\nimport { Configure } from './Configure';\nimport { Err } from './Err';\nimport { Subscribe } from './Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var ResMgr = (_dec = ccclass('ResMgr'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ResMgr, _Component);\n\n  function ResMgr() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = ResMgr.prototype;\n\n  _proto.onLoad = function onLoad() {\n    try {\n      resources.preloadDir(\"/\");\n    } catch (e) {\n      Err.print(e, this.name, this.onLoad.name);\n      return;\n    }\n\n    ResMgr.bundle_map.set(\"resources\", resources); // 将内置资源bundle放入map\n\n    Subscribe.trigger(\"resources loaded\");\n    Subscribe.listen(\"settings loaded\", this.name, ResMgr.loadBundle, this);\n  };\n\n  ResMgr.loadBundle = function loadBundle() {\n    // ############# 远程的bundle需要给出服务器访问文件夹的地址 ########\n    var list = Configure.getConfigure(\"bundle_list\")[\"bundles\"];\n\n    if (!list) {\n      Err.alert(\"未知错误!\", this.name, this.loadBundle.name);\n      return;\n    }\n\n    var rest = list.length;\n    list.forEach(function (name) {\n      assetManager.loadBundle(name, function (err, bundle) {\n        if (err) {\n          Err.print(err.message, ResMgr.name, ResMgr.loadBundle.name);\n          return;\n        }\n\n        ResMgr.bundle_map.set(name, bundle);\n\n        if (--rest < 1) {\n          Subscribe.trigger(\"bundle loaded\");\n        }\n      });\n    });\n  };\n\n  ResMgr.loadRes = function loadRes(bundle_name, path, type, callBack, caller, caller_func, param) {\n    // 加载资源\n    var bundle = ResMgr.bundle_map.get(bundle_name);\n\n    if (!bundle) {\n      Err.print(\"Bundle not found: \" + bundle_name, ResMgr.name, ResMgr.loadRes.name);\n      return;\n    }\n\n    bundle.load(path, type, null, function (err, res) {\n      if (err) {\n        Err.console(err.message, caller, caller_func);\n        callBack(null, param);\n        return;\n      }\n\n      callBack(res, param);\n    });\n  };\n\n  ResMgr.loadDir = function loadDir(bundle_name, path, type, callBack, caller, caller_func, param) {\n    // 加载文件夹\n    var bundle = ResMgr.bundle_map.get(bundle_name);\n\n    if (!bundle) {\n      Err.print(\"Bundle not found: \" + bundle_name, ResMgr.name, ResMgr.loadRes.name);\n      return;\n    }\n\n    bundle.loadDir(path, type, function (err, res) {\n      if (err) {\n        Err.console(err.message, caller, caller_func);\n        callBack(null, param);\n        return;\n      }\n\n      callBack(res, param);\n    });\n  };\n\n  ResMgr.preLoad = function preLoad(bundle_name, path, type) {\n    // 预加载\n    var bundle = ResMgr.bundle_map.get(bundle_name);\n\n    if (!bundle) {\n      Err.console(\"Bundle not found: \" + bundle_name, ResMgr.name, ResMgr.loadRes.name);\n      return;\n    }\n\n    bundle.preload(path, type);\n  };\n\n  return ResMgr;\n}(Component), _defineProperty(_class2, \"bundle_map\", new Map()), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"1baf6txLnhNJIGGwD6DATCN\", \"LoginMsg\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { Configure } from '../Tools/Configure';\nimport { Err } from '../Tools/Err';\nimport { Subscribe } from '../Tools/Subscribe';\nimport { MD5 } from './MD5';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var LoginMsg = (_dec = ccclass('LoginMsg'), _dec(_class = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(LoginMsg, _Component);\n\n  function LoginMsg() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = LoginMsg.prototype;\n\n  _proto.onLoad = function onLoad() {\n    // console.log(Date.parse(\"2021-9-8 8:38\"))\n    // this.node.on(\"settings loaded\", () => {\n    //     // this.parseMsg(\"user_pzb\", 1631061480000, \"web\", \"d71148d40d2936ba917b8fa636f33fee\");\n    //     this.login(\"user_pzb\", \"rj162pzb\", 1631061480000, \"web\", \"\");\n    // });\n    Subscribe.listen(\"settings loaded\", this.node.uuid, function () {// this.parseMsg(\"user_pzb\", 1631061480000, \"web\", \"d71148d40d2936ba917b8fa636f33fee\");\n      // this.login(\"user_pzb\", \"rj162pzb\", 1631061480000, \"web\", \"\");\n    });\n  };\n\n  LoginMsg.login_test = function login_test() {\n    return true;\n  };\n\n  _proto.login = function login(userId, pw, datetime, platform, others) {\n    Subscribe.trigger(\"login success\", \"\");\n    var pwCode = MD5.md5(pw);\n    var loginJson = JSON.parse(\"{}\");\n    loginJson[\"userId\"] = userId;\n    loginJson[\"pwCode\"] = pwCode;\n    loginJson[\"datetime\"] = datetime.toString();\n    loginJson[\"platform\"] = platform;\n    loginJson[\"others\"] = others;\n    console.log(JSON.stringify(loginJson));\n    console.log(MD5.md5(JSON.stringify(loginJson)));\n  };\n\n  _proto.parseMsg = function parseMsg(userId, datetime, platform, token, others) {\n    var key = Configure.getConfigure(\"base\")[\"VerifyKey\"];\n\n    if (!key) {\n      Err.alert(\"Can't get the verify key!\", this.name, this.parseMsg.name);\n      return;\n    }\n\n    var verifyCode = MD5.md5(userId + datetime.toString() + platform + others + key);\n    console.log(verifyCode);\n\n    if (verifyCode === token) {\n      ; // 验证成功，允许登录\n\n      console.log(\"Success.\");\n    } else {\n      ; // 验证失败，不允许登录\n\n      console.log(\"Failed.\");\n    }\n  };\n\n  return LoginMsg;\n}(Component)) || _class);\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\r\n */\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"1fb57XsV7JEqLEe2HE/kC62\", \"UserException\", undefined);\n\nimport { _decorator, Component } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var UserException = (_dec = ccclass('UserException'), _dec(_class = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(UserException, _Component);\n\n  function UserException() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = UserException.prototype;\n\n  // [1]\n  // dummy = '';\n  // [2]\n  // @property\n  // serializableDummy = 0;\n  _proto.start = function start() {// [3]\n  } // update (deltaTime: number) {\n  //     // [4]\n  // }\n  ;\n\n  return UserException;\n}(Component)) || _class);\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\r\n */\n\n_cclegacy._RF.pop();","import { createClass as _createClass } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"21b91aIK2VH7o5UfDdN/9e/\", \"StageMgr\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { Configure } from '../../Tools/Configure';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var StageMgr = (_dec = ccclass('StageMgr'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(StageMgr, _Component);\n\n  function StageMgr(name) {\n    var _this;\n\n    _this = _Component.call(this, name) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"conf\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"conf_map\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"goals_str\", void 0);\n\n    _this.conf = Configure.getConfigure(\"stage\");\n\n    if (_this.conf) {\n      // 初始化时读取关卡配置\n      _this.conf[\"stages\"].forEach(function (stages) {\n        _this.conf_map.set(stages[\"id\"], stages);\n      });\n    }\n\n    _this.goals_str = _this.conf[\"goals\"];\n    return _this;\n  }\n\n  StageMgr.getInstance = function getInstance() {\n    if (!StageMgr.ist) {\n      StageMgr.ist = new StageMgr(\"StageMgr\");\n    }\n\n    return StageMgr.ist;\n  } // 获取关卡配置\n  ;\n\n  var _proto = StageMgr.prototype;\n\n  _proto.getStageConf = function getStageConf(stage_name) {\n    return this.conf_map.get(stage_name);\n  };\n\n  _proto.getStageGoal = function getStageGoal(stage_name, idx) {\n    var _this2 = this;\n\n    // 获取关卡三星目标条件\n    var stage_conf = this.conf_map.get(stage_name)[\"stage\"][idx];\n    var goal_strs = [];\n    stage_conf[\"goal\"].forEach(function (goal_conf) {\n      var _goal_conf$split = goal_conf.split(\":\"),\n          goal = _goal_conf$split[0],\n          num = _goal_conf$split[1];\n\n      goal_strs.push(_this2.goals_str[goal].replace(_this2.goals_str[\"replacement\"], num.toString()));\n    });\n    return goal_strs;\n  } // 设置当前关卡名s\n  ;\n\n  _createClass(StageMgr, [{\n    key: \"curr_stage\",\n    get: function get() {\n      return StageMgr.curr_stage;\n    },\n    set: function set(stage_name) {\n      StageMgr.curr_stage = stage_name;\n    }\n  }]);\n\n  return StageMgr;\n}(Component), _defineProperty(_class2, \"ist\", void 0), _defineProperty(_class2, \"curr_stage\", \"\"), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"25a71ODzcdIrbRBys+9/Vrd\", \"MD5\", undefined);\n\nimport { _decorator, Component } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var MD5 = (_dec = ccclass('MD5'), _dec(_class = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(MD5, _Component);\n\n  function MD5() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  MD5.md5 = function md5(str) {\n    function md5_RotateLeft(lValue, iShiftBits) {\n      return lValue << iShiftBits | lValue >>> 32 - iShiftBits;\n    }\n\n    function md5_AddUnsigned(lX, lY) {\n      var lX4, lY4, lX8, lY8, lResult;\n      lX8 = lX & 0x80000000;\n      lY8 = lY & 0x80000000;\n      lX4 = lX & 0x40000000;\n      lY4 = lY & 0x40000000;\n      lResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF);\n\n      if (lX4 & lY4) {\n        return lResult ^ 0x80000000 ^ lX8 ^ lY8;\n      }\n\n      if (lX4 | lY4) {\n        if (lResult & 0x40000000) {\n          return lResult ^ 0xC0000000 ^ lX8 ^ lY8;\n        } else {\n          return lResult ^ 0x40000000 ^ lX8 ^ lY8;\n        }\n      } else {\n        return lResult ^ lX8 ^ lY8;\n      }\n    }\n\n    function md5_F(x, y, z) {\n      return x & y | ~x & z;\n    }\n\n    function md5_G(x, y, z) {\n      return x & z | y & ~z;\n    }\n\n    function md5_H(x, y, z) {\n      return x ^ y ^ z;\n    }\n\n    function md5_I(x, y, z) {\n      return y ^ (x | ~z);\n    }\n\n    function md5_FF(a, b, c, d, x, s, ac) {\n      a = md5_AddUnsigned(a, md5_AddUnsigned(md5_AddUnsigned(md5_F(b, c, d), x), ac));\n      return md5_AddUnsigned(md5_RotateLeft(a, s), b);\n    }\n\n    ;\n\n    function md5_GG(a, b, c, d, x, s, ac) {\n      a = md5_AddUnsigned(a, md5_AddUnsigned(md5_AddUnsigned(md5_G(b, c, d), x), ac));\n      return md5_AddUnsigned(md5_RotateLeft(a, s), b);\n    }\n\n    ;\n\n    function md5_HH(a, b, c, d, x, s, ac) {\n      a = md5_AddUnsigned(a, md5_AddUnsigned(md5_AddUnsigned(md5_H(b, c, d), x), ac));\n      return md5_AddUnsigned(md5_RotateLeft(a, s), b);\n    }\n\n    ;\n\n    function md5_II(a, b, c, d, x, s, ac) {\n      a = md5_AddUnsigned(a, md5_AddUnsigned(md5_AddUnsigned(md5_I(b, c, d), x), ac));\n      return md5_AddUnsigned(md5_RotateLeft(a, s), b);\n    }\n\n    ;\n\n    function md5_ConvertToWordArray(str) {\n      var lWordCount;\n      var lMessageLength = str.length;\n      var lNumberOfWords_temp1 = lMessageLength + 8;\n      var lNumberOfWords_temp2 = (lNumberOfWords_temp1 - lNumberOfWords_temp1 % 64) / 64;\n      var lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16;\n      var lWordArray = Array(lNumberOfWords - 1);\n      var lBytePosition = 0;\n      var lByteCount = 0;\n\n      while (lByteCount < lMessageLength) {\n        lWordCount = (lByteCount - lByteCount % 4) / 4;\n        lBytePosition = lByteCount % 4 * 8;\n        lWordArray[lWordCount] = lWordArray[lWordCount] | str.charCodeAt(lByteCount) << lBytePosition;\n        lByteCount++;\n      }\n\n      lWordCount = (lByteCount - lByteCount % 4) / 4;\n      lBytePosition = lByteCount % 4 * 8;\n      lWordArray[lWordCount] = lWordArray[lWordCount] | 0x80 << lBytePosition;\n      lWordArray[lNumberOfWords - 2] = lMessageLength << 3;\n      lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\n      return lWordArray;\n    }\n\n    ;\n\n    function md5_WordToHex(lValue) {\n      var WordToHexValue = \"\",\n          WordToHexValue_temp = \"\",\n          lByte,\n          lCount;\n\n      for (lCount = 0; lCount <= 3; lCount++) {\n        lByte = lValue >>> lCount * 8 & 255;\n        WordToHexValue_temp = \"0\" + lByte.toString(16);\n        WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length - 2, 2);\n      }\n\n      return WordToHexValue;\n    }\n\n    ;\n\n    function md5_Utf8Encode(str) {\n      str = str.replace(/\\r\\n/g, \"\\n\");\n      var utftext = \"\";\n\n      for (var n = 0; n < str.length; n++) {\n        var c = str.charCodeAt(n);\n\n        if (c < 128) {\n          utftext += String.fromCharCode(c);\n        } else if (c > 127 && c < 2048) {\n          utftext += String.fromCharCode(c >> 6 | 192);\n          utftext += String.fromCharCode(c & 63 | 128);\n        } else {\n          utftext += String.fromCharCode(c >> 12 | 224);\n          utftext += String.fromCharCode(c >> 6 & 63 | 128);\n          utftext += String.fromCharCode(c & 63 | 128);\n        }\n      }\n\n      return utftext;\n    }\n\n    ;\n    var x = Array();\n    var k, AA, BB, CC, DD, a, b, c, d;\n    var S11 = 7,\n        S12 = 12,\n        S13 = 17,\n        S14 = 22;\n    var S21 = 5,\n        S22 = 9,\n        S23 = 14,\n        S24 = 20;\n    var S31 = 4,\n        S32 = 11,\n        S33 = 16,\n        S34 = 23;\n    var S41 = 6,\n        S42 = 10,\n        S43 = 15,\n        S44 = 21;\n    str = md5_Utf8Encode(str);\n    x = md5_ConvertToWordArray(str);\n    a = 0x67452301;\n    b = 0xEFCDAB89;\n    c = 0x98BADCFE;\n    d = 0x10325476;\n\n    for (k = 0; k < x.length; k += 16) {\n      AA = a;\n      BB = b;\n      CC = c;\n      DD = d;\n      a = md5_FF(a, b, c, d, x[k + 0], S11, 0xD76AA478);\n      d = md5_FF(d, a, b, c, x[k + 1], S12, 0xE8C7B756);\n      c = md5_FF(c, d, a, b, x[k + 2], S13, 0x242070DB);\n      b = md5_FF(b, c, d, a, x[k + 3], S14, 0xC1BDCEEE);\n      a = md5_FF(a, b, c, d, x[k + 4], S11, 0xF57C0FAF);\n      d = md5_FF(d, a, b, c, x[k + 5], S12, 0x4787C62A);\n      c = md5_FF(c, d, a, b, x[k + 6], S13, 0xA8304613);\n      b = md5_FF(b, c, d, a, x[k + 7], S14, 0xFD469501);\n      a = md5_FF(a, b, c, d, x[k + 8], S11, 0x698098D8);\n      d = md5_FF(d, a, b, c, x[k + 9], S12, 0x8B44F7AF);\n      c = md5_FF(c, d, a, b, x[k + 10], S13, 0xFFFF5BB1);\n      b = md5_FF(b, c, d, a, x[k + 11], S14, 0x895CD7BE);\n      a = md5_FF(a, b, c, d, x[k + 12], S11, 0x6B901122);\n      d = md5_FF(d, a, b, c, x[k + 13], S12, 0xFD987193);\n      c = md5_FF(c, d, a, b, x[k + 14], S13, 0xA679438E);\n      b = md5_FF(b, c, d, a, x[k + 15], S14, 0x49B40821);\n      a = md5_GG(a, b, c, d, x[k + 1], S21, 0xF61E2562);\n      d = md5_GG(d, a, b, c, x[k + 6], S22, 0xC040B340);\n      c = md5_GG(c, d, a, b, x[k + 11], S23, 0x265E5A51);\n      b = md5_GG(b, c, d, a, x[k + 0], S24, 0xE9B6C7AA);\n      a = md5_GG(a, b, c, d, x[k + 5], S21, 0xD62F105D);\n      d = md5_GG(d, a, b, c, x[k + 10], S22, 0x2441453);\n      c = md5_GG(c, d, a, b, x[k + 15], S23, 0xD8A1E681);\n      b = md5_GG(b, c, d, a, x[k + 4], S24, 0xE7D3FBC8);\n      a = md5_GG(a, b, c, d, x[k + 9], S21, 0x21E1CDE6);\n      d = md5_GG(d, a, b, c, x[k + 14], S22, 0xC33707D6);\n      c = md5_GG(c, d, a, b, x[k + 3], S23, 0xF4D50D87);\n      b = md5_GG(b, c, d, a, x[k + 8], S24, 0x455A14ED);\n      a = md5_GG(a, b, c, d, x[k + 13], S21, 0xA9E3E905);\n      d = md5_GG(d, a, b, c, x[k + 2], S22, 0xFCEFA3F8);\n      c = md5_GG(c, d, a, b, x[k + 7], S23, 0x676F02D9);\n      b = md5_GG(b, c, d, a, x[k + 12], S24, 0x8D2A4C8A);\n      a = md5_HH(a, b, c, d, x[k + 5], S31, 0xFFFA3942);\n      d = md5_HH(d, a, b, c, x[k + 8], S32, 0x8771F681);\n      c = md5_HH(c, d, a, b, x[k + 11], S33, 0x6D9D6122);\n      b = md5_HH(b, c, d, a, x[k + 14], S34, 0xFDE5380C);\n      a = md5_HH(a, b, c, d, x[k + 1], S31, 0xA4BEEA44);\n      d = md5_HH(d, a, b, c, x[k + 4], S32, 0x4BDECFA9);\n      c = md5_HH(c, d, a, b, x[k + 7], S33, 0xF6BB4B60);\n      b = md5_HH(b, c, d, a, x[k + 10], S34, 0xBEBFBC70);\n      a = md5_HH(a, b, c, d, x[k + 13], S31, 0x289B7EC6);\n      d = md5_HH(d, a, b, c, x[k + 0], S32, 0xEAA127FA);\n      c = md5_HH(c, d, a, b, x[k + 3], S33, 0xD4EF3085);\n      b = md5_HH(b, c, d, a, x[k + 6], S34, 0x4881D05);\n      a = md5_HH(a, b, c, d, x[k + 9], S31, 0xD9D4D039);\n      d = md5_HH(d, a, b, c, x[k + 12], S32, 0xE6DB99E5);\n      c = md5_HH(c, d, a, b, x[k + 15], S33, 0x1FA27CF8);\n      b = md5_HH(b, c, d, a, x[k + 2], S34, 0xC4AC5665);\n      a = md5_II(a, b, c, d, x[k + 0], S41, 0xF4292244);\n      d = md5_II(d, a, b, c, x[k + 7], S42, 0x432AFF97);\n      c = md5_II(c, d, a, b, x[k + 14], S43, 0xAB9423A7);\n      b = md5_II(b, c, d, a, x[k + 5], S44, 0xFC93A039);\n      a = md5_II(a, b, c, d, x[k + 12], S41, 0x655B59C3);\n      d = md5_II(d, a, b, c, x[k + 3], S42, 0x8F0CCC92);\n      c = md5_II(c, d, a, b, x[k + 10], S43, 0xFFEFF47D);\n      b = md5_II(b, c, d, a, x[k + 1], S44, 0x85845DD1);\n      a = md5_II(a, b, c, d, x[k + 8], S41, 0x6FA87E4F);\n      d = md5_II(d, a, b, c, x[k + 15], S42, 0xFE2CE6E0);\n      c = md5_II(c, d, a, b, x[k + 6], S43, 0xA3014314);\n      b = md5_II(b, c, d, a, x[k + 13], S44, 0x4E0811A1);\n      a = md5_II(a, b, c, d, x[k + 4], S41, 0xF7537E82);\n      d = md5_II(d, a, b, c, x[k + 11], S42, 0xBD3AF235);\n      c = md5_II(c, d, a, b, x[k + 2], S43, 0x2AD7D2BB);\n      b = md5_II(b, c, d, a, x[k + 9], S44, 0xEB86D391);\n      a = md5_AddUnsigned(a, AA);\n      b = md5_AddUnsigned(b, BB);\n      c = md5_AddUnsigned(c, CC);\n      d = md5_AddUnsigned(d, DD);\n    }\n\n    return (md5_WordToHex(a) + md5_WordToHex(b) + md5_WordToHex(c) + md5_WordToHex(d)).toLowerCase();\n  };\n\n  return MD5;\n}(Component)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"279517QfXNMg4C3xbah+L+g\", \"GameMgr\", undefined);\n\nimport { _decorator, Component, director } from 'cc';\nimport { Subscribe } from './Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var GameMgr = (_dec = ccclass('GameMgr'), _dec(_class = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(GameMgr, _Component);\n\n  function GameMgr() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = GameMgr.prototype;\n\n  _proto.onLoad = function onLoad() {\n    Subscribe.listen(\"pause\", this.name, function () {\n      director.pause();\n    }); // 暂停游戏\n\n    Subscribe.listen(\"resume\", this.name, function () {\n      director.resume();\n    }); // 恢复游戏\n  };\n\n  return GameMgr;\n}(Component)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"27abeYjJkNK3IcFRq8cRSsm\", \"MoveCamera\", undefined);\n\nimport { _decorator, Component, Camera, geometry, find, systemEvent, PhysicsSystem, Vec3, v3, SystemEvent } from 'cc';\nimport { Configure } from './Configure';\nimport { Err } from './Err';\nimport { Subscribe } from './Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nvar Ray = geometry.Ray;\nexport var MoveCamera = (_dec = ccclass('MoveCamera'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(MoveCamera, _Component);\n\n  // 各个场景拖动摄像头的配置\n  // 当前场景拖动摄像头的配置\n  // 当前场景的摄像头\n  // 检测碰撞用的射线\n  // 边界\n  // 摄像头当前位置\n  // 双指在屏幕上触点之间的距离\n  // 当前缩放比例\n  // 最大缩放比例\n  // 最小缩放比例\n  // 整个3D场景的父节点(缩放用，但私以为这么做不是一个好方案)\n  function MoveCamera(name) {\n    var _this;\n\n    _this = _Component.call(this, name) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"conf\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"curr_conf\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"camera\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"ray\", new Ray());\n\n    _defineProperty(_assertThisInitialized(_this), \"max_x\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"min_x\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"max_z\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"min_z\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"pos\", new Vec3());\n\n    _defineProperty(_assertThisInitialized(_this), \"touch_dist\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"scale\", 1);\n\n    _defineProperty(_assertThisInitialized(_this), \"max_scale\", 1);\n\n    _defineProperty(_assertThisInitialized(_this), \"min_scale\", 1);\n\n    _defineProperty(_assertThisInitialized(_this), \"safe_area\", null);\n\n    _this.conf = Configure.getConfigure(\"base\")[\"camera_move\"]; // 读取配置文件\n\n    Subscribe.listen(\"change scene\", _this.name, _this.changeScene, _assertThisInitialized(_this)); // 监听切换场景消息\n\n    systemEvent.on(SystemEvent.EventType.TOUCH_START, _this.onTouchStart, _assertThisInitialized(_this)); // 注册触摸事件\n\n    systemEvent.on(SystemEvent.EventType.TOUCH_MOVE, _this.onTouchMove, _assertThisInitialized(_this));\n    systemEvent.on(SystemEvent.EventType.TOUCH_CANCEL, _this.onTouchEnd, _assertThisInitialized(_this));\n    systemEvent.on(SystemEvent.EventType.TOUCH_END, _this.onTouchEnd, _assertThisInitialized(_this));\n\n    _this.changeScene(\"StartScene\", null); // 第一次进入游戏\n\n\n    return _this;\n  }\n\n  MoveCamera.getInstance = function getInstance() {\n    // 获取单例\n    if (!MoveCamera.ist) {\n      MoveCamera.ist = new MoveCamera(\"MoveCamera\");\n    }\n\n    return MoveCamera.ist;\n  };\n\n  var _proto = MoveCamera.prototype;\n\n  _proto.changeScene = function changeScene(scene_name, data) {\n    this.curr_conf = this.conf[scene_name]; // 根据场景名称更改当前配置\n\n    this.max_x = this.curr_conf[\"max_x\"];\n    this.min_x = this.curr_conf[\"min_x\"];\n    this.max_z = this.curr_conf[\"max_z\"];\n    this.min_z = this.curr_conf[\"min_z\"];\n    this.scale = 1;\n    this.max_scale = this.curr_conf[\"max_scale\"];\n    this.min_scale = this.curr_conf[\"min_scale\"];\n    var camera_node = find(\"Main Camera\"); // 更换到新场景的摄像头\n\n    if (!camera_node) {\n      Err.console(\"Can't find Main Camera!\", this.name, this.changeScene.name);\n      return;\n    }\n\n    this.camera = camera_node.getComponent(Camera); // 获取摄像头控件\n\n    this.safe_area = find(\"SafeArea\"); // 获取整个3D场景的父节点\n  };\n\n  _proto.onTouchStart = function onTouchStart(t, e) {\n    if (!this.curr_conf || !this.curr_conf[\"enable\"] || !this.camera) {\n      return;\n    } // 未配置该场景或未使用移动摄像头功能\n\n\n    var t_num = e.getAllTouches().length; // 获取手指数量\n\n    if (t_num === 1) {\n      // 一根手指则为移动模式\n      if (this.curr_conf[\"ray_cast\"]) {\n        this.rayCast(e, \"start\");\n      } // 检测射线碰撞，以 触发点击事件\n\n\n      Subscribe.trigger(\"touch screen start\"); // 发射触摸屏幕事件\n    } else if (t_num === 2) {\n      // 两根手指则为缩放模式\n      // 在触摸开始的时候记录两手指在屏幕上触点间的距离\n      this.touch_dist = e.getAllTouches()[0].getLocation().subtract(e.getAllTouches()[1].getLocation()).length();\n    }\n  };\n\n  _proto.onTouchMove = function onTouchMove(t, e) {\n    if (!this.curr_conf || !this.curr_conf[\"enable\"] || !this.camera) {\n      return;\n    } // 未配置该场景或未使用移动摄像头功能\n\n\n    var t_num = e.getAllTouches().length; // 获取手指数量\n\n    if (t_num === 2) {\n      var touchs = e.getAllTouches();\n      var dist = touchs[0].getLocation().subtract(touchs[1].getLocation()).length();\n      this.scaleScene(dist / this.touch_dist > 1 ? 1.01 : 0.99);\n    } else if (t_num === 1) {\n      this.camera.node.getPosition(this.pos); // 获取初始位置\n\n      var temp_x = this.pos.x - e.getDeltaX() * 0.1; // 根据位移量计算摄像机的位移\n\n      var temp_z = this.pos.z + e.getDeltaY() * 0.1;\n      this.pos.x = temp_x > this.max_x ? this.max_x : temp_x < this.min_x ? this.min_x : temp_x; // 边缘检测\n\n      this.pos.z = temp_z > this.max_z ? this.max_z : temp_z < this.min_z ? this.min_z : temp_z;\n      this.camera.node.setPosition(this.pos); // 应用位移\n    }\n  };\n\n  _proto.onTouchEnd = function onTouchEnd(t, e) {\n    if (!this.curr_conf || !this.curr_conf[\"enable\"] || !this.camera) {\n      return;\n    } // 未配置该场景或未使用移动摄像头功能\n\n\n    if (this.curr_conf[\"ray_cast\"]) {\n      this.rayCast(e, \"end\");\n    }\n\n    var t_num = e.getAllTouches().length;\n    if (t_num <= 1) Subscribe.trigger(\"touch screen end\");\n  };\n\n  _proto.rayCast = function rayCast(e, type) {\n    // 射线检测\n    if (!this.camera) {\n      return;\n    }\n\n    this.camera.screenPointToRay(e.getLocationX(), e.getLocationY(), this.ray); // 发出射线\n\n    if (PhysicsSystem.instance.raycast(this.ray)) {\n      // 检测碰撞\n      var res = PhysicsSystem.instance.raycastResults; // 获得检测结果\n\n      if (res.length <= 0) {\n        return;\n      }\n\n      Subscribe.trigger(\"touch_\" + type + res[0].collider.node.uuid); // 发射结果\n\n      Subscribe.trigger(\"touch_\" + type);\n    }\n  };\n\n  _proto.scaleScene = function scaleScene(rate) {\n    if (!this.safe_area) {\n      return;\n    }\n\n    var curr_scale = this.scale;\n    this.scale *= rate;\n    this.scale = this.scale < this.min_scale ? this.min_scale : this.scale;\n    this.scale = this.scale > this.max_scale ? this.max_scale : this.scale;\n\n    if (this.scale != curr_scale * rate) {\n      rate = this.scale / curr_scale;\n    }\n\n    this.safe_area.setScale(v3(this.scale, this.scale, this.scale));\n  };\n\n  return MoveCamera;\n}(Component), _defineProperty(_class2, \"ist\", void 0), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"2bef4ydqjFJqbO7Ejx9GKkU\", \"ItemMgr\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { Configure } from '../Tools/Configure';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var ItemMgr = (_dec = ccclass('ItemMgr'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ItemMgr, _Component);\n\n  function ItemMgr(name) {\n    var _this;\n\n    _this = _Component.call(this, name) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"conf\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"conf_map\", new Map());\n\n    _this.conf = Configure.getConfigure(\"items\");\n\n    if (_this.conf) {\n      _this.conf[\"items\"].forEach(function (item) {\n        _this.conf_map.set(item[\"id\"], item);\n      });\n    }\n\n    return _this;\n  }\n\n  ItemMgr.getInstance = function getInstance() {\n    if (!ItemMgr.ist) {\n      ItemMgr.ist = new ItemMgr(\"ItemMgr\");\n    }\n\n    return ItemMgr.ist;\n  } // 获取物品信息\n  ;\n\n  var _proto = ItemMgr.prototype;\n\n  _proto.getItemConf = function getItemConf(id) {\n    return this.conf_map.get(id);\n  };\n\n  return ItemMgr;\n}(Component), _defineProperty(_class2, \"ist\", null), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"2c163r0rQFM5oGD3vz4cIHR\", \"Loading\", undefined);\n\nimport { _decorator, Component, Label } from 'cc';\nimport { Generator } from '../Tools/Generator';\nimport { SceneMgr } from '../Tools/SceneMgr';\nimport { Subscribe } from '../Tools/Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Loading = (_dec = ccclass('Loading'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Loading, _Component);\n\n  function Loading() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"start_btn\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"load_lbl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"login_window\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"test_enemy\", {\n      // 武将配置\n      \"heros\": [{\n        \"id\": \"CaoCao_ally\",\n        \"name\": \"曹操\",\n        \"hero_id\": \"CaoCao\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 1800,\n        \"atk\": 6000,\n        \"def\": 80,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Cavalry_Lv1\",\n        \"is_sp\": false,\n        \"is_select\": true,\n        \"idx\": 0\n      }, {\n        \"id\": \"LiuBei_ally\",\n        \"name\": \"刘备\",\n        \"hero_id\": \"LiuBei\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 1200,\n        \"atk\": 8000,\n        \"def\": 50,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Archer_Lv1\",\n        \"is_sp\": false,\n        \"is_select\": true,\n        \"idx\": 1\n      }, {\n        \"id\": \"SunQuan_ally\",\n        \"name\": \"孙权\",\n        \"hero_id\": \"SunQuan\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 2400,\n        \"atk\": 5500,\n        \"def\": 100,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Infantry_Lv1\",\n        \"is_sp\": false,\n        \"is_select\": true,\n        \"idx\": 2\n      }, {\n        \"id\": \"LvBu_ally\",\n        \"hero_id\": \"LvBu\",\n        \"name\": \"吕布\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 2800,\n        \"atk\": 5500,\n        \"def\": 100,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Infantry_Lv1\",\n        \"is_sp\": true,\n        \"is_select\": true,\n        \"idx\": 3\n      }, {\n        \"id\": \"ZhugeLiang_ally\",\n        \"name\": \"诸葛亮\",\n        \"hero_id\": \"ZhugeLiang\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 1500,\n        \"atk\": 7000,\n        \"def\": 80,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Cavalry_Lv1\",\n        \"is_sp\": false,\n        \"is_select\": true,\n        \"idx\": 4\n      }, {\n        \"id\": \"ZhouYu_ally\",\n        \"name\": \"周瑜\",\n        \"hero_id\": \"ZhouYu\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 1500,\n        \"atk\": 7000,\n        \"def\": 80,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Cavalry_Lv1\",\n        \"is_sp\": false,\n        \"is_select\": false,\n        \"idx\": 5\n      }],\n      \"formation\": {\n        // 阵型\n        \"id\": \"crescent\",\n        \"name\": \"偃月阵\",\n        \"pos_idxs\": [1, 2, 3, 5, 6],\n        \"introduce\": \"提高暴击率\",\n        \"ids_idxs\": [{\n          \"id\": \"CaoCao_ally\",\n          \"idx\": 0\n        }, {\n          \"id\": \"LiuBei_ally\",\n          \"idx\": 1\n        }, {\n          \"id\": \"SunQuan_ally\",\n          \"idx\": 2\n        }, {\n          \"id\": \"LvBu_ally\",\n          \"idx\": 3\n        }, {\n          \"id\": \"ZhugeLiang_ally\",\n          \"idx\": 4\n        }]\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = Loading.prototype;\n\n  // #######################\n  _proto.onLoad = function onLoad() {\n    var _this$node$getChildBy,\n        _this2 = this;\n\n    // 本地测试阶段，后续服务端配合重写\n    this.start_btn = this.node.getChildByName(\"StartBtn\");\n    this.load_lbl = (_this$node$getChildBy = this.node.getChildByName(\"Loading\")) === null || _this$node$getChildBy === void 0 ? void 0 : _this$node$getChildBy.getComponent(Label);\n    this.login_window = this.node.getChildByName(\"Login_window\");\n\n    if (!this.start_btn || !this.load_lbl || !this.login_window) {\n      return;\n    }\n\n    this.load_lbl.node.active = true;\n    this.login_window.active = false;\n    this.start_btn.active = false;\n    this.start_btn.on(\"click\", function () {\n      SceneMgr.getInstance().loadScene(\"Main\", \"test_player\");\n    }); // Select BattleField\n\n    Subscribe.listen(\"StartScene loaded\", this.name, function () {\n      if (!_this2.load_lbl || !_this2.login_window) {\n        return;\n      }\n\n      Generator.getInstance();\n      _this2.load_lbl.node.active = false;\n      _this2.login_window.active = true;\n    });\n    Subscribe.listen(\"login success\", this.name, function () {\n      if (!_this2.start_btn) {\n        return;\n      }\n\n      _this2.start_btn.active = true;\n    });\n  };\n\n  return Loading;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"2d09ebAU+pGA4ocl2FaVvI5\", \"MonsterMgr\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { Configure } from '../../Tools/Configure';\nimport { Functions } from '../../Tools/Functions';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var MonsterMgr = (_dec = ccclass('MonsterMgr'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(MonsterMgr, _Component);\n\n  function MonsterMgr(name) {\n    var _this;\n\n    _this = _Component.call(this, name) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"conf\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"conf_map\", new Map());\n\n    _this.conf = Configure.getConfigure(\"monsters\");\n\n    if (_this.conf) {\n      _this.conf[\"monsters\"].forEach(function (mst) {\n        // 初始化时读取怪物配置\n        _this.conf_map.set(mst[\"id\"], mst);\n      });\n    }\n\n    return _this;\n  }\n\n  MonsterMgr.getInstance = function getInstance() {\n    if (!MonsterMgr.ist) {\n      MonsterMgr.ist = new MonsterMgr(\"MonsterMgr\");\n    }\n\n    return MonsterMgr.ist;\n  };\n\n  var _proto = MonsterMgr.prototype;\n\n  _proto.getMonsterAttr = function getMonsterAttr(data) {\n    var conf = Functions.deepCopy(this.conf_map.get(data[\"mst_id\"]));\n\n    if (!conf) {\n      return null;\n    }\n\n    conf[\"hp\"] = conf[\"base_hp\"] + data[\"lv\"] * conf[\"grow_rate\"][\"hp\"]; // 根据实际关卡数据以及配置计算怪物数值\n\n    conf[\"atk\"] = conf[\"base_atk\"] + data[\"lv\"] * conf[\"grow_rate\"][\"atk\"];\n    conf[\"def\"] = conf[\"base_def\"] + data[\"lv\"] * conf[\"grow_rate\"][\"def\"];\n    conf[\"pos\"] = JSON.parse(JSON.stringify(data[\"pos\"]));\n    conf[\"id\"] = JSON.parse(JSON.stringify(data[\"id\"])); // 注意怪物的种类ID与实际场上怪物的ID之区别\n\n    return conf;\n  };\n\n  return MonsterMgr;\n}(Component), _defineProperty(_class2, \"ist\", void 0), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"317989VMTFALb13oDoZRKIy\", \"SceneMgr\", undefined);\n\nimport { _decorator, Component, director, ProgressBar, find } from 'cc';\nimport { Err } from './Err';\nimport { Subscribe } from './Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var SceneMgr = (_dec = ccclass('SceneMgr'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(SceneMgr, _Component);\n\n  // 加载进度条\n  function SceneMgr(name) {\n    var _this;\n\n    _this = _Component.call(this, name) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"pb\", null);\n\n    return _this;\n  }\n\n  SceneMgr.getInstance = function getInstance() {\n    if (!SceneMgr.ist) {\n      SceneMgr.ist = new SceneMgr(\"SceneMgr\");\n    }\n\n    return SceneMgr.ist;\n  };\n\n  var _proto = SceneMgr.prototype;\n\n  _proto.loadScene = function loadScene(scene_name, data) {\n    var _this2 = this;\n\n    director.loadScene(\"Loading\", function () {\n      var _find;\n\n      // 先进入加载场景以做过渡\n      _this2.pb = (_find = find(\"/Canvas/ProgressBar\")) === null || _find === void 0 ? void 0 : _find.getComponent(ProgressBar);\n\n      _this2.loadStart(scene_name, data);\n    });\n  };\n\n  _proto.loadStart = function loadStart(scene_name, data) {\n    var _this3 = this;\n\n    try {\n      director.preloadScene(scene_name, function (completeCount, totalcount, item) {\n        // 预加载，同时根据加载进度更新进度条\n        var ratio = completeCount / totalcount;\n\n        if (!_this3.pb) {\n          Err.console(\"Load progress bar failed!\", _this3.name, _this3.loadStart.name);\n          return;\n        }\n\n        _this3.pb.progress = ratio;\n      }, function () {\n        director.loadScene(scene_name, function () {\n          _this3.loadComplete(data);\n        });\n      }); // 加载完成回调\n    } catch (e) {\n      Err.console(\"Can't find scene named: \" + scene_name, this.name, this.loadStart.name);\n      this.returnToStart();\n    }\n  };\n\n  _proto.loadComplete = function loadComplete(data) {\n    var _director$getScene;\n\n    var scene_name = (_director$getScene = director.getScene()) === null || _director$getScene === void 0 ? void 0 : _director$getScene.name;\n\n    if (!scene_name) {\n      Err.console(\"Load scene error!\", this.name, this.loadComplete.name);\n      this.returnToStart();\n      return;\n    }\n\n    Subscribe.trigger(\"change scene\", scene_name, data); // 发射加载完成消息\n  };\n\n  _proto.returnToStart = function returnToStart() {\n    this.loadScene(\"StartScene\", null);\n  };\n\n  return SceneMgr;\n}(Component), _defineProperty(_class2, \"ist\", null), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"36774Cr/8xIB6VbQGB+A52e\", \"MainScene\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { SceneMgr } from '../Tools/SceneMgr';\nimport { Subscribe } from '../Tools/Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var MainScene = (_dec = ccclass('MainScene'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(MainScene, _Component);\n\n  function MainScene() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"formation_btn\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"battle_btn\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"data\", {});\n\n    return _this;\n  }\n\n  var _proto = MainScene.prototype;\n\n  // ##########################################\n  _proto.onLoad = function onLoad() {\n    Subscribe.listen(\"change scene\", this.name, function (scene_name, data) {\n      if (scene_name === \"Main\") {}\n\n      ; //\n    });\n    this.battle_btn = this.node.getChildByPath(\"Btns_Root/Option_Btns_Root/Layout/Battle\");\n  };\n\n  _proto.start = function start() {\n    var _this$battle_btn;\n\n    (_this$battle_btn = this.battle_btn) === null || _this$battle_btn === void 0 ? void 0 : _this$battle_btn.on(\"click\", function () {\n      SceneMgr.getInstance().loadScene(\"Expedition\", \"main\");\n    });\n  };\n\n  return MainScene;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"3bcafz2LplDxJOtLiXDg9si\", \"HeroPortrait\", undefined);\n\nimport { _decorator, Component, Label, Sprite, SpriteFrame } from 'cc';\nimport { ResMgr } from '../../Tools/ResMgr';\nimport { Subscribe } from '../../Tools/Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var HeroPortrait = (_dec = ccclass('HeroPortrait'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(HeroPortrait, _Component);\n\n  function HeroPortrait() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"id\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"unselected\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"selected\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"select_trigger\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"is_select\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"portrait\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"name_lbl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"lv_lbl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"sp_trigger\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"sp_disable\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"sp_enable\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"is_sp\", false);\n\n    return _this;\n  }\n\n  var _proto = HeroPortrait.prototype;\n\n  // 是否是常用标志\n  _proto.onLoad = function onLoad() {\n    var _this$node$getChildBy, _this$node$getChildBy2, _this$node$getChildBy3, _this$sp_trigger, _this$sp_trigger2;\n\n    // 获取组件、节点\n    this.unselected = this.node.getChildByName(\"Border_unselected\");\n    this.selected = this.node.getChildByName(\"Border_selected\");\n    this.select_trigger = this.node.getChildByName(\"Select_trigger\");\n    this.portrait = (_this$node$getChildBy = this.node.getChildByName(\"Portrait\")) === null || _this$node$getChildBy === void 0 ? void 0 : _this$node$getChildBy.getComponent(Sprite);\n    this.name_lbl = (_this$node$getChildBy2 = this.node.getChildByName(\"Name\")) === null || _this$node$getChildBy2 === void 0 ? void 0 : _this$node$getChildBy2.getComponent(Label);\n    this.lv_lbl = (_this$node$getChildBy3 = this.node.getChildByName(\"Lv_Label\")) === null || _this$node$getChildBy3 === void 0 ? void 0 : _this$node$getChildBy3.getComponent(Label);\n    this.sp_trigger = this.node.getChildByName(\"Sp_trigger\");\n    this.sp_disable = (_this$sp_trigger = this.sp_trigger) === null || _this$sp_trigger === void 0 ? void 0 : _this$sp_trigger.getChildByName(\"Sp_disable\");\n    this.sp_enable = (_this$sp_trigger2 = this.sp_trigger) === null || _this$sp_trigger2 === void 0 ? void 0 : _this$sp_trigger2.getChildByName(\"Sp_enable\");\n  };\n\n  _proto.init = function init(conf) {\n    var _this2 = this;\n\n    this.id = conf[\"id\"]; // 设置id\n\n    this.is_select = conf[\"is_select\"]; // 获取被编队选中状态\n\n    if (this.selected && this.unselected) {\n      this.selected.active = this.is_select;\n      this.unselected.active = !this.is_select;\n    }\n\n    if (this.select_trigger) {\n      this.select_trigger.on(\"click\", function () {\n        // 触发选中，发射选中消息\n        Subscribe.trigger(\"change hero selected\", _this2.id, _this2.is_select, _this2.changeSelected.bind(_this2));\n      });\n    }\n\n    if (this.name_lbl) {\n      this.name_lbl.string = conf[\"name\"];\n    } // 显示武将名称\n\n\n    if (this.lv_lbl) {\n      this.lv_lbl.string = \"Lv.\" + conf[\"level\"];\n    } // 显示武将等级\n\n\n    this.is_sp = conf[\"is_sp\"]; // 设置常用状态\n\n    if (this.sp_disable && this.sp_enable && this.sp_trigger) {\n      this.sp_trigger.on(\"click\", this.changeSphero, this); // 触发取消/设为常用，发射消息\n\n      this.sp_disable.active = !this.is_sp; // 修改常用标记\n\n      this.sp_enable.active = this.is_sp;\n    }\n\n    ResMgr.loadDir(\"Texture\", \"Portrait/Hero/\" + conf[\"hero_id\"], SpriteFrame, function (spf) {\n      if (_this2.portrait && spf) {\n        _this2.portrait.spriteFrame = spf[0];\n      } // 显示武将头像\n\n    }, this.name, this.init.name);\n  };\n\n  _proto.changeSelected = function changeSelected() {\n    // 修改被编队选中的状态\n    if (this.selected && this.unselected) {\n      this.is_select = !this.is_select;\n      this.selected.active = this.is_select;\n      this.unselected.active = !this.is_select;\n    }\n  };\n\n  _proto.changeSphero = function changeSphero() {\n    // 修改常用状态\n    if (this.sp_disable && this.sp_enable) {\n      this.is_sp = !this.is_sp;\n      this.sp_disable.active = !this.is_sp;\n      this.sp_enable.active = this.is_sp;\n      Subscribe.trigger(\"changeSpHero\", this.id, this.is_sp);\n    }\n  };\n\n  return HeroPortrait;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"3dbc6+ZAn1FwbXbUyeKJFSa\", \"HpMgr\", undefined);\n\nimport { _decorator, Component, find } from 'cc';\nimport { Err } from '../../Tools/Err';\nimport { Generator } from '../../Tools/Generator';\nimport { Subscribe } from '../../Tools/Subscribe';\nimport { HpNum } from './HpNum';\nimport { TotalHp } from './TotalHp';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var HpMgr = (_dec = ccclass('HpMgr'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(HpMgr, _Component);\n\n  // 血量管理\n  // 单例\n  // 生成器\n  // 血条根节点\n  // 总血量显示\n  // 血条哈希表\n  // Info哈希表\n  function HpMgr(name) {\n    var _this;\n\n    // 初始化\n    _this = _Component.call(this, name) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"gen\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"num_map\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"hero_map\", new Map());\n\n    _this.gen = Generator.getInstance();\n    Subscribe.listen(\"change hp\", _this.name, _this.changeHp, _assertThisInitialized(_this));\n    return _this;\n  }\n\n  HpMgr.getInstance = function getInstance() {\n    var _find;\n\n    // 获取单例\n    if (!HpMgr.ist) {\n      HpMgr.ist = new HpMgr(\"HpMgr\");\n    }\n\n    HpMgr.num_root = find(\"/Canvas/Battle/HpBars\");\n    HpMgr.total_hp = (_find = find(\"/Canvas/Battle/TotalHp\")) === null || _find === void 0 ? void 0 : _find.getComponent(TotalHp);\n    return HpMgr.ist;\n  };\n\n  var _proto = HpMgr.prototype;\n\n  _proto.reset = function reset() {\n    // 清除数据(为重复进入战斗界面做准备)\n    this.num_map.clear();\n  };\n\n  _proto.genHpNum = function genHpNum(hero, camp) {\n    // 生成血条\n    if (!this.gen || !HpMgr.num_root) {\n      return;\n    }\n\n    var new_hpBar = this.gen.generator(HpMgr.num_root, \"HpNum\"); // 实例化，父节点为血条根节点\n\n    var num_ctrl = new_hpBar === null || new_hpBar === void 0 ? void 0 : new_hpBar.getComponent(HpNum); // 获得血量的脚本组件\n\n    if (!num_ctrl) {\n      Err.console(\"Component doesn't exist!\", this.name, this.genHpNum.name);\n      return;\n    }\n\n    num_ctrl.init(hero.getConf(\"hp\"), hero.node, camp); // 传参初始化\n\n    this.num_map.set(hero.id, num_ctrl); // 存\n\n    this.hero_map.set(hero.id, hero); // 存\n  };\n\n  _proto.init_total_hp = function init_total_hp(conf, camp) {\n    // 根据配置统计血量\n    if (!HpMgr.total_hp) {\n      return;\n    }\n\n    var heros = conf[\"heros\"];\n    var total = 0;\n    heros.forEach(function (hero) {\n      total += hero[\"hp\"];\n    }); // 累加\n\n    HpMgr.total_hp.set_hp(total, camp); // 初始化设置血量\n  };\n\n  _proto.changeHp = function changeHp(id, value) {\n    // 血量变化\n    var bar = this.num_map.get(id); // 获取发生变化的对象\n\n    if (!bar) {\n      Err.console(\"Can't find \" + id + \"'s hp bar!\", this.name, this.changeHp.name);\n      return;\n    }\n\n    var rest = bar.changeHp(value); // 应用变化\n\n    if (rest <= 0) {\n      this.heroDie(id);\n      value -= rest;\n    } // 武将死亡 || 减去溢出的伤害(用以正确计算总血量的变化)\n\n\n    if (!HpMgr.total_hp) {\n      return;\n    }\n\n    HpMgr.total_hp.changeHp(value, bar.getCamp()); // 改变总血量\n  };\n\n  _proto.heroDie = function heroDie(id) {\n    var _this2 = this;\n\n    // 武将阵亡\n    this.scheduleOnce(function () {\n      Subscribe.trigger(\"hero die\", _this2.hero_map.get(id)); // 发射消息\n\n      var hpNum = _this2.num_map.get(id); // 获取对应的血量节点并将其从父节点移除\n\n\n      if (hpNum) {\n        hpNum.node.parent = null;\n      }\n\n      _this2.num_map[\"delete\"](id); // 根据ID删除对应的键值\n\n\n      _this2.hero_map[\"delete\"](id);\n    }, 1);\n  };\n\n  _proto.onDestroy = function onDestroy() {\n    this.unscheduleAllCallbacks();\n  };\n\n  return HpMgr;\n}(Component), _defineProperty(_class2, \"ist\", null), _defineProperty(_class2, \"num_root\", null), _defineProperty(_class2, \"total_hp\", null), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"435146EAlxHWr0n56mHp8Zn\", \"StageDetails\", undefined);\n\nimport { _decorator, Component, Sprite, Label, SpriteFrame, UITransform, Size } from 'cc';\nimport { ItemMgr } from '../../Items/ItemMgr';\nimport { Functions } from '../../Tools/Functions';\nimport { Generator } from '../../Tools/Generator';\nimport { ResMgr } from '../../Tools/ResMgr';\nimport { SceneMgr } from '../../Tools/SceneMgr';\nimport { Subscribe } from '../../Tools/Subscribe';\nimport { StageMgr } from './StageMgr';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var StageDetails = (_dec = ccclass('StageDetails'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(StageDetails, _Component);\n\n  function StageDetails() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"stage_name\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"description\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"goal\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"reward_item_root\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"reward_items\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"start_btn\", null);\n\n    return _this;\n  }\n\n  var _proto = StageDetails.prototype;\n\n  _proto.onLoad = function onLoad() {\n    var _this$node$getChildBy, _this$node$getChildBy2;\n\n    Subscribe.listen(\"change select stage\", this.name, this.changeSelect, this); // 监听切换关卡事件\n\n    this.stage_name = (_this$node$getChildBy = this.node.getChildByPath(\"StageName/Label\")) === null || _this$node$getChildBy === void 0 ? void 0 : _this$node$getChildBy.getComponent(Label);\n    this.description = (_this$node$getChildBy2 = this.node.getChildByPath(\"Description/view/content\")) === null || _this$node$getChildBy2 === void 0 ? void 0 : _this$node$getChildBy2.getComponent(Label);\n\n    for (var i = 1; i <= 3; i++) {\n      var _this$node$getChildBy3;\n\n      var goal_temp = (_this$node$getChildBy3 = this.node.getChildByPath(\"Goal/Lbl_Root/Goal_\" + i.toString())) === null || _this$node$getChildBy3 === void 0 ? void 0 : _this$node$getChildBy3.getComponent(Label);\n\n      if (goal_temp) {\n        this.goal.push(goal_temp);\n      }\n    }\n\n    this.reward_item_root = this.node.getChildByPath(\"Reward/Items/view/content\");\n    this.start_btn = this.node.getChildByName(\"Start_Btn\");\n  };\n\n  _proto.changeSelect = function changeSelect(data) {\n    var stage_name = data[\"curr_stage\"]; // 读取当前关卡名\n\n    var conf = StageMgr.getInstance().getStageConf(stage_name)[\"stage\"][data[\"idx\"]]; // 根据关卡名读取当前关卡配置\n\n    if (this.stage_name) {\n      this.stage_name.string = conf[\"name\"];\n    } // 修改关卡名标签内容\n\n\n    if (this.description) {\n      this.description.string = conf[\"description\"];\n    }\n\n    var goal_strs = StageMgr.getInstance().getStageGoal(stage_name, data[\"idx\"]); // 获取三星条件\n\n    if (this.goal.length >= goal_strs.length) {\n      for (var i = 0; i < this.goal.length; i++) {\n        if (i < goal_strs.length) {\n          this.goal[i].string = goal_strs[i];\n        }\n      }\n    }\n\n    var gen = Generator.getInstance(); // 预制件实例化生成器\n\n    this.setItemList(conf[\"items\"], gen); // 设置掉落清单\n\n    if (this.start_btn) {\n      // 点击确认按钮\n      this.start_btn.on(\"click\", function () {\n        SceneMgr.getInstance().loadScene(\"BattleField\", data); // 进入战斗场景\n      });\n    }\n  };\n\n  _proto.setItemList = function setItemList(items_conf, gen) {\n    var _this$reward_item_roo, _this$reward_item_roo2;\n\n    var itemMgr = ItemMgr.getInstance(); // 物品管理器\n\n    for (var i = 0; i < items_conf.length; i++) {\n      if (this.reward_item_root) {\n        var portrait = null;\n\n        if (this.reward_items.length <= i) {\n          // 如果现有的物品节点数量不够则生成新的\n          portrait = gen.generator(this.reward_item_root, \"ItemPortrait\"); // 实例化掉落物图片预制件\n\n          if (portrait) {\n            this.reward_items.push(portrait);\n          } // 把新的放进去\n\n        } else {\n          // 反之则使用已有的\n          portrait = this.reward_items[i];\n        }\n\n        if (portrait) {\n          this.initItem(items_conf[i], portrait, i, itemMgr);\n        } // 初始化物品\n\n      }\n    }\n\n    while (this.reward_items.length > items_conf.length) {\n      var _this$reward_items$po;\n\n      (_this$reward_items$po = this.reward_items.pop()) === null || _this$reward_items$po === void 0 ? void 0 : _this$reward_items$po.destroy();\n    } // 如果现有的比需要的物品节点多，则将多余的删除\n\n\n    (_this$reward_item_roo = this.reward_item_root) === null || _this$reward_item_roo === void 0 ? void 0 : (_this$reward_item_roo2 = _this$reward_item_roo.getComponent(UITransform)) === null || _this$reward_item_roo2 === void 0 ? void 0 : _this$reward_item_roo2.setContentSize(new Size(items_conf.length * 150, 150)); // 重新设置物品框大小\n  };\n\n  _proto.initItem = function initItem(conf, node, idx, itemMgr) {\n    var _node$getChildByName;\n\n    var sf = node.getComponent(Sprite); // 获得掉落物图片的精灵组件\n\n    var path = itemMgr.getItemConf(conf[\"id\"])[\"texture_path\"]; // 获取配置中的贴图路径\n\n    if (path) {\n      ResMgr.loadDir(\"Texture\", path, SpriteFrame, function (sp) {\n        if (sf) {\n          sf.spriteFrame = sp[0];\n        } // 根据配置设置精灵组件贴图\n\n      }, this.name, this.setItemList.name);\n    }\n\n    var num = (_node$getChildByName = node.getChildByName(\"Num\")) === null || _node$getChildByName === void 0 ? void 0 : _node$getChildByName.getComponent(Label); // 物品数量Label\n\n    if (num) {\n      if (conf[\"max\"] > 1) {\n        // 最大掉落数大于1则显示掉落区间\n        if (conf[\"max\"] == conf[\"min\"]) {\n          // 最大掉落数等于最小掉落数则显示掉落数\n          num.string = Functions.numToChar(conf[\"max\"]);\n        } else {\n          // 否则显示平均值\n          num.string = \"约\" + Functions.numToChar(Math.floor((conf[\"max\"] + conf[\"min\"]) / 2));\n        }\n      }\n    }\n\n    node.setPosition(idx * 125 + 75, 0, 0); // 计算位置并摆放\n  };\n\n  return StageDetails;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"4841dJezXhODb81MKctRBiZ\", \"TouchScreen\", undefined);\n\nimport { _decorator, Component, systemEvent, SystemEventType, geometry, Camera, PhysicsSystem, find } from 'cc';\nimport { Subscribe } from './Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nvar Ray = geometry.Ray;\nexport var TouchScreen = (_dec = ccclass('TouchScreen'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TouchScreen, _Component);\n\n  function TouchScreen() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"touchRay\", new Ray());\n\n    _defineProperty(_assertThisInitialized(_this), \"mainCamera\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"touch_flag\", \"\");\n\n    return _this;\n  }\n\n  var _proto = TouchScreen.prototype;\n\n  _proto.onLoad = function onLoad() {\n    var _this2 = this;\n\n    Subscribe.listen(\"change scene\", this.name, function (scene_name) {\n      var camera_node = find(\"Main Camera\");\n\n      if (camera_node) {\n        _this2.mainCamera = camera_node.getComponent(Camera);\n      } else {\n        _this2.mainCamera = null;\n        console.log(\"\");\n      }\n    });\n    systemEvent.on(SystemEventType.TOUCH_START, function (t, e) {\n      _this2.touch(t, e, \"start\");\n    }, this);\n    systemEvent.on(SystemEventType.TOUCH_MOVE, function (t, e) {\n      _this2.touch(t, e, \"move\");\n    }, this);\n    systemEvent.on(SystemEventType.TOUCH_END, function (t, e) {\n      _this2.touch(t, e, \"end\");\n    }, this);\n    systemEvent.on(SystemEventType.TOUCH_CANCEL, function (t, e) {\n      _this2.touch(t, e, \"end\");\n    }, this);\n  };\n\n  _proto.touch = function touch(t, e, type) {\n    if (!this.mainCamera) {\n      Subscribe.trigger(\"t_\" + type + \"_2d\", t, e);\n      return;\n    }\n\n    this.mainCamera.screenPointToRay(e.getLocationX(), e.getLocationY(), this.touchRay);\n\n    if (PhysicsSystem.instance.raycast(this.touchRay)) {\n      var res = PhysicsSystem.instance.raycastResults;\n\n      if (res.length <= 0) {\n        return;\n      }\n\n      var uuid = res[0].collider.node.uuid;\n      Subscribe.trigger(\"t_\" + type + uuid, t, e);\n    }\n  };\n\n  return TouchScreen;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"4a7543wNyVI2KuDxEpnWG4G\", \"Configure\", undefined);\n\nimport { _decorator, Component, JsonAsset, game } from 'cc';\nimport { Err } from './Err';\nimport { ResMgr } from './ResMgr';\nimport { Subscribe } from './Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Configure = (_dec = ccclass('Configure'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Configure, _Component);\n\n  function Configure() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Configure.prototype;\n\n  _proto.onLoad = function onLoad() {\n    Subscribe.listen(\"resources loaded\", this.name, Configure.init, this);\n    game.addPersistRootNode(this.node);\n  };\n\n  Configure.init = function init() {\n    ResMgr.loadDir(\"resources\", \"/config\", JsonAsset, function (res) {\n      // 加载全部配置文件\n      if (!res || res.length < 1) {\n        Err.alert(\"未知错误，配置未能成功加载！\", Configure.name, Configure.init.name);\n        return;\n      }\n\n      res.forEach(function (json) {\n        Configure.setting_dict.set(json.name, json.json);\n      }); // 存\n\n      Configure.loaded = true; // 更改标志\n\n      Subscribe.trigger(\"settings loaded\"); // 配置加载完毕, 发射消息\n    }, Configure.name, Configure.init.name);\n  };\n\n  Configure.getConfigure = function getConfigure(mod_name) {\n    if (!Configure.loaded) {\n      // 若设置尚未加载完毕\n      Err.alert(\"Settings: \\'\" + mod_name + \"\\' have not been loaded yet!\", Configure.name, Configure.getConfigure.name);\n      return null;\n    }\n\n    if (Configure.setting_dict.size < 1) {\n      Err.alert(\"Configure: \\'\" + mod_name + \"\\' have not been loaded yet!\", Configure.name, Configure.getConfigure.name);\n      return null;\n    }\n\n    if (!Configure.setting_dict.get(mod_name)) {\n      // 如果没有找到参数对应的设置\n      Err.alert(\"Configure don't have this part: \" + mod_name + \".\", Configure.name, Configure.getConfigure.name);\n      return null;\n    }\n\n    return Configure.setting_dict.get(mod_name);\n  };\n\n  return Configure;\n}(Component), _defineProperty(_class2, \"setting_dict\", new Map()), _defineProperty(_class2, \"loaded\", false), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"54e71vfKQ1IIbuA3T8+rFtL\", \"BattleScene\", undefined);\n\nimport { _decorator, Component, Label, UITransform, Sprite, SpriteFrame } from 'cc';\nimport { ItemMgr } from '../Items/ItemMgr';\nimport { Err } from '../Tools/Err';\nimport { Functions } from '../Tools/Functions';\nimport { Generator } from '../Tools/Generator';\nimport { ResMgr } from '../Tools/ResMgr';\nimport { SceneMgr } from '../Tools/SceneMgr';\nimport { Subscribe } from '../Tools/Subscribe';\nimport { StageMgr } from './Stage/StageMgr';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var BattleMgr = (_dec = ccclass('BattleMgr'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(BattleMgr, _Component);\n\n  function BattleMgr() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"pause_btn\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"pause_window\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"curr_stage\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"result_node\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"victory\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"defeat\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"abandon\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"return_btn\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"agian_btn\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"goals_root\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"reward_root\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"stage_data\", null);\n\n    return _this;\n  }\n\n  var _proto = BattleMgr.prototype;\n\n  _proto.onLoad = function onLoad() {\n    var _this2 = this;\n\n    Subscribe.listen(\"change scene\", this.name, function (scene_name, data) {\n      // 此处为战斗入口\n      if (scene_name === \"BattleField\") {\n        _this2.curr_stage = data[\"curr_stage\"]; // 保存当前关卡名\n\n        Subscribe.trigger(\"prepare battle\", data);\n      }\n\n      _this2.stage_data = data; // 关卡数据及配置\n    });\n    Subscribe.listen(\"battle decided\", this.name, this.battle_over, this);\n    Subscribe.listen(\"battle interrupted\", this.name, this.battle_over, this);\n    this.pause_btn = this.node.getChildByPath(\"Battle/Pause\");\n    this.pause_window = this.node.getChildByName(\"PauseMenu\"); // 暂停菜单\n\n    if (this.pause_window) {\n      this.pause_window.active = false;\n    }\n\n    this.result_node = this.node.getChildByName(\"Result\"); // 结算界面节点\n\n    if (this.result_node) {\n      this.victory = this.result_node.getChildByName(\"Victory\"); // 胜利界面节点\n\n      this.defeat = this.result_node.getChildByName(\"Defeat\"); // 失败界面节点\n\n      this.abandon = this.result_node.getChildByName(\"Abandon\"); // 放弃作战界面节点\n\n      this.return_btn = this.result_node.getChildByPath(\"Btns/Return_btn\"); // 返回按钮\n\n      this.agian_btn = this.result_node.getChildByPath(\"Btns/Again_btn\"); // 再次挑战按钮\n\n      this.goals_root = this.result_node.getChildByPath(\"Victory/Goals/view/content\"); // “目标”根节点\n\n      this.reward_root = this.result_node.getChildByPath(\"Victory/Rewards/view/content\"); // 战利品根节点\n\n      this.result_node.active = false;\n    }\n  };\n\n  _proto.start = function start() {\n    var _this3 = this;\n\n    if (this.pause_btn && this.pause_window) {\n      this.pause_btn.on(\"click\", function () {\n        Subscribe.trigger(\"pause\"); // 设置暂停按钮点击事件\n\n        if (_this3.pause_window) {\n          _this3.pause_window.active = true; // 呼出暂停窗口\n        }\n      });\n      var confirm_btn = this.pause_window.getChildByName(\"Confirm\");\n      var resume_btn = this.pause_window.getChildByName(\"Resume\");\n\n      if (confirm_btn && resume_btn) {\n        confirm_btn.on(\"click\", function () {\n          // 设置退出关卡按钮点击事件\n          if (_this3.pause_window) {\n            _this3.pause_window.active = false;\n          } // 隐藏暂停窗口\n\n\n          Subscribe.trigger(\"resume\"); // 继续\n\n          Subscribe.trigger(\"battle interrupted\", true, false, []); // 中途结束战斗，没有任何奖励和消耗\n        });\n        resume_btn.on(\"click\", function () {\n          // 设置继续按钮点击事件\n          if (_this3.pause_window) {\n            _this3.pause_window.active = false;\n          } // 隐藏暂停窗口\n\n\n          Subscribe.trigger(\"resume\"); // 继续\n        });\n      }\n    }\n\n    if (this.return_btn) {\n      this.return_btn.on(\"click\", function () {\n        // 设置返回按钮点击事件\n        SceneMgr.getInstance().loadScene(\"Expedition\", _this3.curr_stage); // 返回选关界面\n      });\n    }\n\n    if (this.agian_btn) {\n      // 设置再次挑战按钮点击事件\n      this.agian_btn.on(\"click\", this.battle_again, this);\n    }\n  };\n\n  _proto.battle_again = function battle_again() {\n    // 再次挑战\n    SceneMgr.getInstance().loadScene(\"BattleField\", this.stage_data);\n  };\n\n  _proto.battle_over = function battle_over(isAbandon, isWin, goal_flags) {\n    if (!this.result_node || !this.defeat || !this.victory || !this.abandon) {\n      Err.console(\"Result node can't be null!\", this.name, this.battle_over.name);\n      return;\n    }\n\n    this.result_node.active = true; // 显示战斗结算画面\n\n    this.abandon.active = this.victory.active = this.defeat.active = false; // 初始化三个界面的显示状态\n\n    if (isAbandon) {\n      this.abandon.active = true;\n      return;\n    } // 显示放弃战斗结算界面\n\n\n    if (!isWin) {\n      this.defeat.active = true;\n      return;\n    } // 显示战斗失败结算画面\n\n\n    this.victory.active = true; // 显示战斗胜利结算画面\n\n    var stage_name = this.stage_data[\"curr_stage\"]; // 读取当前关卡名\n\n    var conf = StageMgr.getInstance().getStageConf(stage_name)[\"stage\"][this.stage_data[\"idx\"]]; // 根据关卡名读取当前关卡配置\n\n    var gen = Generator.getInstance(); // 预制体实例化生成器\n\n    this.setGoalNode(gen, stage_name, goal_flags); // 放置关卡三星目标条件\n\n    this.setRewardsNode(gen, conf[\"items\"]); // 放置掉落物\n  };\n\n  _proto.setGoalNode = function setGoalNode(gen, stage_name, goal_flags) {\n    var _this$goals_root;\n\n    var goal_strs = StageMgr.getInstance().getStageGoal(stage_name, this.stage_data[\"idx\"]); // 获取三星目标条件文本\n\n    var ui_trans = (_this$goals_root = this.goals_root) === null || _this$goals_root === void 0 ? void 0 : _this$goals_root.getComponent(UITransform); // 修改内容大小以容纳文本\n\n    if (ui_trans) {\n      ui_trans.setContentSize(ui_trans.contentSize.width, 100 * goal_strs.length);\n    }\n\n    for (var i = 0; i < goal_strs.length && i < goal_flags.length; i++) {\n      // 循环摆放\n      if (this.goals_root) {\n        var goal_node = gen.generator(this.goals_root, \"Stage_Goal\"); // 实例化文本及标识预制体\n\n        if (goal_node) {\n          var goal_lbl = goal_node.getComponent(Label);\n\n          if (goal_lbl) {\n            goal_lbl.string = goal_strs[i];\n          } // 设置文本\n\n\n          var disable = goal_node.getChildByName(\"Point_Disable\"); // 根据是否完成目标修改标识\n\n          var enable = goal_node.getChildByName(\"Point_Enable\");\n\n          if (disable && enable) {\n            var _ref = [!goal_flags[i], goal_flags[i]];\n            disable.active = _ref[0];\n            enable.active = _ref[1];\n          }\n\n          var pos = goal_node.getPosition(); // 摆放对应位置\n\n          goal_node.setPosition(pos.x, -100 * i - 50, 0);\n        }\n      }\n    }\n  };\n\n  _proto.setRewardsNode = function setRewardsNode(gen, conf) {\n    var _this4 = this;\n\n    var itemMgr = ItemMgr.getInstance();\n    var count = 0;\n    conf.forEach(function (item) {\n      if (_this4.reward_root) {\n        var _portrait$getChildByN;\n\n        if (item[\"p\"] < 1) {\n          // 根据概率判断是否掉落该物品\n          var isGet = Functions.probToVal([item[\"p\"], 1 - item[\"p\"]], [true, false]);\n\n          if (!isGet) {\n            return;\n          } // 没有则跳过\n\n        }\n\n        var portrait = gen.generator(_this4.reward_root, \"ItemPortrait\"); // 实例化掉落物图片预制件\n\n        var portrait_sf = portrait === null || portrait === void 0 ? void 0 : portrait.getComponent(Sprite); // 获得掉落物图片的精灵组件\n\n        var path = itemMgr.getItemConf(item[\"id\"])[\"texture_path\"]; // 获取配置中的贴图路径\n\n        if (path) {\n          ResMgr.loadDir(\"Texture\", path, SpriteFrame, function (sp) {\n            if (portrait_sf) {\n              portrait_sf.spriteFrame = sp[0];\n            } // 根据配置设置精灵组件贴图\n\n          }, _this4.name, _this4.setRewardsNode.name);\n        }\n\n        var num_lbl = portrait === null || portrait === void 0 ? void 0 : (_portrait$getChildByN = portrait.getChildByName(\"Num\")) === null || _portrait$getChildByN === void 0 ? void 0 : _portrait$getChildByN.getComponent(Label); // 物品数量Label\n\n        var num = 0;\n\n        if (num_lbl) {\n          if (item[\"max\"] > 1) {\n            // 最大掉落数大于1则显示掉落数\n            if (item[\"max\"] == item[\"min\"]) {\n              num = item[\"max\"];\n            } // 最大等于最小则直接显示掉落数\n            else {\n                num = Functions.randomInSec(item[\"max\"], item[\"min\"]);\n              } // 否则则随机从区间内取值\n\n\n            num_lbl.string += Functions.numToChar(num); // 转化并显示\n          } else {\n            num = 1;\n          }\n\n          Subscribe.trigger(\"get item\", item[\"id\"], num); // #######################\n        }\n\n        var x = count * 125 + 75;\n        portrait === null || portrait === void 0 ? void 0 : portrait.setPosition(x, 0, 0); // 计算位置并摆放\n\n        count++; // 计数器加一\n      }\n    });\n  };\n\n  return BattleMgr;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"5557eVQmD9AFo1owxXHT1Xu\", \"HerosMgr\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { Configure } from '../Tools/Configure';\nimport { Subscribe } from '../Tools/Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var HerosMgr = (_dec = ccclass('HerosMgr'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(HerosMgr, _Component);\n\n  // ##################################\n  // ##################################\n  function HerosMgr(name) {\n    var _this;\n\n    _this = _Component.call(this, name) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"common\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero_conf\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"troop\", {\n      // 武将配置\n      \"heros\": [{\n        \"id\": \"CaoCao_ally\",\n        \"name\": \"曹操\",\n        \"hero_id\": \"CaoCao\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 1800,\n        \"atk\": 6000,\n        \"def\": 80,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Cavalry_Lv1\",\n        \"is_sp\": false,\n        \"is_select\": true,\n        \"idx\": 0\n      }, {\n        \"id\": \"LiuBei_ally\",\n        \"name\": \"刘备\",\n        \"hero_id\": \"LiuBei\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 1200,\n        \"atk\": 8000,\n        \"def\": 50,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Archer_Lv1\",\n        \"is_sp\": false,\n        \"is_select\": true,\n        \"idx\": 1\n      }, {\n        \"id\": \"SunQuan_ally\",\n        \"name\": \"孙权\",\n        \"hero_id\": \"SunQuan\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 2400,\n        \"atk\": 5500,\n        \"def\": 100,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Infantry_Lv1\",\n        \"is_sp\": false,\n        \"is_select\": true,\n        \"idx\": 2\n      }, {\n        \"id\": \"LvBu_ally\",\n        \"hero_id\": \"LvBu\",\n        \"name\": \"吕布\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 2800,\n        \"atk\": 5500,\n        \"def\": 100,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Infantry_Lv1\",\n        \"is_sp\": true,\n        \"is_select\": true,\n        \"idx\": 3\n      }, {\n        \"id\": \"ZhugeLiang_ally\",\n        \"name\": \"诸葛亮\",\n        \"hero_id\": \"ZhugeLiang\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 1500,\n        \"atk\": 7000,\n        \"def\": 80,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Cavalry_Lv1\",\n        \"is_sp\": false,\n        \"is_select\": true,\n        \"idx\": 4\n      }, {\n        \"id\": \"ZhouYu_ally\",\n        \"name\": \"周瑜\",\n        \"hero_id\": \"ZhouYu\",\n        \"prefab\": \"General\",\n        \"level\": 60,\n        \"hp\": 1500,\n        \"atk\": 7000,\n        \"def\": 80,\n        \"atkEff\": \"default_atk_particle\",\n        \"hitEff\": \"default_hit_particle\",\n        \"skill_name\": \"default\",\n        \"skillEff\": \"default_skill_particle\",\n        \"arms\": \"Cavalry_Lv1\",\n        \"is_sp\": false,\n        \"is_select\": false,\n        \"idx\": 5\n      }],\n      \"formation\": {\n        // 阵型\n        \"id\": \"snake\",\n        \"name\": \"长蛇阵\",\n        \"pos_idxs\": [0, 1, 4, 5, 8],\n        \"introduce\": \"增加部队普通攻击能力\",\n        \"ids_idxs\": [{\n          \"id\": \"CaoCao_ally\",\n          \"idx\": 0\n        }, {\n          \"id\": \"LiuBei_ally\",\n          \"idx\": 1\n        }, {\n          \"id\": \"SunQuan_ally\",\n          \"idx\": 2\n        }, {\n          \"id\": \"LvBu_ally\",\n          \"idx\": 3\n        }, {\n          \"id\": \"ZhugeLiang_ally\",\n          \"idx\": 4\n        }]\n      }\n    });\n\n    var settings = Configure.getConfigure(\"hero\");\n    _this.common = settings[\"common\"];\n\n    for (var i = 0; i < settings[\"hero\"].length; i++) {\n      _this.hero_conf.set(settings[\"hero\"][i][\"id\"], settings[\"hero\"][i]);\n    }\n\n    Subscribe.listen(\"update troop\", _this.name, function (troop_conf) {\n      _this.troop = troop_conf;\n    });\n    return _this;\n  }\n\n  HerosMgr.getInstance = function getInstance() {\n    if (!HerosMgr.instance) {\n      HerosMgr.instance = new HerosMgr(\"HerosMgr\");\n    }\n\n    return HerosMgr.instance;\n  };\n\n  var _proto = HerosMgr.prototype;\n\n  _proto.getTroops = function getTroops() {\n    // #######################\n    return this.troop; // #######################\n  };\n\n  _proto.getHeroConf = function getHeroConf(id) {\n    if (this.hero_conf.has(id)) {\n      return this.hero_conf.get(id);\n    }\n\n    return null;\n  };\n\n  _proto.getConfigureConf = function getConfigureConf(tag) {\n    return this.common[tag];\n  };\n\n  return HerosMgr;\n}(Component), _defineProperty(_class2, \"instance\", void 0), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"58ccf0dcLZB/IWpk0IfiK3I\", \"Test\", undefined);\n\nimport { _decorator, Component } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Test = (_dec = ccclass('Test'), _dec(_class = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Test, _Component);\n\n  function Test() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Test.prototype;\n\n  _proto.onLoad = function onLoad() {};\n\n  return Test;\n}(Component)) || _class);\n\n_cclegacy._RF.pop();","import { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"620e1qmxXFJFZjtu82dIEUg\", \"Err\", undefined);\n\nimport { _decorator, game } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Err = (_dec = ccclass('Err'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function () {\n  function Err() {}\n\n  Err.console = function (_console) {\n    function console(_x, _x2, _x3) {\n      return _console.apply(this, arguments);\n    }\n\n    console.toString = function () {\n      return _console.toString();\n    };\n\n    return console;\n  }(function (err, script, func) {\n    console.error(\"Error: \" + err + \"\\t at \" + script + \".\" + func);\n  });\n\n  Err.alert = function alert(err, script, func) {\n    console.error(\"Error: \" + err + \"\\t at \" + script + \".\" + func);\n    Err.stopGame();\n  };\n\n  Err.print = function print(err, script, func) {\n    console.error(\"Error: \" + err + \"\\t at \" + script + \".\" + func);\n    Err.stopGame();\n  };\n\n  Err.stopGame = function stopGame() {\n    // Stop and exit game;\n    // game.end();\n    game.pause();\n  };\n\n  return Err;\n}(), _defineProperty(_class2, \"error\", void 0), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"66392uVKzNLs4yndOLi/Uwh\", \"StartScene\", undefined);\n\nimport { _decorator, Component, Sprite, Font, SpriteFrame, Label } from 'cc';\nimport { Configure } from '../Tools/Configure';\nimport { Err } from '../Tools/Err';\nimport { Subscribe } from '../Tools/Subscribe';\nimport { ResMgr } from \"../Tools/ResMgr\";\nimport { MoveCamera } from '../Tools/MoveCamera';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var StartScene = (_dec = ccclass('StartScene'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(StartScene, _Component);\n\n  function StartScene() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"bg\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"start_btn_sp\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"font\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"login_bg\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"login_btn_sp\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"regist_btn_sp\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"conf\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"sprite_map\", new Map());\n\n    return _this;\n  }\n\n  var _proto = StartScene.prototype;\n\n  _proto.onLoad = function onLoad() {\n    var _this2 = this,\n        _this$node$getChildBy,\n        _this$node$getChildBy2,\n        _login_window$getChil,\n        _login_window$getChil2,\n        _login_window$getChil3;\n\n    Subscribe.listen(\"bundle loaded\", this.name, this.init, this);\n    Subscribe.listen(\"settings loaded\", this.name, function () {\n      _this2.conf = Configure.getConfigure(\"start_scene\");\n    }); // 首页暂时写死\n    // ###########################################################################\n\n    this.bg = (_this$node$getChildBy = this.node.getChildByName(\"BackGround\")) === null || _this$node$getChildBy === void 0 ? void 0 : _this$node$getChildBy.getComponent(Sprite);\n    this.start_btn_sp = (_this$node$getChildBy2 = this.node.getChildByName(\"StartBtn\")) === null || _this$node$getChildBy2 === void 0 ? void 0 : _this$node$getChildBy2.getComponent(Sprite);\n    var login_window = this.node.getChildByName(\"Login_window\");\n    this.login_bg = login_window === null || login_window === void 0 ? void 0 : (_login_window$getChil = login_window.getChildByName(\"Bg\")) === null || _login_window$getChil === void 0 ? void 0 : _login_window$getChil.getComponent(Sprite);\n    this.login_btn_sp = login_window === null || login_window === void 0 ? void 0 : (_login_window$getChil2 = login_window.getChildByName(\"Login\")) === null || _login_window$getChil2 === void 0 ? void 0 : _login_window$getChil2.getComponent(Sprite);\n    this.regist_btn_sp = login_window === null || login_window === void 0 ? void 0 : (_login_window$getChil3 = login_window.getChildByName(\"Regist\")) === null || _login_window$getChil3 === void 0 ? void 0 : _login_window$getChil3.getComponent(Sprite);\n\n    if (!this.bg || !this.start_btn_sp || !this.login_bg || !this.login_btn_sp || !this.regist_btn_sp) {\n      Err.console(\"Component hasn't loaded yet!\", this.name, this.init.name);\n      return;\n    }\n\n    this.sprite_map = new Map([[\"bg\", this.bg], [\"start_btn_sp\", this.start_btn_sp], [\"login_bg\", this.login_bg], [\"login_btn_sp\", this.login_btn_sp], [\"regist_btn_sp\", this.regist_btn_sp]]); // ############################################################################\n  };\n\n  _proto.init = function init() {\n    var _this3 = this;\n\n    ResMgr.loadRes(\"Texture\", this.conf[\"font\"], Font, function (font) {\n      _this3.font = font;\n\n      _this3.setFont();\n    }, this.name, this.init.name);\n    this.conf[\"sprites\"].forEach(function (sp) {\n      var sprite = _this3.sprite_map.get(sp[\"id\"]);\n\n      if (!sprite) {\n        Err.console(\"Please check conf!\", _this3.name, _this3.init.name);\n        return;\n      }\n\n      _this3.getSpriteFrame(sp[\"path\"], sprite);\n    });\n    MoveCamera.getInstance();\n  };\n\n  _proto.getSpriteFrame = function getSpriteFrame(path, sp) {\n    ResMgr.loadDir(\"Texture\", path, SpriteFrame, function (spf) {\n      sp.spriteFrame = spf[0];\n    }, this.name, this.getSpriteFrame.name);\n  };\n\n  _proto.setFont = function setFont() {\n    var children = this.node.children;\n\n    while (children.length > 0) {\n      var child = children.pop();\n\n      if (!child) {\n        break;\n      }\n\n      children = child.children.concat(children);\n      var lbl = child.getComponent(Label);\n\n      if (lbl) {\n        lbl.font = this.font;\n      }\n    }\n\n    Subscribe.trigger(\"StartScene loaded\");\n  };\n\n  return StartScene;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"689c3Zy24xCJ6+TrfKRd6I7\", \"Json2Exc\", undefined);\n\nimport { _decorator, Component } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Json2Exc = (_dec = ccclass('Json2Exc'), _dec(_class = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Json2Exc, _Component);\n\n  function Json2Exc() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = Json2Exc.prototype;\n\n  _proto.J2E = function J2E(json) {// 以blob流的形式，组合成csv格式导出\n    // public createLargerCsv(titleArray: Array<String>, jsonData: Array<any>) {\n    //     let str: string = ''\n    //     let blob: Blob\n    //     this.startTime = new Date()\n    //     // 使用string是因为如果是0的话会不显示，\n    //     titleArray.forEach(title => {\n    //         str += `${title.toString()},`\n    //     })\n    //     str += '\\n'\n    //     jsonData.forEach(data => {\n    //         Object.values(data).forEach(o => {\n    //             str += `${o.toString()},`\n    //         })\n    //         str += '\\n'\n    //     })\n    //     // 添加编码格式\n    //     blob = new Blob([str], { type: 'text/plain;charset=utf-8' })\n    //     //解决中文乱码问题\n    //     blob = new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n    //     this.createLink(this.fileName, window.URL.createObjectURL(blob), FileType.csv)\n    //     this.endTime = new Date()\n    //     // 返回开始，结束时间\n    //     return {\n    //         endTime: this.endTime,\n    //         startTime: this.startTime\n    //     }\n  };\n\n  _proto.E2J = function E2J(fpath) {};\n\n  return Json2Exc;\n}(Component)) || _class);\n/**\r\n * [1] Class member could be defined like this.\r\n * [2] Use `property` decorator if your want the member to be serializable.\r\n * [3] Your initialization goes here.\r\n * [4] Your update function goes here.\r\n *\r\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\r\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\r\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\r\n */\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"6f65ezBaVdDXrmJwFxDWTmB\", \"StagePoint\", undefined);\n\nimport { _decorator, Component, Label, find, Camera, Material, MeshRenderer, v3, tween } from 'cc';\nimport { Functions } from '../../Tools/Functions';\nimport { Generator } from '../../Tools/Generator';\nimport { ResMgr } from '../../Tools/ResMgr';\nimport { Subscribe } from '../../Tools/Subscribe';\nimport { MonsterMgr } from '../Monster/MonsterMgr';\nimport { StageMgr } from './StageMgr';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var StagePoint = (_dec = ccclass('StagePoint'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(StagePoint, _Component);\n\n  function StagePoint() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"ui_target\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"ui_node\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"text\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"camera\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"meshR\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"enable_mtr\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"disable_mtr\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"select_mtr\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"isEnabled\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"slt_flag\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"data\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"idx\", 0);\n\n    return _this;\n  }\n\n  var _proto = StagePoint.prototype;\n\n  // 关卡下标\n  _proto.onLoad = function onLoad() {\n    var _this2 = this;\n\n    this.meshR = this.node.getComponent(MeshRenderer); // 获取材质管理器\n\n    ResMgr.loadRes(\"Material\", \"/Stage/Stage_enable\", Material, function (res) {\n      // 加载可用状态材质\n      _this2.enable_mtr = res;\n\n      if (_this2.isEnabled) {\n        var _this2$meshR;\n\n        (_this2$meshR = _this2.meshR) === null || _this2$meshR === void 0 ? void 0 : _this2$meshR.setMaterial(_this2.enable_mtr, 0);\n      }\n    }, this.name, this.onLoad.name);\n    ResMgr.loadRes(\"Material\", \"/Stage/Stage_disable\", Material, function (res) {\n      // 加载禁用状态材质\n      _this2.disable_mtr = res;\n    }, this.name, this.onLoad.name);\n    ResMgr.loadRes(\"Material\", \"/Stage/Stage_selected\", Material, function (res) {\n      // 加载选中状态材质\n      _this2.select_mtr = res;\n    }, this.name, this.onLoad.name);\n    Subscribe.listen(\"touch_start\" + this.node.uuid, this.node.uuid, function () {\n      var _this2$meshR2;\n\n      // 触摸开始事件\n      if (!_this2.isEnabled) {\n        return;\n      }\n\n      _this2.slt_flag = true;\n      (_this2$meshR2 = _this2.meshR) === null || _this2$meshR2 === void 0 ? void 0 : _this2$meshR2.setMaterial(_this2.select_mtr, 0); // 将材质改为被选中\n    });\n    Subscribe.listen(\"touch_end\" + this.node.uuid, this.node.uuid, function () {\n      // 触摸结束事件(触点在自身)\n      if (_this2.isEnabled && _this2.slt_flag) {\n        _this2.changeSelect();\n      } // 只有当可用且触摸标识在自身时才响应\n\n    });\n    Subscribe.listen(\"touch_end\", this.node.uuid, function () {\n      // 触摸结束事件\n      if (_this2.isEnabled && _this2.slt_flag) {\n        var _this2$meshR3;\n\n        _this2.slt_flag = false;\n        (_this2$meshR3 = _this2.meshR) === null || _this2$meshR3 === void 0 ? void 0 : _this2$meshR3.setMaterial(_this2.enable_mtr, 0); // 恢复到选中状态材质\n      }\n    });\n  };\n\n  _proto.init = function init(uiParent, conf, record) {\n    var _find;\n\n    this.ui_target = this.node.getChildByName(\"UITarget\"); // UI跟随的节点（3D)\n\n    this.camera = (_find = find(\"/Main Camera\")) === null || _find === void 0 ? void 0 : _find.getComponent(Camera); // 主摄像机\n\n    var pos = v3(conf[\"pos\"][0], conf[\"pos\"][1], conf[\"pos\"][2]); // 摆放\n\n    this.node.setPosition(pos);\n    var gen = Generator.getInstance(); // 预制体生成器\n\n    this.ui_node = gen.generator(uiParent, \"Stage_UI\"); // 生成UI节点\n\n    if (this.ui_target && this.ui_node) {\n      this.ui_node.on(\"click\", this.changeSelect, this);\n      var label = this.ui_node.getChildByName(\"Label\");\n\n      if (label) {\n        this.text = label.getComponent(Label);\n      }\n\n      if (this.text) {\n        this.text.string = conf[\"name\"];\n      } // 设置关卡名称\n\n\n      var mstMgr = MonsterMgr.getInstance(); // 怪物管理器\n\n      var mst_conf = [];\n      conf[\"monsters\"].forEach(function (mst) {\n        // 获取关卡内的怪物配置\n        mst_conf.push(mstMgr.getMonsterAttr(mst));\n      });\n      this.idx = conf[\"idx\"];\n      var mst_pos_idxs = [];\n\n      for (var i = 0; i < mst_conf.length; i++) {\n        mst_pos_idxs.push({\n          \"id\": mst_conf[i][\"id\"],\n          \"idx\": i\n        });\n      } // 生成配置\n\n\n      this.data = {\n        // 生成数据\n        \"curr_stage\": StageMgr.getInstance().curr_stage,\n        \"idx\": this.idx,\n        \"formation\": {\n          \"id\": \"monster\",\n          \"name\": \"怪物\",\n          \"ids_idxs\": mst_pos_idxs,\n          \"pos_idxs\": [0, 1, 2, 3, 4, 5, 6, 7, 8]\n        },\n        \"heros\": mst_conf\n      };\n\n      if (this.idx <= record) {\n        // 若已通关或解锁则改为可用状态\n        this.isEnabled = true;\n\n        if (this.idx === record) {\n          this.changeSelect();\n        } // 此处初始化了进入选关界面以后显示哪个关卡\n\n      }\n    }\n  };\n\n  _proto.changeSelect = function changeSelect() {\n    var _this3 = this;\n\n    // 改变选中关卡\n    var x = this.node.getPosition().x + 10;\n\n    if (this.camera) {\n      var camera_pos = this.camera.node.getPosition();\n      var camera_tween = tween(this.camera.node) // 缓动移动摄像头到关卡位置\n      .to(1, {\n        position: v3(x, camera_pos.y, camera_pos.z)\n      }, {\n        easing: \"sineInOut\"\n      }).call(function () {\n        Subscribe.remove(\"touch screen start\", _this3.name);\n      }) // 缓动结束后移除监听\n      .start();\n      Subscribe.listen(\"touch screen start\", this.name, function () {\n        // 监听触摸事件\n        camera_tween.stop(); // 移动过程中有触摸事件则终止缓动\n\n        Subscribe.remove(\"touch screen start\", _this3.name); // 终止后移除监听\n      }, this);\n    }\n\n    Subscribe.trigger(\"change select stage\", this.data);\n  };\n\n  _proto.update = function update() {\n    if (this.ui_target && this.camera && this.ui_node) {\n      Functions.UIFllow3DNode(this.ui_node, this.camera, this.ui_target); // 跟随3D节点\n    }\n  };\n\n  return StagePoint;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"71db522BotC/5rA/qLKKGjj\", \"NetWork\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { Err } from '../Tools/Err';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var NetWork = (_dec = ccclass('NetWork'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(NetWork, _Component);\n\n  function NetWork() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"ws\", new WebSocket(\"ws://82.157.123.54:9010/ajaxchattest\"));\n\n    _defineProperty(_assertThisInitialized(_this), \"nodeDict\", new Map());\n\n    return _this;\n  }\n\n  var _proto = NetWork.prototype;\n\n  _proto.onLoad = function onLoad() {\n    var _this2 = this;\n\n    this.ws.onopen = function (e) {\n      console.log(e + \"\\n\" + \"Send Text WS was opened.\");\n    };\n\n    this.ws.onmessage = function (event) {\n      console.log(\"Response text msg: \" + event.data);\n      console.log(\"Response msg type: \" + typeof event.data);\n    };\n\n    this.ws.onerror = function (event) {\n      console.log(\"Send Text fired an error\");\n    };\n\n    this.ws.onclose = function (event) {\n      console.log(\"WebSocket instance closed.\");\n    };\n\n    this.scheduleOnce(function () {\n      if (_this2.ws.readyState === WebSocket.OPEN) {\n        _this2.ws.send(\"User connect success\");\n      } else {\n        console.log(\"WebSocket instance wasn't ready...\");\n      }\n    }, 1); // 需要初始化节点的字典\n    // this.nodeDict.set(\"nodeName\", node);\n  };\n\n  _proto.sendMsg = function sendMsg(msg) {\n    this.ws.send(msg);\n  };\n\n  _proto.sendFile = function sendFile(file) {\n    this.ws.send(file);\n  };\n\n  _proto.receiveMsg = function receiveMsg(msg) {\n    var params = msg.split(\";\"); // 分隔符写入配置？\n\n    if (params.length < 1) {\n      Err.alert(\"Message should not be null.\", this.name, this.receiveMsg.name);\n      return;\n    }\n\n    if (params.length === 1) {\n      console.log(msg);\n    }\n\n    if (params.length > 1) {\n      var node = this.nodeDict.get(params[0]);\n\n      if (!node) {\n        Err.alert(\"Node not found.\", this.name, this.receiveMsg.name);\n        return;\n      }\n\n      var type = params.shift();\n      node.emit(\"receiveMsg\", type, params);\n    }\n  };\n\n  return NetWork;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"72b74mZotFPL7EUJB7rOzxg\", \"AtkMgr\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { Functions } from '../../Tools/Functions';\nimport { Subscribe } from '../../Tools/Subscribe';\nimport { HpMgr } from '../HP/HpMgr';\nimport { DmgCal } from './DmgCal';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var AtkMgr = (_dec = ccclass('AtkMgr'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(AtkMgr, _Component);\n\n  function AtkMgr() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"allies\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"enemies\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"all\", []);\n\n    return _this;\n  }\n\n  var _proto = AtkMgr.prototype;\n\n  // 穿插合并后的数组\n  _proto.onLoad = function onLoad() {\n    var _this2 = this;\n\n    Subscribe.listen(\"battle is ready\", this.name, this.start_battle, this); // 等待战斗场景初始化完成\n\n    Subscribe.listen(\"hero die\", this.name, function (hero) {\n      // 武将（敌人）阵亡\n      // ###############################################\n      if (hero.camp === _this2.allies[0].camp) {\n        Functions.del(_this2.allies, hero);\n      } // 如果是友方\n      else {\n          Functions.del(_this2.enemies, hero);\n        } // 敌方\n      // 测试阶段因为数据都保存在本地，故需要做这个判断\n\n\n      Functions.del(_this2.all, hero); // 整体数组也要删除\n      // ###############################################\n\n      hero.node.destroy(); // 销毁阵亡的武将节点\n    });\n    Subscribe.listen(\"battle interrupted\", this.name, function () {\n      // 战斗被中止\n      Subscribe.remove(\"hero die\", _this2.name); // 移除监听\n\n      _this2.unscheduleAllCallbacks(); // 移除所有计时器\n\n    });\n  };\n\n  _proto.start_battle = function start_battle(allies, enemies) {\n    var _this3 = this;\n\n    this.allies = allies; // 初始化战斗双方数据\n\n    this.enemies = enemies; // ############################################################################\n    // 测试阶段在本地做轮流攻击，采用合并数组的方式实现\n\n    this.all = Functions.alternate(this.allies, this.enemies); // 交替穿插合并敌我武将\n\n    var count = -1; // 本地测试\n\n    this.schedule(function () {\n      if (_this3.allies.length < 1 || _this3.enemies.length < 1) {\n        // 任意一方人数归零则战斗结束\n        _this3.unscheduleAllCallbacks(); // 战斗结束解除计时器\n\n\n        Subscribe.trigger(\"battle decided\", false, _this3.allies.length > _this3.enemies.length, [true, true, true]); // 分出胜负\n\n        return;\n      }\n\n      count = (count + 1) % _this3.all.length; // 根据长度以及上一位发起攻击的角色下标决定当前发起攻击的角色下标\n\n      _this3.attack(_this3.all[count]); // 调用攻击方法\n\n    }, 1.5); // ############################################################\n  };\n\n  _proto.attack = function attack(hero) {\n    var target, target_Eff;\n    var hp = HpMgr.getInstance(); // 血量管理\n\n    if (hero.camp === this.allies[0].camp) {\n      target = this.enemies[0];\n    } // 寻找攻击对象，测试阶段默认对方数组第一个\n    else {\n        target = this.allies[0];\n      }\n\n    var dmg = DmgCal.calculate(hero, target); // 计算伤害\n\n    hp.changeHp(target.id, -dmg); // 造成伤害\n\n    var atkEff = hero.atkEff; // 攻击特效\n\n    target_Eff = target.hitEff; // 受击特效\n\n    if (!atkEff || !target_Eff) {\n      return;\n    }\n\n    atkEff.play(); // 播放特效\n\n    target_Eff.play();\n  } // private find_target(hero: Info, troops: Info[]) { // 测试阶段暂不考虑寻敌\n  // }\n  ;\n\n  return AtkMgr;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { createClass as _createClass } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"763eddn/1pE1KZHknjLgf+7\", \"Info\", undefined);\n\nimport { _decorator, Component, ParticleSystem } from 'cc';\nimport { Err } from '../../Tools/Err';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Info = (_dec = ccclass('Info'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Info, _Component);\n\n  function Info() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"__id\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"__atkEff\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"__hitEff\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"__camp\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"__conf\", void 0);\n\n    return _this;\n  }\n\n  var _proto = Info.prototype;\n\n  // 配置\n  _proto.onLoad = function onLoad() {};\n\n  _proto.init = function init(id, camp, conf) {\n    var _this$node$getChildBy, _this$node$getChildBy2;\n\n    this.__id = id;\n    this.__camp = camp;\n    this.__conf = conf;\n    var atkEff_name = this.__conf[\"atkEff\"];\n    this.__atkEff = (_this$node$getChildBy = this.node.getChildByName(atkEff_name)) === null || _this$node$getChildBy === void 0 ? void 0 : _this$node$getChildBy.getComponent(ParticleSystem);\n    var hitEff_name = this.__conf[\"hitEff\"];\n    this.__hitEff = (_this$node$getChildBy2 = this.node.getChildByName(hitEff_name)) === null || _this$node$getChildBy2 === void 0 ? void 0 : _this$node$getChildBy2.getComponent(ParticleSystem);\n\n    if (!this.__atkEff) {\n      Err.console(\"Can't find child or component!\", this.name, this.init.name);\n      return;\n    }\n  };\n\n  _proto.getConf = function getConf(arg) {\n    return this.__conf[arg];\n  };\n\n  _createClass(Info, [{\n    key: \"id\",\n    get: function get() {\n      return this.__id;\n    }\n  }, {\n    key: \"atkEff\",\n    get: function get() {\n      return this.__atkEff;\n    }\n  }, {\n    key: \"hitEff\",\n    get: function get() {\n      return this.__hitEff;\n    }\n  }, {\n    key: \"camp\",\n    get: function get() {\n      return this.__camp;\n    }\n  }]);\n\n  return Info;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"765bc3YG/hPY7uK+YRxg9bF\", \"StageMaker\", undefined);\n\nimport { _decorator, Component, find } from 'cc';\nimport { Err } from '../../Tools/Err';\nimport { Generator } from '../../Tools/Generator';\nimport { Subscribe } from '../../Tools/Subscribe';\nimport { StageMgr } from './StageMgr';\nimport { StagePoint } from './StagePoint';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var StageMaker = (_dec = ccclass('StageMaker'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(StageMaker, _Component);\n\n  function StageMaker() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"mgr\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"conf\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"test_data\", {\n      \"main\": 2\n    });\n\n    return _this;\n  }\n\n  var _proto = StageMaker.prototype;\n\n  // #########################\n  _proto.onLoad = function onLoad() {\n    Subscribe.listen(\"prepare stage\", this.name, this.prepare, this);\n  };\n\n  _proto.prepare = function prepare(stage_name) {\n    var _this$mgr,\n        _this2 = this;\n\n    this.mgr = StageMgr.getInstance();\n    this.mgr.curr_stage = stage_name; // 更新关卡名\n\n    var stage_root = find(\"/SafeArea/Stage_Root\");\n    var ui_root = find(\"/Canvas/StageUI_Root\");\n    var gen = Generator.getInstance(); // 后续需要考虑多种副本，先将主线副本DEMO完成\n    // #########################################################\n\n    var record = this.getRecord(stage_name);\n    this.conf = (_this$mgr = this.mgr) === null || _this$mgr === void 0 ? void 0 : _this$mgr.getStageConf(stage_name); // 读取关卡配置\n\n    this.conf[\"stage\"].forEach(function (stage) {\n      // 根据配置生成关卡地图\n      if (!stage_root || !ui_root) {\n        Err.console(\"Can'f find root!\", _this2.name, _this2.prepare.name);\n        return;\n      } // let pos = v3(stage[\"pos\"][0], stage[\"pos\"][1], stage[\"pos\"][2]); // 获取当前生成的关卡的摆放位置\n\n\n      var new_stage = gen.generator(stage_root, \"Stage_model\"); // 生成当前关卡\n\n      var stage_ctrl = new_stage === null || new_stage === void 0 ? void 0 : new_stage.getComponent(StagePoint); // 获取脚本\n\n      if (stage_ctrl) {\n        stage_ctrl.init(ui_root, stage, record); // 初始化\n      }\n    }); // #########################################################\n  };\n\n  _proto.getRecord = function getRecord(stage_name) {\n    // ################################\n    return this.test_data[stage_name]; // ################################\n  };\n\n  return StageMaker;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"80ed3LIGndKWYTai4xgjojl\", \"StageScene\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { SceneMgr } from '../../Tools/SceneMgr';\nimport { Subscribe } from '../../Tools/Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var StageScene = (_dec = ccclass('StageScene'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(StageScene, _Component);\n\n  function StageScene() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"stage_name\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"formation_btn\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"formation_node\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"retrun_btn\", null);\n\n    return _this;\n  }\n\n  var _proto = StageScene.prototype;\n\n  _proto.onLoad = function onLoad() {\n    var _this$retrun_btn,\n        _this2 = this;\n\n    this.retrun_btn = this.node.getChildByPath(\"TopBar/Return\");\n    (_this$retrun_btn = this.retrun_btn) === null || _this$retrun_btn === void 0 ? void 0 : _this$retrun_btn.on(\"click\", function () {\n      SceneMgr.getInstance().loadScene(\"Main\", null);\n    });\n    this.formation_btn = this.node.getChildByPath(\"Btns/Formation_Btn\");\n    this.formation_node = this.node.getChildByPath(\"Windows_Root/Formation\");\n\n    if (this.formation_btn) {\n      this.formation_btn.on(\"click\", function () {\n        if (_this2.formation_node) {\n          _this2.formation_node.active = true;\n        }\n      });\n    }\n\n    Subscribe.listen(\"change scene\", this.name, function (scene_name, data) {\n      if (scene_name === \"Expedition\") {\n        _this2.stage_name = data;\n        Subscribe.trigger(\"prepare stage\", _this2.stage_name);\n      }\n    });\n  };\n\n  return StageScene;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"8af06peD1xBwpJNBlnbogCJ\", \"Functions\", undefined);\n\nimport { _decorator, Component, Vec3, v4, math, v3, Quat } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nvar sin = Math.sin,\n    cos = Math.cos,\n    sqrt = Math.sqrt,\n    pow = Math.pow;\nexport var Functions = (_dec = ccclass('Functions'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Functions, _Component);\n\n  function Functions() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  // 将数字转为带逗号格式的字符串\n  Functions.numToStr = function numToStr(num) {\n    if (num === 0) {\n      return \"0\";\n    }\n\n    var str = \"\";\n    var temp = num;\n\n    while (temp > 0) {\n      temp = temp % 1000;\n\n      if (num >= 1000 && temp < 100) {\n        if (temp < 10) {\n          str = \"00\" + temp.toString() + \",\" + str;\n        } else {\n          str = \"0\" + temp.toString() + \",\" + str;\n        }\n      } else {\n        str = temp.toString() + \",\" + str;\n      }\n\n      num = Math.floor(num / 1000);\n      temp = num;\n    }\n\n    str = str.substr(0, str.length - 1);\n    return str;\n  } // 将数字转为带字母的表达形式\n  ;\n\n  Functions.numToChar = function numToChar(num) {\n    var digit = 0;\n\n    for (; num >= 1000; digit++) {\n      num = Math.floor(num / 1000);\n    }\n\n    var _char = Functions.char_map.get(digit);\n\n    if (_char) {\n      return num.toString().concat(_char);\n    } else return (num *= Math.pow(1000, digit)).toString();\n  } // 交替穿插合并两个数组\n  ;\n\n  Functions.alternate = function alternate(a, b) {\n    var temp = [];\n\n    var _short = a.length > b.length ? b : a;\n\n    var _long = a.length > b.length ? a : b;\n\n    for (var i = 0; i < _long.length; i++) {\n      temp.push(_long[i]);\n\n      if (i < _short.length) {\n        temp.push(_short[i]);\n      }\n    }\n\n    return temp;\n  } // 删除数组中指定元素\n  ;\n\n  Functions.del = function del(a, target) {\n    var idx = a.indexOf(target);\n\n    if (idx > -1) {\n      a.splice(idx, 1);\n    }\n  } // 使UI中的节点跟随到3D空间节点(如3D节点会改变位置则需相应更新)\n  ;\n\n  Functions.UIFllow3DNode = function UIFllow3DNode(uiNode, camera, target) {\n    var parent = uiNode.parent;\n\n    if (!parent) {\n      return;\n    }\n\n    var offset = new Vec3();\n    camera.convertToUINode(target.worldPosition, parent, offset);\n    uiNode.setPosition(offset);\n  } // 深拷贝\n  ;\n\n  Functions.deepCopy = function deepCopy(e) {\n    var copy = {};\n\n    for (var key in e) {\n      copy[key] = JSON.parse(JSON.stringify(e[key]));\n    }\n\n    return copy;\n  } // 根据名称寻找指定节点(广度优先)\n  ;\n\n  Functions.getNodeByName = function getNodeByName(name, root) {\n    var child = root.getChildByName(name);\n\n    if (child) {\n      return child;\n    }\n\n    var children = root.children;\n\n    while (children.length > 0) {\n      child = children[0].getChildByName(name);\n\n      if (child) {\n        break;\n      }\n\n      children = children.concat(children[0].children);\n      children.splice(0, 1);\n    }\n\n    if (child) {\n      return child;\n    }\n\n    ;\n    return null;\n  } // 根据路径寻找指定节点\n  ;\n\n  Functions.getNodeByPath = function getNodeByPath(path, root) {\n    var names = path.split(\"/\");\n    var child = root;\n\n    while (names.length > 0) {\n      if (!child) {\n        break;\n      }\n\n      child = child.getChildByName(names[0]);\n      names.splice(0, 1);\n    }\n\n    if (!child) {\n      return null;\n    }\n\n    return child;\n  } // 数组求和\n  ;\n\n  Functions.sumOfArray = function sumOfArray(arr) {\n    var total = 0;\n    arr.forEach(function (num) {\n      total += num;\n    });\n    return total;\n  } // 根据概率抽值返回\n  ;\n\n  Functions.probToVal = function probToVal(ps, values) {\n    if (values.length < 1) {\n      return null;\n    }\n\n    if (ps.length < 1 || ps.length != values.length) {\n      return values[0];\n    }\n\n    var total = Functions.sumOfArray(ps);\n    var section = [];\n\n    for (var i = 0; i < ps.length; i++) {\n      // 将概率铺展成区间\n      section[i] = 0;\n\n      if (i > 0) {\n        section[i] = section[i - 1];\n      }\n\n      section[i] += ps[i];\n    }\n\n    var random_num = Math.random() * total;\n\n    for (var _i = 0; _i < section.length; _i++) {\n      if (random_num <= section[_i]) {\n        return values[_i];\n      }\n    }\n\n    return values[0];\n  } // 根据区间随机返回值\n  ;\n\n  Functions.randomInSec = function randomInSec(max, min) {\n    return min + Math.round(Math.random() * (max - min));\n  };\n\n  Functions.charAt = function charAt(str, idx) {\n    // 获取指定下标位置的字符，若下标大于长度则返回-1\n    if (str.length > idx) return str.charAt(idx);\n    return -1;\n  };\n\n  Functions.exch = function exch(array, idx_1, idx_2) {\n    // 交换数组内两个元素的位置\n    var temp = array[idx_1];\n    array[idx_1] = array[idx_2];\n    array[idx_2] = temp;\n  };\n\n  Functions.sortStr = function sortStr(strs, low, high, idx) {\n    // 三区块基数快速排序\n    if (high <= low) {\n      return;\n    }\n\n    var low_s = low,\n        high_S = high; // low_s是比当前小的区块下标标记，high_s亦然\n\n    var _char2 = this.charAt(strs[low], idx); // 当前被比较的字符串的指定位置字符\n\n\n    var i = low + 1;\n\n    while (i <= high_S) {\n      var temp = this.charAt(strs[i], idx); // 获取参与比较的字符串的指定位置字符\n\n      if (temp < _char2) {\n        Functions.exch(strs, low_s++, i++);\n      } // 若比被比较的字符小则移入小区\n      else if (temp > _char2) {\n          Functions.exch(strs, i, high_S--);\n        } // 若比被比较的字符大则移入大区\n        else {\n            i++;\n          } // 若相等则不用移动，继续呆在相等区\n\n    }\n\n    Functions.sortStr(strs, low, low_s - 1, idx); // 继续排序小区\n\n    if (_char2 != -1) {\n      Functions.sortStr(strs, low_s, high_S, idx + 1);\n    } // 相等区排序下一位置的字符\n\n\n    Functions.sortStr(strs, high_S + 1, high, idx); // 继续排序大区\n  };\n\n  Functions.EulerToQuaternion = function EulerToQuaternion(v) {\n    // 欧拉角转四元数\n    var wx = sin(v.y / 2) * sin(v.z / 2) * cos(v.x / 2) + cos(v.y / 2) * cos(v.z / 2) * sin(v.x / 2);\n    var wy = sin(v.y / 2) * cos(v.z / 2) * cos(v.x / 2) + cos(v.y / 2) * sin(v.z / 2) * sin(v.x / 2);\n    var wz = cos(v.y / 2) * sin(v.z / 2) * cos(v.x / 2) - sin(v.y / 2) * cos(v.z / 2) * sin(v.x / 2);\n    var ww = cos(v.y / 2) * cos(v.z / 2) * cos(v.x / 2) - sin(v.y / 2) * sin(v.z / 2) * sin(v.x / 2);\n    return v4(wx, wy, wz, ww);\n  } // 四元数乘法\n  ;\n\n  Functions.Multiply = function Multiply(q1, q2) {\n    var w = q1.w * q2.w - q1.x * q2.x - q1.y * q2.y - q1.z * q2.z;\n    var x = q1.w * q2.x + q1.x * q2.w + q1.y * q2.z - q1.z * q2.y;\n    var y = q1.w * q2.y + q1.y * q2.w + q1.z * q2.x - q1.x * q2.z;\n    var z = q1.w * q2.z + q1.z * q2.w + q1.x * q2.y - q1.y * q2.x;\n    return v4(x, y, z, w);\n  } // 角度转弧度\n  ;\n\n  Functions.ToRadian = function ToRadian(a) {\n    return v3(math.toRadian(a.x), math.toRadian(a.y), math.toRadian(a.z));\n  } // 四元数求逆\n  ;\n\n  Functions.getInverse = function getInverse(q) {\n    var mod_square = pow(q.x, 2) + pow(q.y, 2) + pow(q.z, 2) + pow(q.w, 2); // 四元数范数的平方\n\n    var adjoint = v4(-q.x, -q.y, -q.z, q.w); // 共轭四元数\n\n    return adjoint.multiplyScalar(1 / mod_square); // 四元数的逆等于其共轭四元数除以四元数范数的平方\n  } // 使用四元数根据给出的欧拉角计算旋转后的向量\n  ;\n\n  Functions.QuaternionRotate = function QuaternionRotate(v, a) {\n    // v:被旋转的向量，a:欧拉角\n    var qv = v4(v.x, v.y, v.z, 0); // 将三维向量转换为纯四元数\n\n    var qr = Functions.EulerToQuaternion(Functions.ToRadian(a)); // 将欧拉角转换为四元数\n\n    var inverse = Functions.getInverse(qr); // 求出该四元数的逆\n\n    var qv_r = Functions.Multiply(qr, qv); // 计算旋转\n\n    qv_r = Functions.Multiply(qv_r, inverse);\n    v = v3(qv_r.x, qv_r.y, qv_r.z); // w=0，直接将x,y,z取出得到旋转后的结果\n\n    return v;\n  } // 使用四元数计算旋转后的向量\n  ;\n\n  Functions.getRotateVec = function getRotateVec(v, qr) {\n    var qv = new Quat(v.x, v.y, v.z, 0); // 将三维向量转换为纯四元数\n\n    var invert = new Quat();\n    Quat.invert(invert, qr); // 求出该四元数的逆\n\n    var res = new Quat();\n    Quat.multiply(res, qr, qv); // 计算旋转\n\n    Quat.multiply(res, res, invert);\n    v = v3(res.x, res.y, res.z); // w=0，直接将x,y,z取出得到旋转后的结果\n\n    return v;\n  };\n\n  return Functions;\n}(Component), _defineProperty(_class2, \"char_map\", new Map([[0, \" \"], [1, \"k\"], [2, \"M\"], [3, \"G\"], [4, \"T\"], [5, \"P\"], [6, \"E\"], [7, \"Z\"], [8, \"Y\"]])), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { wrapNativeSuper as _wrapNativeSuper } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"8bd04qyxNxJT5dEY0GnptVy\", \"BasicException\", undefined);\n\nimport { _decorator } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var BasicExceptionCode = {\n  PARAM_COUNT: \"BASIC0001\",\n  PARAM_TYPE: \"BASIC0002\",\n  PARAM_NULL: \"BASIC0003\"\n};\nexport var BasicException = (_dec = ccclass('BasicException'), _dec(_class = (_temp = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(BasicException, _Error);\n\n  function BasicException(code, detail, script, func) {\n    var _this;\n\n    if (code === void 0) {\n      code = \"BASIC9999\";\n    }\n\n    if (detail === void 0) {\n      detail = \"\";\n    }\n\n    if (script === void 0) {\n      script = \"\";\n    }\n\n    if (func === void 0) {\n      func = \"\";\n    }\n\n    _this = _Error.call(this) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"map\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"code\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"msg\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"detail\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"script\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"func\", \"\");\n\n    _this.map = new Map([['BASIC0001', '参数数量错误'], ['BASIC0002', '参数类型错误'], ['BASIC0003', '参数为空'], ['BASIC9999', '未知错误']]);\n\n    _this.check(code, detail, script, func);\n\n    return _this;\n  }\n\n  var _proto = BasicException.prototype;\n\n  _proto.appendMap = function appendMap(map) {\n    this.map = new Map([].concat(this.map, map));\n  };\n\n  _proto.check = function check(code, detail, script, func) {\n    if (code === void 0) {\n      code = \"BASIC9999\";\n    }\n\n    if (detail === void 0) {\n      detail = \"\";\n    }\n\n    if (script === void 0) {\n      script = \"Unknown\";\n    }\n\n    if (func === void 0) {\n      func = \"Unknown\";\n    }\n\n    this.detail = detail;\n    this.script = script;\n    this.func = func;\n\n    if (this.map.has(code)) {\n      this.code = code;\n      this.msg = this.map.get(code);\n    } else {\n      this.code = \"BASIC9999\";\n      this.msg = this.map.get(code);\n    }\n  };\n\n  _proto.getCode = function getCode() {\n    return this.code;\n  } //获取错误码中文描述\n  ;\n\n  _proto.getMsg = function getMsg() {\n    return this.msg;\n  } //获取错误明细(错误明细是抛出错误时手动传入的)\n  ;\n\n  _proto.getDetail = function getDetail() {\n    return this.detail;\n  } //获取错误位置\n  ;\n\n  _proto.getErrPos = function getErrPos() {\n    return this.script + '.' + this.func;\n  } // 转字符串\n  ;\n\n  _proto.toString = function toString() {\n    return \"Error code:\" + this.code + \",msg:\" + this.msg + \",detail:\" + this.detail + \"\\nat: \" + this.script + \".\" + this.func;\n  };\n\n  return BasicException;\n}( /*#__PURE__*/_wrapNativeSuper(Error)), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"ae7b0kAXPZM9qNLD2yuk0Jy\", \"DmgCal\", undefined);\n\nimport { _decorator, Component } from 'cc';\nimport { Configure } from '../../Tools/Configure';\nimport { Subscribe } from '../../Tools/Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var DmgCal = (_dec = ccclass('DmgCal'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(DmgCal, _Component);\n\n  function DmgCal() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  var _proto = DmgCal.prototype;\n\n  // private static skill_gain: number = 0;\n  // private static crt_gain: number = 0;\n  // private static form_gain: number = 0;\n  // private static other_gain: number = 0;\n  // private static blk_reduce: number = 0;\n  // private static skill_reduce: number = 0;\n  // private static form_reduce: number = 0;\n  // private static other_reduce: number = 0;\n  _proto.onLoad = function onLoad() {\n    // find(\"/SafeArea\")?.on(\"settings loaded\", DmgCal.init, this);\n    Subscribe.listen(\"settings loaded\", this.name, DmgCal.init, this);\n  };\n\n  DmgCal.init = function init() {\n    var settings = Configure.getConfigure(\"soldier\")[\"common\"];\n    DmgCal.max_dmg_ratio = settings[\"max_dmg_ratio\"];\n    DmgCal.min_dmg_ratio = settings[\"min_dmg_ratio\"];\n    DmgCal.base_cri_dmg_rate = settings[\"base_cri_dmg_rate\"];\n    DmgCal.base_blk_dmg_rate = settings[\"base_blk_dmg_rate\"];\n  };\n\n  DmgCal.calculate = function calculate(atker, defer) {\n    // ###########################################\n    // 本地测试阶段，暂时简单按减法计算伤害\n    var atk = atker.getConf(\"atk\");\n    var def = defer.getConf(\"def\");\n    return atk - def; // ###########################################\n  };\n\n  DmgCal.max = function max(a, b) {\n    return a > b ? a : b;\n  };\n\n  DmgCal.min = function min(a, b) {\n    return a > b ? b : a;\n  };\n\n  return DmgCal;\n}(Component), _defineProperty(_class2, \"max_dmg_ratio\", 0), _defineProperty(_class2, \"min_dmg_ratio\", 0), _defineProperty(_class2, \"base_cri_dmg_rate\", 0), _defineProperty(_class2, \"base_blk_dmg_rate\", 0), _defineProperty(_class2, \"attr_diff\", 0), _defineProperty(_class2, \"counter\", 0), _defineProperty(_class2, \"tech_diff\", 0), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"bd906/qyOxFJ4wRnyW1VD37\", \"BattleFieldMaker\", undefined);\n\nimport { _decorator, Component, find, Vec3, v3 } from 'cc';\nimport { HerosMgr } from '../Heros/HerosMgr';\nimport { HpMgr } from './HP/HpMgr';\nimport { Err } from '../Tools/Err';\nimport { Generator } from '../Tools/Generator';\nimport { Subscribe } from '../Tools/Subscribe';\nimport { Info } from './Attack/Info';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var BattleFieldMaker = (_dec = ccclass('BattleFieldMaker'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(BattleFieldMaker, _Component);\n\n  function BattleFieldMaker() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"allies\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"enemies\", []);\n\n    return _this;\n  }\n\n  var _proto = BattleFieldMaker.prototype;\n\n  _proto.onLoad = function onLoad() {\n    Subscribe.listen(\"prepare battle\", this.name, this.prepare, this);\n  };\n\n  _proto.prepare = function prepare(enemy_conf) {\n    var army_node = find(\"/SafeArea/Armies\"); // 队伍父节点\n\n    var ally_node = army_node === null || army_node === void 0 ? void 0 : army_node.getChildByName(\"Allies\"); // 友方队伍父节点\n\n    var enemy_node = army_node === null || army_node === void 0 ? void 0 : army_node.getChildByName(\"Enemies\"); // 敌方队伍父节点\n\n    if (!ally_node || !enemy_node) {\n      Err.print(\"Can't find armies nodes.\", this.name, this.onLoad.name);\n      return;\n    }\n\n    var mgr = HerosMgr.getInstance(); // 武将Mgr\n\n    var gen = Generator.getInstance(); // 预制体实例化生成器\n\n    var ally_conf = mgr.getTroops(); // 获取友方阵容\n\n    var prePos = mgr.getConfigureConf(\"prePos\"); // 获取预先设定好的位置\n\n    this.genArmies(ally_node, ally_conf, gen, prePos, \"ally\"); // 生成友方队伍\n\n    this.genArmies(enemy_node, enemy_conf, gen, prePos, \"enemy\"); // 生成敌方队伍\n\n    Subscribe.trigger(\"battle is ready\", this.allies, this.enemies); // 生成完毕，开始战斗\n  };\n\n  _proto.genArmies = function genArmies(parent, conf, gen, prePos, camp) {\n    var hp = HpMgr.getInstance();\n    var conf_map = new Map();\n    conf[\"heros\"].forEach(function (hero) {\n      conf_map.set(hero[\"id\"], hero);\n    });\n    var hero_ids = conf[\"formation\"][\"ids_idxs\"]; // id对应位置下标配置\n\n    var pos_idxs = conf[\"formation\"][\"pos_idxs\"]; // 位置下标数组\n\n    if (hero_ids.length <= pos_idxs.length) {\n      for (var i = 0; i < hero_ids.length; i++) {\n        var hero_conf = conf_map.get(hero_ids[i][\"id\"]); // 获取武将配置\n\n        var pos_idx = pos_idxs[hero_ids[i][\"idx\"]]; // 获取位置配置的下标\n\n        var pos = prePos[\"pos\"][pos_idx]; // 获取位置配置\n\n        var pos_vec = new Vec3(pos[0] * prePos[\"3d_dist\"], 0, pos[1] * prePos[\"3d_dist\"]);\n        var hero_node = gen.generator(parent, \"Hero_3D\", pos_vec); // 实例化武将节点\n\n        if (!hero_node) {\n          return;\n        }\n\n        gen.generator(hero_node, hero_conf[\"atkEff\"], v3(0, 10, 0)); // 生成攻击特效\n\n        gen.generator(hero_node, hero_conf[\"hitEff\"], v3(0, 10, 0)); // 生成受击特效\n\n        gen.generator(hero_node, hero_conf[\"arms\"]); // 实例化队伍\n\n        var info = hero_node.getComponent(Info); // Info对象，用于存储武将/怪物的属性及其他配置\n\n        if (!info) {\n          Err.console(\"Can't find component!\", this.name, this.genArmies.name);\n          return;\n        }\n\n        if (camp === \"ally\") {\n          // 分阵营放置Info对象\n          info.init(hero_conf[\"id\"], camp, hero_conf);\n          this.allies.push(info);\n        } else if (camp === \"enemy\") {\n          info.init(hero_conf[\"id\"], camp, hero_conf);\n          this.enemies.push(info);\n        }\n\n        hp.genHpNum(info, camp); // 添加血量显示\n      }\n    }\n\n    hp.init_total_hp(conf, camp); // 总血量显示\n  };\n\n  _proto.reset = function reset() {\n    this.allies = [];\n    this.enemies = [];\n  };\n\n  return BattleFieldMaker;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"c1bdbLZqfJGYpKF+oDpiY/3\", \"Generator\", undefined);\n\nimport { _decorator, Component, Prefab, instantiate } from 'cc';\nimport { Err } from '../Tools/Err';\nimport { ResMgr } from './ResMgr';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Generator = (_dec = ccclass('Generator'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Generator, _Component);\n\n  Generator.getInstance = function getInstance() {\n    if (!Generator.ist) {\n      Generator.ist = new Generator(\"Generator\");\n    }\n\n    return Generator.ist;\n  };\n\n  function Generator(name) {\n    var _this;\n\n    _this = _Component.call(this, name) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"prefab_map\", new Map());\n\n    ResMgr.loadDir(\"Prefab\", \"/\", Prefab, function (prefabs) {\n      // 加载全部预制体\n      if (prefabs.length < 1) {\n        Err.alert(\"No prefabs\", _this.name, \"constructor\");\n        return;\n      }\n\n      prefabs.forEach(function (p) {\n        _this.prefab_map.set(p.data._name, p);\n      }); // 用预制体名作key，写配置需注意重名\n    }, _this.name, \"constructor\");\n    return _this;\n  }\n\n  var _proto = Generator.prototype;\n\n  _proto.generator = function generator(parent, name, pos) {\n    // parent: 父节点， name: 预制体名称\n    var prefab = this.prefab_map.get(name);\n\n    if (!prefab) {\n      Err.alert(\"Prefab \\'\" + name + \"\\' doesn't exist\", this.name, this.generator.name);\n      return null;\n    }\n\n    var new_node = instantiate(prefab);\n    new_node.parent = parent; // 放入父节点\n\n    if (pos) {\n      new_node.setPosition(pos);\n    } // 设置位置\n\n\n    return new_node;\n  };\n\n  return Generator;\n}(Component), _defineProperty(_class2, \"ist\", null), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _class2, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"c7475SI+L5ApZlKzyrWBCg8\", \"Subscribe\", undefined);\n\nimport { _decorator, Component } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Subscribe = (_dec = ccclass('Subscribe'), _dec(_class = (_temp = _class2 = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Subscribe, _Component);\n\n  function Subscribe() {\n    return _Component.apply(this, arguments) || this;\n  }\n\n  // ############\n  //   添加监听\n  // ############\n  Subscribe.listen = function listen(key, script, func, target) {\n    // func 传入之前可能需要 bind()\n    var map = new Map();\n\n    if (this.client_map.has(key)) {\n      map = this.client_map.get(key);\n    }\n\n    if (map) {\n      if (target) {\n        func = func.bind(target);\n      }\n\n      map.set(script, func);\n      this.client_map.set(key, map);\n      return true;\n    } else {\n      return false;\n    }\n  } // ############\n  //   触发消息\n  // ############\n  ;\n\n  Subscribe.trigger = function trigger(key) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var map = this.client_map.get(key);\n\n    if (!map) {\n      return false;\n    }\n\n    map.forEach(function (func) {\n      func.apply(func, args);\n    });\n  } // ############\n  //   移除监听\n  // ############\n  ;\n\n  Subscribe.remove = function remove(key, script) {\n    var map = this.client_map.get(key);\n\n    if (!map) {\n      return false;\n    }\n\n    if (!script) {\n      this.client_map[\"delete\"](key);\n      return true;\n    }\n\n    map[\"delete\"](script);\n    return true;\n  } // ############\n  //   清空列表\n  // ############\n  ;\n\n  Subscribe.reset = function reset() {\n    this.client_map.clear();\n  };\n\n  return Subscribe;\n}(Component), _defineProperty(_class2, \"client_map\", new Map()), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { initializerDefineProperty as _initializerDefineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { applyDecoratedDescriptor as _applyDecoratedDescriptor } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { initializerWarningHelper as _initializerWarningHelper } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _dec2, _class, _class2, _descriptor, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"ca895hZD0dCirKjl8GhUAUn\", \"ShowNum\", undefined);\n\nimport { _decorator, Component, Node, Sprite, SpriteAtlas, Vec3 } from 'cc';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var ShowNum = (_dec = ccclass('ShowNum'), _dec2 = property(SpriteAtlas), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(ShowNum, _Component);\n\n  function ShowNum() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _initializerDefineProperty(_assertThisInitialized(_this), \"sprAtlas\", _descriptor, _assertThisInitialized(_this));\n\n    _defineProperty(_assertThisInitialized(_this), \"_poolArr\", []);\n\n    return _this;\n  }\n\n  var _proto = ShowNum.prototype;\n\n  _proto.onLoad = function onLoad() {} // public loadTexture( texturePath:string = \"res/game/laba_haiyang.png\",callBack:Function = null ) :void {\n  // this._callBack = callBack;\n  // let self = this;\n  // if(self._sprAtlas){\n  //     self._callBack();\n  // }else{\n  //     cc.loader.loadRes(texturePath, cc.SpriteAtlas, function (err, atlas:cc.SpriteAtlas) {\n  //         self._sprAtlas = atlas;\n  //         self._callBack();\n  //     })\n  // }\n  // }\n  ;\n\n  _proto.getNodeFromPool = function getNodeFromPool(index) {\n    var numNode;\n    var numSpr;\n\n    if (this._poolArr.length == 0 || index + 1 > this._poolArr.length) {\n      numNode = new Node();\n      numSpr = numNode.addComponent(Sprite);\n\n      this._poolArr.push(numNode);\n    }\n\n    numNode = this._poolArr[index];\n\n    if (numNode && numNode.parent) {\n      numNode.parent.removeChild(numNode);\n    }\n\n    return numNode;\n  };\n\n  _proto.showNumber = function showNumber(num, frameName) {\n    if (frameName === void 0) {\n      frameName = \"num2-\";\n    }\n\n    if (this.sprAtlas == null) return;\n    this.removeReset();\n    var numArr = num.toString().split(\"\");\n    var numNode;\n    var numSpr;\n\n    for (var i = 0; i < numArr.length; i++) {\n      var _numSpr$spriteFrame;\n\n      numNode = this.getNodeFromPool(i);\n      this.node.addChild(numNode);\n      var sp = numNode.getComponent(Sprite);\n\n      if (!sp) {\n        return;\n      }\n\n      numSpr = sp;\n      var s = numArr[i];\n      numSpr.spriteFrame = this.sprAtlas.getSpriteFrame(frameName + s);\n      var pos = numNode.getPosition();\n\n      if (!numSpr.spriteFrame) {\n        return;\n      }\n\n      numNode.setPosition(new Vec3((((_numSpr$spriteFrame = numSpr.spriteFrame) === null || _numSpr$spriteFrame === void 0 ? void 0 : _numSpr$spriteFrame.rect.width) + 2) * i, pos.y, pos.z));\n    }\n  };\n\n  _proto.removeReset = function removeReset() {\n    this.node.removeAllChildren();\n  };\n\n  return ShowNum;\n}(Component), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"sprAtlas\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n})), _class2)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"cce4fYZM+VNDJw8Mk3KktI5\", \"Formation\", undefined);\n\nimport { _decorator, Component, v3, Sprite, SpriteFrame, Label, find, UITransform } from 'cc';\nimport { AlertLbl } from '../../Tools/AlertLbl';\nimport { Configure } from '../../Tools/Configure';\nimport { Err } from '../../Tools/Err';\nimport { Functions } from '../../Tools/Functions';\nimport { Generator } from '../../Tools/Generator';\nimport { ResMgr } from '../../Tools/ResMgr';\nimport { Subscribe } from '../../Tools/Subscribe';\nimport { HerosMgr } from '../HerosMgr';\nimport { FormationBar } from './FormationBar';\nimport { HeroPortrait } from './HeroPortrait';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var Formation = (_dec = ccclass('Formation'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Formation, _Component);\n\n  function Formation() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"hero_root\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"troop_conf\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"formation_conf\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"hero_map\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"finish_btn\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"alert_root\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"max_selection\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"selected_hero_ids\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"formation_name\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"portrait_root\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"portraits\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"bar_root\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"curr_formation_id\", \"\");\n\n    _defineProperty(_assertThisInitialized(_this), \"formation_ctrl_map\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"formation_conf_map\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"gen\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"sort_map\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"sort_type\", \"str\");\n\n    _defineProperty(_assertThisInitialized(_this), \"heros_conf_map\", new Map());\n\n    _defineProperty(_assertThisInitialized(_this), \"ids_sp\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"ids_nm\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"ids\", []);\n\n    return _this;\n  }\n\n  var _proto = Formation.prototype;\n\n  // 所有武将id\n  _proto.onLoad = function onLoad() {\n    var _this$node$getChildBy, _this$finish_btn;\n\n    this.gen = Generator.getInstance();\n    this.hero_root = this.node.getChildByPath(\"HeroView/view/content\"); // 武将根节点\n\n    this.portrait_root = this.node.getChildByPath(\"Formation_Panel/Formation_Root\"); // 阵型摆放武将头像的根节点\n\n    this.formation_name = (_this$node$getChildBy = this.node.getChildByPath(\"Formation_Panel/Name\")) === null || _this$node$getChildBy === void 0 ? void 0 : _this$node$getChildBy.getComponent(Label); // 阵型名称Label\n\n    this.bar_root = this.node.getChildByPath(\"Formation_Select/FormationView/view/content\"); // 阵型栏根节点\n\n    this.alert_root = this.node.getChildByName(\"Alert_Root\"); // 提示信息的根节点\n\n    this.troop_conf = HerosMgr.getInstance().getTroops(); // 队伍数据配置\n\n    this.formation_conf = this.troop_conf[\"formation\"]; // 阵型配置\n\n    if (this.formation_name) {\n      this.formation_name.string = this.formation_conf[\"name\"];\n    }\n\n    this.max_selection = this.formation_conf[\"pos_idxs\"].length; // 最大可编入武将数量\n\n    if (!this.portrait_root) {\n      return;\n    }\n\n    for (var i = 0; i < this.max_selection; i++) {\n      // 生成武将头像\n      var portrait = this.gen.generator(this.portrait_root, \"Hero_portrait\");\n      if (portrait) this.portraits.push(portrait); // 存入数组\n    }\n\n    this.curr_formation_id = this.formation_conf[\"id\"]; // 保存当前阵型id\n\n    this.setFormationBar(); // 初始化阵型选择栏\n\n    this.finish_btn = this.node.getChildByName(\"Finish\"); // 获取完成按钮\n\n    (_this$finish_btn = this.finish_btn) === null || _this$finish_btn === void 0 ? void 0 : _this$finish_btn.on(\"click\", this.hide, this); // 完成后隐藏界面\n\n    Subscribe.listen(\"changeSpHero\", this.name, this.changeSpHero, this); // 监听取消/设为常用消息\n\n    Subscribe.listen(\"change hero selected\", this.name, this.changeSelected, this); // 监听切换武将选中状态消息\n\n    Subscribe.listen(\"change formation\", this.name, this.changeFormation, this); // 监听切换阵型消息\n\n    this.sort_map = new Map([// 排序方法Map\n    [\"str\", this.sortStr.bind(this)]]);\n    this.sort_type = \"str\"; // 初始设为默认的方法\n\n    this.setHero(); // 摆放武将\n  };\n\n  _proto.onEnable = function onEnable() {\n    // 每次打开编队界面都刷新编队状态\n    this.updateFormation(true, true);\n  };\n\n  _proto.setFormationBar = function setFormationBar() {\n    var conf = Configure.getConfigure(\"hero\")[\"common\"][\"formation\"]; // 读取编队配置\n\n    if (!this.bar_root || !this.gen) {\n      return;\n    }\n\n    var bar_root_trans = this.bar_root.getComponent(UITransform); // 根节点UITransform组件，用于修改根节点ContentSzie\n\n    if (bar_root_trans) {\n      bar_root_trans.setContentSize(bar_root_trans.contentSize.width, 130 * (conf.length - 1));\n    }\n\n    for (var i = 0; i < conf.length; i++) {\n      // 放置阵型栏\n      if (conf[i][\"id\"] === \"monster\") {\n        continue;\n      }\n\n      this.formation_conf_map.set(conf[i][\"id\"], conf[i]); // 保存阵型配置\n\n      var node = this.gen.generator(this.bar_root, \"Formation_Bar\", v3(0, i * -130 - 75, 0)); // 生成阵型\n\n      var ctrl = node === null || node === void 0 ? void 0 : node.getComponent(FormationBar); // 获取阵型栏脚本\n\n      if (ctrl) {\n        ctrl.init(conf[i], this.curr_formation_id); // 初始化\n\n        this.formation_ctrl_map.set(conf[i][\"id\"], ctrl); // 保存阵型栏脚本\n      }\n    }\n  };\n\n  _proto.changeFormation = function changeFormation(id) {\n    var _this$formation_ctrl_, _this$formation_ctrl_2;\n\n    // 切换阵型\n    (_this$formation_ctrl_ = this.formation_ctrl_map.get(this.curr_formation_id)) === null || _this$formation_ctrl_ === void 0 ? void 0 : _this$formation_ctrl_.changeState(false); // 更新旧阵型状态为disable\n\n    (_this$formation_ctrl_2 = this.formation_ctrl_map.get(id)) === null || _this$formation_ctrl_2 === void 0 ? void 0 : _this$formation_ctrl_2.changeState(true); // 更新新阵型状态为enable\n\n    this.curr_formation_id = id; // 更新当前阵型id\n\n    this.formation_conf = this.formation_conf_map.get(id); // 覆盖当前的阵型配置(注意：此操作会丢失阵型中的武将信息，需要补充回去)\n\n    this.updateFormation(false, true); // 更新阵型\n  };\n\n  _proto.setHero = function setHero() {\n    // 摆放武将\n    for (var i = 0; i < this.troop_conf[\"heros\"].length; i++) {\n      this.troop_conf[\"heros\"][i][\"idx\"] = i; // 设置好idx，后面修改heros_conf_map时用的上\n\n      this.heros_conf_map.set(this.troop_conf[\"heros\"][i][\"id\"], this.troop_conf[\"heros\"][i]); // 武将配置map\n\n      if (this.troop_conf[\"heros\"][i][\"is_sp\"]) {\n        this.ids_sp.push(this.troop_conf[\"heros\"][i][\"id\"]);\n      } // 保存常用武将\n      else {\n          this.ids_nm.push(this.troop_conf[\"heros\"][i][\"id\"]);\n        } // 保存非常用武将\n      // 保存被编入编队的武将id\n\n\n      if (this.troop_conf[\"heros\"][i][\"is_select\"]) {\n        this.selected_hero_ids.push(this.troop_conf[\"heros\"][i][\"id\"]);\n      }\n    }\n\n    this.sortStr(); // 根据名称顺序排序\n\n    for (var _i = 0; _i < this.ids.length; _i++) {\n      // 新建武将并放入面板\n      if (!this.hero_root || !this.gen) {\n        return;\n      }\n\n      var hero_portrait = this.gen.generator(this.hero_root, \"Hero_2D\");\n\n      if (hero_portrait) {\n        var _hero_portrait$getCom;\n\n        (_hero_portrait$getCom = hero_portrait.getComponent(HeroPortrait)) === null || _hero_portrait$getCom === void 0 ? void 0 : _hero_portrait$getCom.init(this.heros_conf_map.get(this.ids[_i])); // 初始化\n\n        this.hero_map.set(this.ids[_i], hero_portrait); // 保存节点\n      }\n    }\n  };\n\n  _proto.changeSelected = function changeSelected(id, is_select, call_back) {\n    if (!is_select) {\n      // 如果传过来是未被选中说明即将被选中\n      if (this.selected_hero_ids.length >= this.max_selection) {\n        var _find, _this$hero_map$get;\n\n        // 如果选中的武将数量大于等于最大编入人数\n        var canvas_pos = (_find = find(\"Canvas\")) === null || _find === void 0 ? void 0 : _find.worldPosition; // 计算提示Label显示的位置\n\n        var portrait_pos = (_this$hero_map$get = this.hero_map.get(id)) === null || _this$hero_map$get === void 0 ? void 0 : _this$hero_map$get.worldPosition;\n\n        if (this.alert_root && canvas_pos && portrait_pos) {\n          var pos = v3(portrait_pos).subtract(canvas_pos);\n          AlertLbl.getInstance().alert(\"编队武将数量已达上限！\", this.alert_root, pos); // 显示提示Label\n        }\n\n        return; // 已达上限，所以不做操作直接返回\n      }\n\n      this.selected_hero_ids.push(id); // 若未达到上限，则添加武将至编队\n\n      this.troop_conf[\"heros\"][this.heros_conf_map.get(id)[\"idx\"]][\"is_select\"] = true; // 修改被选中标记\n    } else {\n      if (this.selected_hero_ids.length <= 0) {\n        return;\n      } // 若已无被选中的武将则直接返回（正常来说这个判断不会为true）\n\n\n      var idx = this.selected_hero_ids.indexOf(id); // 将取消选中的武将从编队中移除\n\n      this.selected_hero_ids.splice(idx, 1);\n      this.troop_conf[\"heros\"][this.heros_conf_map.get(id)[\"idx\"]][\"is_select\"] = false; // 修改被选中标记\n    }\n\n    call_back(); // 调用修改编队回调\n\n    this.updateFormation(true, false); // 更新编队信息\n  };\n\n  _proto.updateFormation = function updateFormation(update_hero, udpate_pos) {\n    var _this2 = this;\n\n    // 更新编队信息\n    if (!this.portrait_root || !this.selected_hero_ids || !this.formation_conf) {\n      return;\n    }\n\n    if (this.portraits.length < this.selected_hero_ids.length) {\n      // 如果选中的武将多于当前阵型人数，则说明出现问题\n      Err.console(\"Length of selected heros out of range!\", this.name, this.updateFormation.name);\n    }\n\n    if (update_hero) {\n      var _loop = function _loop(i) {\n        var portrait_sp = _this2.portraits[i].getComponent(Sprite); // 获取头像精灵组件\n\n\n        if (!portrait_sp) {\n          return \"continue\";\n        } // 若此时选中武将已配置完成，则剩余的置空\n\n\n        if (i >= _this2.selected_hero_ids.length) {\n          portrait_sp.spriteFrame = null;\n          return \"continue\";\n        } // 反之则更新头像图片\n\n\n        var hero_id = _this2.heros_conf_map.get(_this2.selected_hero_ids[i])[\"hero_id\"]; // 注意一件事，id和hero_id是不一样的，一个是当前这个武将的id，一个是武将配置中的武将id，即一个是每个玩家不一样一个是所有该武将都一样\n\n\n        ResMgr.loadDir(\"Texture\", \"Portrait/Hero/\" + hero_id, SpriteFrame, function (spf) {\n          if (portrait_sp && spf) {\n            portrait_sp.spriteFrame = spf[0];\n          }\n        }, _this2.name, _this2.updateFormation.name);\n      };\n\n      // 更新武将头像图片\n      for (var i = 0; i < this.portraits.length; i++) {\n        var _ret = _loop(i);\n\n        if (_ret === \"continue\") continue;\n      }\n    }\n\n    if (udpate_pos) {\n      // 更新武将头像位置\n      var pos_idxs = this.formation_conf[\"pos_idxs\"]; // 获取阵型位置配置\n\n      var prePos = Configure.getConfigure(\"hero\")[\"common\"][\"prePos\"]; // 获取武将头像位置配置\n\n      for (var _i2 = 0; _i2 < this.portraits.length; _i2++) {\n        var idx = prePos[\"pos\"][pos_idxs[_i2]];\n        var pos = v3(idx[0] * prePos[\"2d_dist\"], idx[1] * prePos[\"2d_dist\"], 0); // 计算头像位置\n\n        this.portraits[_i2].setPosition(pos); // 设置位置\n\n      }\n\n      if (this.formation_name) {\n        this.formation_name.string = this.formation_conf[\"name\"];\n      } // 更新阵型名称\n\n    }\n  };\n\n  _proto.changeSpHero = function changeSpHero(id, isAdd) {\n    // 设为/取消常用\n    var idx = this.heros_conf_map.get(id)[\"idx\"];\n    this.troop_conf[\"heros\"][idx][\"is_sp\"] = isAdd; // 同步更新配置\n\n    var add_ids,\n        del_ids = [];\n\n    if (isAdd) {\n      var _ref = [this.ids_sp, this.ids_nm];\n      add_ids = _ref[0];\n      del_ids = _ref[1];\n    } // 从一个数组中移除并添加至另一个数组\n    else {\n        var _ref2 = [this.ids_nm, this.ids_sp];\n        add_ids = _ref2[0];\n        del_ids = _ref2[1];\n      }\n\n    var del_idx = del_ids.indexOf(id);\n    del_ids.splice(del_idx, 1); // 删除\n\n    add_ids.push(id); // 添加\n\n    this.updateOder(); // 更新武将顺序\n  };\n\n  _proto.updateOder = function updateOder() {\n    var _this3 = this;\n\n    var sort_func = this.sort_map.get(this.sort_type);\n\n    if (sort_func) {\n      sort_func();\n    } // 根据设置找到指定排序方法并调用\n\n\n    if (this.hero_root) {\n      this.hero_root.removeAllChildren(); // 清空武将节点\n\n      this.ids.forEach(function (id) {\n        // 按照顺序重新摆放\n        var node = _this3.hero_map.get(id);\n\n        if (node) node.parent = _this3.hero_root;\n      });\n    }\n  };\n\n  _proto.sortStr = function sortStr() {\n    // 按照字符顺序排序\n    Functions.sortStr(this.ids_sp, 0, this.ids_sp.length - 1, 0);\n    Functions.sortStr(this.ids_nm, 0, this.ids_nm.length - 1, 0);\n    this.ids = this.ids_sp.concat(this.ids_nm);\n  };\n\n  _proto.hide = function hide(e) {\n    // 隐藏编队界面\n    if (this.selected_hero_ids.length > 0) {\n      var ids_idxs = [];\n\n      for (var i = 0; i < this.selected_hero_ids.length; i++) {\n        ids_idxs.push({\n          \"id\": this.selected_hero_ids[i],\n          \"idx\": i\n        }); // 收集阵型编队信息\n      }\n\n      this.formation_conf[\"ids_idxs\"] = ids_idxs; // 并将数据添加至配置中(对应上面的覆盖时丢失的数据)\n\n      this.troop_conf[\"formation\"] = this.formation_conf; // 更新\n\n      Subscribe.trigger(\"update troop\", this.troop_conf); // 并将新配置发射出去\n\n      this.node.active = false; // 隐藏\n\n      return; // 若编队中有人则不触发提醒\n    }\n\n    if (this.alert_root) {\n      // 若编队空无一人则不退出，提醒玩家\n      AlertLbl.getInstance().alert(\"请至少选择一位武将！\", this.alert_root, e.node.getPosition());\n    }\n  };\n\n  return Formation;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"ec227kpjOhAIZgH4kkSzwsE\", \"TotalHp\", undefined);\n\nimport { _decorator, Component, ProgressBar, Label, tween } from 'cc';\nimport { Functions } from '../../Tools/Functions';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var TotalHp = (_dec = ccclass('TotalHp'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(TotalHp, _Component);\n\n  function TotalHp() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"ally_bar\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"enemy_bar\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"ally_lbl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"enemy_lbl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"ally_max_hp\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"ally_cur_hp\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"enemy_max_hp\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"enemy_cur_hp\", 0);\n\n    return _this;\n  }\n\n  var _proto = TotalHp.prototype;\n\n  _proto.onLoad = function onLoad() {\n    var _this$node$getChildBy, _this$node$getChildBy2, _this$ally_bar, _this$ally_bar$node$g, _this$enemy_bar, _this$enemy_bar$node$;\n\n    // this.ally_protrait = this.node.getChildByName(\"AllyProtrait\")?.getComponent(Sprite);\n    // this.enemy_protrait = this.node.getChildByName(\"EnemyProtrait\")?.getComponent(Sprite);\n    this.ally_bar = (_this$node$getChildBy = this.node.getChildByName(\"AllyBar\")) === null || _this$node$getChildBy === void 0 ? void 0 : _this$node$getChildBy.getComponent(ProgressBar);\n    this.enemy_bar = (_this$node$getChildBy2 = this.node.getChildByName(\"EnemyBar\")) === null || _this$node$getChildBy2 === void 0 ? void 0 : _this$node$getChildBy2.getComponent(ProgressBar);\n    this.ally_lbl = (_this$ally_bar = this.ally_bar) === null || _this$ally_bar === void 0 ? void 0 : (_this$ally_bar$node$g = _this$ally_bar.node.getChildByName(\"Label\")) === null || _this$ally_bar$node$g === void 0 ? void 0 : _this$ally_bar$node$g.getComponent(Label);\n    this.enemy_lbl = (_this$enemy_bar = this.enemy_bar) === null || _this$enemy_bar === void 0 ? void 0 : (_this$enemy_bar$node$ = _this$enemy_bar.node.getChildByName(\"Label\")) === null || _this$enemy_bar$node$ === void 0 ? void 0 : _this$enemy_bar$node$.getComponent(Label);\n  };\n\n  _proto.set_hp = function set_hp(num, camp) {\n    // 初始化血量\n    if (camp === \"ally\") {\n      this.ally_max_hp = this.ally_cur_hp = num;\n\n      if (this.ally_bar) {\n        this.ally_bar.progress = 1;\n      }\n    } else if (camp === \"enemy\") {\n      this.enemy_max_hp = this.enemy_cur_hp = num;\n\n      if (this.enemy_bar) {\n        this.enemy_bar.progress = 1;\n      }\n    }\n\n    this.updateHp();\n  };\n\n  _proto.changeHp = function changeHp(val, camp) {\n    if (camp === \"ally\") {\n      this.ally_cur_hp += val;\n\n      if (this.ally_bar) {\n        tween(this.ally_bar) // 缓动执行血量变化\n        .to(0.2, {\n          progress: this.ally_cur_hp / this.ally_max_hp\n        }, {\n          easing: \"sineInOut\"\n        }).start();\n      }\n    } else if (camp === \"enemy\") {\n      this.enemy_cur_hp += val;\n\n      if (this.enemy_bar) {\n        tween(this.enemy_bar).to(0.2, {\n          progress: this.enemy_cur_hp / this.enemy_max_hp\n        }, {\n          easing: \"sineInOut\"\n        }).start();\n      }\n    }\n\n    this.updateHp();\n  };\n\n  _proto.updateHp = function updateHp() {\n    // 更新血量\n    if (!this.ally_lbl || !this.enemy_lbl) {\n      return;\n    }\n\n    this.ally_lbl.string = Functions.numToStr(this.ally_cur_hp) + \" / \" + Functions.numToStr(this.ally_max_hp);\n    this.enemy_lbl.string = Functions.numToStr(this.enemy_cur_hp) + \" / \" + Functions.numToStr(this.enemy_max_hp);\n  };\n\n  return TotalHp;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();","import { assertThisInitialized as _assertThisInitialized } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { inheritsLoose as _inheritsLoose } from \"\\0rollupPluginModLoBabelHelpers.js\";\nimport { defineProperty as _defineProperty } from \"\\0rollupPluginModLoBabelHelpers.js\";\n\nvar _dec, _class, _temp;\n\nimport { cclegacy as _cclegacy } from \"cc\";\n\n_cclegacy._RF.push({}, \"f52116IUS1KzYfLVai/n5XV\", \"FormationBar\", undefined);\n\nimport { _decorator, Component, Label } from 'cc';\nimport { Subscribe } from '../../Tools/Subscribe';\nvar ccclass = _decorator.ccclass,\n    property = _decorator.property;\nexport var FormationBar = (_dec = ccclass('FormationBar'), _dec(_class = (_temp = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(FormationBar, _Component);\n\n  function FormationBar() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"name_lbl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"intro_lbl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"trigger\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"point_dis\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"point_en\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"isEnable\", false);\n\n    return _this;\n  }\n\n  var _proto = FormationBar.prototype;\n\n  // 是否激活flag\n  _proto.onLoad = function onLoad() {\n    var _this$node$getChildBy, _this$node$getChildBy2;\n\n    // 获取各个组件\n    this.name_lbl = (_this$node$getChildBy = this.node.getChildByPath(\"Mask/Layout/Name\")) === null || _this$node$getChildBy === void 0 ? void 0 : _this$node$getChildBy.getComponent(Label);\n    this.intro_lbl = (_this$node$getChildBy2 = this.node.getChildByPath(\"Mask/Layout/Introduce\")) === null || _this$node$getChildBy2 === void 0 ? void 0 : _this$node$getChildBy2.getComponent(Label);\n    this.trigger = this.node.getChildByName(\"Trigger\");\n    this.point_dis = this.node.getChildByName(\"Disable\");\n    this.point_en = this.node.getChildByName(\"Enable\");\n  };\n\n  _proto.init = function init(data, curr_id) {\n    var _this2 = this;\n\n    if (this.name_lbl) {\n      this.name_lbl.string = data[\"name\"] + \"：\";\n    } // 更新名称\n\n\n    if (this.intro_lbl) {\n      this.intro_lbl.string = data[\"introduce\"];\n    } // 更新简介\n\n\n    if (this.trigger && this.point_dis && this.point_en) {\n      // 点击事件\n      this.trigger.on(\"click\", function () {\n        if (!_this2.isEnable) Subscribe.trigger(\"change formation\", data[\"id\"]);\n      });\n      this.point_dis.active = true; // 初始化标记点状态\n\n      this.point_en.active = false;\n\n      if (data[\"id\"] == curr_id) {\n        // 根据玩家数据判断是否当前选中\n        this.point_en.active = true; // 是当前选中则修改标记点状态\n\n        this.point_dis.active = false;\n        this.isEnable = true;\n      }\n    }\n  };\n\n  _proto.changeState = function changeState(isEnable) {\n    // 修改选中状态\n    if (this.point_dis && this.point_en) {\n      this.point_dis.active = !isEnable;\n      this.point_en.active = isEnable;\n      this.isEnable = isEnable;\n    }\n  };\n\n  return FormationBar;\n}(Component), _temp)) || _class);\n\n_cclegacy._RF.pop();"]}