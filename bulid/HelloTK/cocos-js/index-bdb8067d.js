System.register(["./json-asset-1a4fee7d.js","./index-60bf8166.js","./view-50c22e7e.js","./camera-component-ec549211.js","./renderable-component-b5e46bae.js","./mesh-c8768986.js","./skeleton-314b4fa5.js","./collision-matrix-28b2cee7.js","./capsule-1280d817.js","./terrain-asset-42611908.js"],(function(t){"use strict";var e,i,r,n,o,s,a,p,l,c,u,h,y,_,d,f,g,b,m,w,v,S,C,T,k,E,P,D,O,I,M,z,A,x,B,F,N,j,R,H,G,L,W,V,U,q,Y,X,K,Z;return{setters:[function(t){e=t.ef,i=t.ec,r=t.e2,n=t.df,o=t.eg,s=t.eu,a=t.eh,p=t.ed,l=t.cm,c=t.ei,u=t.c5,h=t.eR,y=t.l,_=t.w,d=t.f,f=t.cJ,g=t.R,b=t.ek,m=t.fY,w=t.gB,v=t.fZ,S=t.f_,C=t.ga,T=t.ej,k=t.fU,E=t.go,P=t.e,D=t.dO,O=t.de,I=t.gW,M=t.f$,z=t.e9,A=t.el,x=t.cE,B=t.gC,F=t.gv},function(t){N=t.d,j=t.D,R=t.h},function(t){H=t.w},function(){},function(){},function(t){G=t.M},function(){},function(t){L=t.b,W=t.c,V=t.P,U=t.C,q=t.a,Y=t.E,X=t.d},function(t){K=t.c},function(t){Z=t.T}],execute:function(){var J,$,Q,tt,et,it,rt,nt;t({k:Fe,l:Le,n:Ge,r:Ne,s:Be});var ot,st=t("d",e("cc.PhysicsMaterial")((nt=rt=function(t){function e(){var i;return(i=t.call(this)||this).id=void 0,a(i,"_friction",Q,p(i)),a(i,"_rollingFriction",tt,p(i)),a(i,"_spinningFriction",et,p(i)),a(i,"_restitution",it,p(i)),e.allMaterials.push(p(i)),i.id=e._idCounter++,i._uuid||(i._uuid="pm_"+i.id),i}i(e,t);var n=e.prototype;return n.clone=function(){var t=new e;return t._friction=this._friction,t._restitution=this._restitution,t._rollingFriction=this._rollingFriction,t._spinningFriction=this._spinningFriction,t},n.destroy=function(){if(t.prototype.destroy.call(this)){var i=e.allMaterials.indexOf(this);return i>=0&&e.allMaterials.splice(i,1),!0}return!1},n.setValues=function(t,i,r,n){var o=this._friction!==t||this._rollingFriction!==i||this._spinningFriction!==r||this._restitution!==n;this._friction=t,this._rollingFriction=i,this._spinningFriction=r,this._restitution=n,o&&this.emit(e.EVENT_UPDATE)},r(e,[{key:"friction",get:function(){return this._friction},set:function(t){l(this._friction,t)||(this._friction=t,this.emit(e.EVENT_UPDATE))}},{key:"rollingFriction",get:function(){return this._rollingFriction},set:function(t){l(this._rollingFriction,t)||(this._rollingFriction=t,this.emit(e.EVENT_UPDATE))}},{key:"spinningFriction",get:function(){return this._spinningFriction},set:function(t){l(this._spinningFriction,t)||(this._spinningFriction=t,this.emit(e.EVENT_UPDATE))}},{key:"restitution",get:function(){return this._restitution},set:function(t){l(this._restitution,t)||(this._restitution=t,this.emit(e.EVENT_UPDATE))}}]),e}(n),rt.allMaterials=[],rt.EVENT_UPDATE="event_update",rt._idCounter=0,o(($=nt).prototype,"friction",[s],Object.getOwnPropertyDescriptor($.prototype,"friction"),$.prototype),o($.prototype,"rollingFriction",[s],Object.getOwnPropertyDescriptor($.prototype,"rollingFriction"),$.prototype),o($.prototype,"spinningFriction",[s],Object.getOwnPropertyDescriptor($.prototype,"spinningFriction"),$.prototype),o($.prototype,"restitution",[s],Object.getOwnPropertyDescriptor($.prototype,"restitution"),$.prototype),Q=o($.prototype,"_friction",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.6}}),tt=o($.prototype,"_rollingFriction",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),et=o($.prototype,"_spinningFriction",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),it=o($.prototype,"_restitution",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=$))||J),at=t("f",function(){function t(){this._hitPoint=new u,this._hitNormal=new u,this._distance=0,this._collider=null}var e=t.prototype;return e._assign=function(t,e,i,r){u.copy(this._hitPoint,t),u.copy(this._hitNormal,r),this._distance=e,this._collider=i},e.clone=function(){var e=new t;return u.copy(e._hitPoint,this._hitPoint),u.copy(e._hitNormal,this._hitNormal),e._distance=this._distance,e._collider=this._collider,e},r(t,[{key:"hitPoint",get:function(){return this._hitPoint}},{key:"distance",get:function(){return this._distance}},{key:"collider",get:function(){return this._collider}},{key:"hitNormal",get:function(){return this._hitNormal}}]),t}());function pt(t){y._global.CC_PHYSICS_BUILTIN="builtin"===t,y._global.CC_PHYSICS_CANNON="cannon.js"===t,y._global.CC_PHYSICS_AMMO="ammo.js"===t}var lt,ct=t("m",{id:"",switchTo:function(t){if(ct.runInEditor){var e=ct;if(ct.physicsWorld&&t!==ct.id&&null!=ct.backend[t]?(ct.physicsWorld.destroy(),console.info("[PHYSICS]: switch from "+ct.id+" to "+t+"."),pt(t),e.id=t,e.wrapper=ct.backend[t],e.physicsWorld=_t()):(console.info("[PHYSICS]: using "+t+"."),e.physicsWorld=_t()),ot){var i=e.physicsWorld;i.setGravity(ot.gravity),i.setAllowSleep(ot.allowSleep),i.setDefaultMaterial(ot.defaultMaterial)}}},register:function(t,e){if(console.info("[PHYSICS]: register "+t+"."),ct.backend[t]=e,!ct.physicsWorld||ct.id===t){pt(t);var i=ct;i.id=t,i.wrapper=e}},wrapper:{},backend:{},physicsWorld:null,runInEditor:!h}),ut=function(){return 0},ht={impl:null,setGravity:ut,setAllowSleep:ut,setDefaultMaterial:ut,step:ut,syncAfterEvents:ut,syncSceneToPhysics:ut,raycast:ut,raycastClosest:ut,emitEvents:ut,destroy:ut};function yt(t,e){return null==t&&(ct.id?_(ct.id+" physics does not support "+lt[e]):d(9600),!0)}function _t(){return yt(ct.wrapper.PhysicsWorld,lt.World)?ht:new ct.wrapper.PhysicsWorld}!function(t){t[t.World=0]="World",t[t.RigidBody=1]="RigidBody",t[t.BoxCollider=2]="BoxCollider",t[t.SphereCollider=3]="SphereCollider",t[t.CapsuleCollider=4]="CapsuleCollider",t[t.MeshCollider=5]="MeshCollider",t[t.CylinderCollider=6]="CylinderCollider",t[t.ConeCollider=7]="ConeCollider",t[t.TerrainCollider=8]="TerrainCollider",t[t.SimplexCollider=9]="SimplexCollider",t[t.PlaneCollider=10]="PlaneCollider",t[t.PointToPointConstraint=11]="PointToPointConstraint",t[t.HingeConstraint=12]="HingeConstraint",t[t.ConeTwistConstraint=13]="ConeTwistConstraint"}(lt||(lt={}));var dt={impl:null,rigidBody:null,isAwake:!1,isSleepy:!1,isSleeping:!1,initialize:ut,onEnable:ut,onDisable:ut,onDestroy:ut,setType:ut,setMass:ut,setLinearDamping:ut,setAngularDamping:ut,useGravity:ut,setLinearFactor:ut,setAngularFactor:ut,setAllowSleep:ut,wakeUp:ut,sleep:ut,clearState:ut,clearForces:ut,clearVelocity:ut,setSleepThreshold:ut,getSleepThreshold:ut,getLinearVelocity:ut,setLinearVelocity:ut,getAngularVelocity:ut,setAngularVelocity:ut,applyForce:ut,applyLocalForce:ut,applyImpulse:ut,applyLocalImpulse:ut,applyTorque:ut,applyLocalTorque:ut,setGroup:ut,getGroup:ut,addGroup:ut,removeGroup:ut,setMask:ut,getMask:ut,addMask:ut,removeMask:ut,isUsingCCD:ut,useCCD:ut},ft={INITED:!1},gt={impl:null,collider:null,attachedRigidBody:null,initialize:ut,onLoad:ut,onEnable:ut,onDisable:ut,onDestroy:ut,setGroup:ut,getGroup:ut,addGroup:ut,removeGroup:ut,setMask:ut,getMask:ut,addMask:ut,removeMask:ut,setMaterial:ut,setAsTrigger:ut,setCenter:ut,getAABB:ut,getBoundingSphere:ut,updateSize:ut,updateRadius:ut,setRadius:ut,setCylinderHeight:ut,setDirection:ut,setHeight:ut,setShapeType:ut,setVertices:ut,setMesh:ut,setTerrain:ut,setNormal:ut,setConstant:ut,updateEventListener:ut};var bt={INITED:!1},mt={impl:null,initialize:ut,onLoad:ut,onEnable:ut,onDisable:ut,onDestroy:ut,setEnableCollision:ut,setConnectedBody:ut,setPivotA:ut,setPivotB:ut,setAxis:ut};y.internal.PhysicsGroup=V;var wt,vt,St,Ct,Tt,kt,Et,Pt,Dt,Ot,It,Mt,zt,At,xt,Bt,Ft,Nt,jt,Rt,Ht,Gt,Lt,Wt,Vt,Ut,qt,Yt,Xt,Kt,Zt,Jt,$t,Qt,te,ee,ie,re,ne,oe,se,ae,pe,le,ce=t("P",function(t){function e(){var e;return(e=t.call(this)||this).raycastClosestResult=new at,e.raycastResults=[],e.collisionMatrix=new U(1),e.minVolumeSize=1e-5,e.useNodeChains=!1,e._enable=!0,e._allowSleep=!0,e._maxSubSteps=1,e._subStepCount=0,e._fixedTimeStep=1/60,e._autoSimulation=!0,e._accumulator=0,e._sleepThreshold=.1,e._gravity=new u(0,-10,0),e._material=new st,e.raycastOptions={group:-1,mask:-1,queryTrigger:!0,maxDistance:1e7},e.raycastResultPool=new g((function(){return new at}),1),e._material.on(st.EVENT_UPDATE,e._updateMaterial,p(e)),e}i(e,t);var n=e.prototype;return n.postUpdate=function(t){if(this.physicsWorld)if(this._enable){if(this._autoSimulation){for(this._subStepCount=0,this._accumulator+=t,N.emit(j.EVENT_BEFORE_PHYSICS);this._subStepCount<this._maxSubSteps;){if(!(this._accumulator>=this._fixedTimeStep)){this.physicsWorld.syncSceneToPhysics();break}this.physicsWorld.syncSceneToPhysics(),this.physicsWorld.step(this._fixedTimeStep),this.physicsWorld.emitEvents(),this.physicsWorld.syncAfterEvents(),this._accumulator-=this._fixedTimeStep,this._subStepCount++}N.emit(j.EVENT_AFTER_PHYSICS)}}else this.physicsWorld.syncSceneToPhysics()},n.resetConfiguration=function(t){var e=t||(H.config?H.config.physics:null);if(e){if("boolean"==typeof e.allowSleep&&(this._allowSleep=e.allowSleep),"number"==typeof e.fixedTimeStep&&(this._fixedTimeStep=e.fixedTimeStep),"number"==typeof e.maxSubSteps&&(this._maxSubSteps=e.maxSubSteps),"number"==typeof e.sleepThreshold&&(this._sleepThreshold=e.sleepThreshold),"boolean"==typeof e.autoSimulation&&(this.autoSimulation=e.autoSimulation),e.gravity&&u.copy(this._gravity,e.gravity),e.defaultMaterial&&this._material.setValues(e.defaultMaterial.friction,e.defaultMaterial.rollingFriction,e.defaultMaterial.spinningFriction,e.defaultMaterial.restitution),e.collisionMatrix)for(var i in e.collisionMatrix)this.collisionMatrix[""+(1<<parseInt(i))]=e.collisionMatrix[i];if(e.collisionGroups){var r=e.collisionGroups;r instanceof Array&&(r.forEach((function(t){V[t.name]=1<<t.index})),f.update(V))}}this.physicsWorld&&(this.physicsWorld.setGravity(this._gravity),this.physicsWorld.setAllowSleep(this._allowSleep),this.physicsWorld.setDefaultMaterial(this._material))},n.resetAccumulator=function(t){void 0===t&&(t=0),this._accumulator=t},n.step=function(t,e,i){this.physicsWorld&&this.physicsWorld.step(t,e,i)},n.syncSceneToPhysics=function(){this.physicsWorld&&this.physicsWorld.syncSceneToPhysics()},n.emitEvents=function(){this.physicsWorld&&this.physicsWorld.emitEvents()},n.raycast=function(t,e,i,r){return void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===r&&(r=!0),!!this.physicsWorld&&(this.raycastResultPool.reset(),this.raycastResults.length=0,this.raycastOptions.mask=e>>>0,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=r,this.physicsWorld.raycast(t,this.raycastOptions,this.raycastResultPool,this.raycastResults))},n.raycastClosest=function(t,e,i,r){return void 0===e&&(e=4294967295),void 0===i&&(i=1e7),void 0===r&&(r=!0),!!this.physicsWorld&&(this.raycastOptions.mask=e>>>0,this.raycastOptions.maxDistance=i,this.raycastOptions.queryTrigger=r,this.physicsWorld.raycastClosest(t,this.raycastOptions,this.raycastClosestResult))},n._updateMaterial=function(){this.physicsWorld&&this.physicsWorld.setDefaultMaterial(this._material)},e.constructAndRegister=function(){if(!e._instance){var t=new e;t.resetConfiguration(),function(t){if(ot||(ot=t),ct.runInEditor&&!ct.physicsWorld){console.info("[PHYSICS]: using "+ct.id+".");var e=ct.physicsWorld=_t();e.setGravity(ot.gravity),e.setAllowSleep(ot.allowSleep),e.setDefaultMaterial(ot.defaultMaterial)}}(t),e._instance=t,N.registerSystem(e.ID,t,t.priority)}},r(e,[{key:"enable",get:function(){return this._enable},set:function(t){this._enable=t}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this.physicsWorld&&this.physicsWorld.setAllowSleep(t)}},{key:"maxSubSteps",get:function(){return this._maxSubSteps},set:function(t){this._maxSubSteps=t}},{key:"fixedTimeStep",get:function(){return this._fixedTimeStep},set:function(t){this._fixedTimeStep=t}},{key:"gravity",get:function(){return this._gravity},set:function(t){this._gravity.set(t),this.physicsWorld&&this.physicsWorld.setGravity(t)}},{key:"sleepThreshold",get:function(){return this._sleepThreshold},set:function(t){this._sleepThreshold=t}},{key:"autoSimulation",get:function(){return this._autoSimulation},set:function(t){this._autoSimulation=t}},{key:"defaultMaterial",get:function(){return this._material}},{key:"physicsWorld",get:function(){return ct.physicsWorld}}],[{key:"PHYSICS_NONE",get:function(){return!ct.id}},{key:"PHYSICS_BUILTIN",get:function(){return"builtin"===ct.id}},{key:"PHYSICS_CANNON",get:function(){return"cannon.js"===ct.id}},{key:"PHYSICS_AMMO",get:function(){return"ammo.js"===ct.id}},{key:"PHYSICS_PHYSX",get:function(){return"physx"===ct.id}},{key:"PhysicsGroup",get:function(){return V}},{key:"instance",get:function(){return e._instance}}]),e}(R));ce.ID="PHYSICS",ce._instance=null,N.once(j.EVENT_INIT,(function(){ce.constructAndRegister()}));var ue,he,ye,_e,de,fe,ge,be,me,we,ve,Se,Ce,Te,ke,Ee,Pe,De,Oe,Ie,Me,ze,Ae=t("R",(wt=e("cc.RigidBody"),vt=v(),St=S(),Ct=C(-1),Tt=b(ce.PhysicsGroup),kt=T(),Et=k(),Pt=b(q),Dt=T(),Ot=k(),It=E(),Mt=T(),zt=k(),At=E(),xt=T(),Bt=k(),Ft=E(),Nt=T(),jt=k(),Rt=E(),Ht=T(),Gt=k(),Lt=E(),Wt=T(),Vt=k(),Ut=E(),qt=T(),Yt=k(),Xt=E(),Kt=T(),Zt=k(),wt(Jt=vt(Jt=St(Jt=m(Jt=w(Jt=Ct((le=pe=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this)._body=null,a(e,"_group",Qt,p(e)),a(e,"_type",te,p(e)),a(e,"_mass",ee,p(e)),a(e,"_allowSleep",ie,p(e)),a(e,"_linearDamping",re,p(e)),a(e,"_angularDamping",ne,p(e)),a(e,"_useGravity",oe,p(e)),a(e,"_linearFactor",se,p(e)),a(e,"_angularFactor",ae,p(e)),e}i(e,t);var n=e.prototype;return n.onLoad=function(){ct.runInEditor&&(this._body=yt(ct.wrapper.RigidBody,lt.RigidBody)?dt:new ct.wrapper.RigidBody,this._body.initialize(this))},n.onEnable=function(){this._body&&this._body.onEnable()},n.onDisable=function(){this._body&&this._body.onDisable()},n.onDestroy=function(){this._body&&this._body.onDestroy()},n.applyForce=function(t,e){this._isInitialized&&this._body.applyForce(t,e)},n.applyLocalForce=function(t,e){this._isInitialized&&this._body.applyLocalForce(t,e)},n.applyImpulse=function(t,e){this._isInitialized&&this._body.applyImpulse(t,e)},n.applyLocalImpulse=function(t,e){this._isInitialized&&this._body.applyLocalImpulse(t,e)},n.applyTorque=function(t){this._isInitialized&&this._body.applyTorque(t)},n.applyLocalTorque=function(t){this._isInitialized&&this._body.applyLocalTorque(t)},n.wakeUp=function(){this._isInitialized&&this._body.wakeUp()},n.sleep=function(){this._isInitialized&&this._body.sleep()},n.clearState=function(){this._isInitialized&&this._body.clearState()},n.clearForces=function(){this._isInitialized&&this._body.clearForces()},n.clearVelocity=function(){this._isInitialized&&this._body.clearVelocity()},n.getLinearVelocity=function(t){this._isInitialized&&this._body.getLinearVelocity(t)},n.setLinearVelocity=function(t){this._isInitialized&&this._body.setLinearVelocity(t)},n.getAngularVelocity=function(t){this._isInitialized&&this._body.getAngularVelocity(t)},n.setAngularVelocity=function(t){this._isInitialized&&this._body.setAngularVelocity(t)},n.getGroup=function(){return this._isInitialized?this._body.getGroup():0},n.setGroup=function(t){this._isInitialized&&this._body.setGroup(t)},n.addGroup=function(t){this._isInitialized&&this._body.addGroup(t)},n.removeGroup=function(t){this._isInitialized&&this._body.removeGroup(t)},n.getMask=function(){return this._isInitialized?this._body.getMask():0},n.setMask=function(t){this._isInitialized&&this._body.setMask(t)},n.addMask=function(t){this._isInitialized&&this._body.addMask(t)},n.removeMask=function(t){this._isInitialized&&this._body.removeMask(t)},r(e,[{key:"group",get:function(){return this._group},set:function(t){this._group=t,this._body&&this._body.getGroup()!==t&&this._body.setGroup(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type!==t&&(this._type=t,this._body&&this._body.setType(t))}},{key:"mass",get:function(){return this._mass},set:function(t){this._mass!==t&&(t=t<=0?1e-4:t,this._mass=t,this._body&&this._body.setMass(t))}},{key:"allowSleep",get:function(){return this._allowSleep},set:function(t){this._allowSleep=t,this._body&&this._body.setAllowSleep(t)}},{key:"linearDamping",get:function(){return this._linearDamping},set:function(t){this._linearDamping=t,this._body&&this._body.setLinearDamping(t)}},{key:"angularDamping",get:function(){return this._angularDamping},set:function(t){this._angularDamping=t,this._body&&this._body.setAngularDamping(t)}},{key:"useGravity",get:function(){return this._useGravity},set:function(t){this._useGravity=t,this._body&&this._body.useGravity(t)}},{key:"linearFactor",get:function(){return this._linearFactor},set:function(t){u.copy(this._linearFactor,t),this._body&&this._body.setLinearFactor(this._linearFactor)}},{key:"angularFactor",get:function(){return this._angularFactor},set:function(t){u.copy(this._angularFactor,t),this._body&&this._body.setAngularFactor(this._angularFactor)}},{key:"sleepThreshold",get:function(){return this._isInitialized?this._body.getSleepThreshold():.1},set:function(t){this._isInitialized&&this._body.setSleepThreshold(t)}},{key:"useCCD",get:function(){return!!this._isInitialized&&this._body.isUsingCCD()},set:function(t){this._isInitialized&&this._body.useCCD(t)}},{key:"isAwake",get:function(){return!!this._isInitialized&&this._body.isAwake}},{key:"isSleepy",get:function(){return!!this._isInitialized&&this._body.isSleepy}},{key:"isSleeping",get:function(){return!!this._isInitialized&&this._body.isSleeping}},{key:"isStatic",get:function(){return this._type===q.STATIC},set:function(t){t&&this.isStatic||!t&&!this.isStatic||(this.type=t?q.STATIC:q.DYNAMIC)}},{key:"isDynamic",get:function(){return this._type===q.DYNAMIC},set:function(t){t&&this.isDynamic||!t&&!this.isDynamic||(this.type=t?q.DYNAMIC:q.KINEMATIC)}},{key:"isKinematic",get:function(){return this._type===q.KINEMATIC},set:function(t){t&&this.isKinematic||!t&&!this.isKinematic||(this.type=t?q.KINEMATIC:q.DYNAMIC)}},{key:"body",get:function(){return this._body}},{key:"_isInitialized",get:function(){var t=null===this._body;return t&&P("[Physics]: This component has not been call onLoad yet, please make sure the node has been added to the scene."),!t}}]),e}(D),pe.Type=q,o(($t=le).prototype,"group",[Tt,kt,Et],Object.getOwnPropertyDescriptor($t.prototype,"group"),$t.prototype),o($t.prototype,"type",[Pt,Dt,Ot],Object.getOwnPropertyDescriptor($t.prototype,"type"),$t.prototype),o($t.prototype,"mass",[It,Mt,zt],Object.getOwnPropertyDescriptor($t.prototype,"mass"),$t.prototype),o($t.prototype,"allowSleep",[At,xt,Bt],Object.getOwnPropertyDescriptor($t.prototype,"allowSleep"),$t.prototype),o($t.prototype,"linearDamping",[Ft,Nt,jt],Object.getOwnPropertyDescriptor($t.prototype,"linearDamping"),$t.prototype),o($t.prototype,"angularDamping",[Rt,Ht,Gt],Object.getOwnPropertyDescriptor($t.prototype,"angularDamping"),$t.prototype),o($t.prototype,"useGravity",[Lt,Wt,Vt],Object.getOwnPropertyDescriptor($t.prototype,"useGravity"),$t.prototype),o($t.prototype,"linearFactor",[Ut,qt,Yt],Object.getOwnPropertyDescriptor($t.prototype,"linearFactor"),$t.prototype),o($t.prototype,"angularFactor",[Xt,Kt,Zt],Object.getOwnPropertyDescriptor($t.prototype,"angularFactor"),$t.prototype),Qt=o($t.prototype,"_group",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ce.PhysicsGroup.DEFAULT}}),te=o($t.prototype,"_type",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.DYNAMIC}}),ee=o($t.prototype,"_mass",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ie=o($t.prototype,"_allowSleep",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),re=o($t.prototype,"_linearDamping",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),ne=o($t.prototype,"_angularDamping",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),oe=o($t.prototype,"_useGravity",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),se=o($t.prototype,"_linearFactor",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(1,1,1)}}),ae=o($t.prototype,"_angularFactor",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(1,1,1)}}),Jt=$t))||Jt)||Jt)||Jt)||Jt)||Jt)||Jt));Ae||(Ae=t("R",{}));var xe=t("C",(ue=e("cc.Collider"),he=b(Ae),ye=M(),_e=T(),de=k(),fe=b(st),ge=M(),be=T(),me=k(),we=T(),ve=k(),Se=b(u),Ce=T(),Te=k(),ke=b(st),ue((ze=Me=function(t){function e(e){var i;return(i=t.call(this)||this).type=void 0,i._shape=null,i._aabb=null,i._boundingSphere=null,i._isSharedMaterial=!0,i._needTriggerEvent=!1,i._needCollisionEvent=!1,a(i,"_material",De,p(i)),a(i,"_isTrigger",Oe,p(i)),a(i,"_center",Ie,p(i)),i.type=e,i}i(e,t);var n=e.prototype;return n.on=function(e,i,r,n){var o=t.prototype.on.call(this,e,i,r,n);return this._updateNeedEvent(e),o},n.off=function(e,i,r){t.prototype.off.call(this,e,i,r),this._updateNeedEvent()},n.once=function(e,i,r){var n=t.prototype.once.call(this,e,i,r);return this._updateNeedEvent(e),n},n.removeAll=function(e){t.prototype.removeAll.call(this,e),this._updateNeedEvent()},n.getGroup=function(){return this._isInitialized?this._shape.getGroup():0},n.setGroup=function(t){this._isInitialized&&this._shape.setGroup(t)},n.addGroup=function(t){this._isInitialized&&this._shape.addGroup(t)},n.removeGroup=function(t){this._isInitialized&&this._shape.removeGroup(t)},n.getMask=function(){return this._isInitialized?this._shape.getMask():0},n.setMask=function(t){this._isInitialized&&this._shape.setMask(t)},n.addMask=function(t){this._isInitialized&&this._shape.addMask(t)},n.removeMask=function(t){this._isInitialized&&this._shape.removeMask(t)},n.onLoad=function(){ct.runInEditor&&(this.sharedMaterial=null==this._material?ce.instance.defaultMaterial:this._material,this._shape=function(t){return ft.INITED||(ft.INITED=!0,ft[L.BOX]=function(){return yt(ct.wrapper.BoxShape,lt.BoxCollider)?gt:new ct.wrapper.BoxShape},ft[L.SPHERE]=function(){return yt(ct.wrapper.SphereShape,lt.SphereCollider)?gt:new ct.wrapper.SphereShape},ft[L.CAPSULE]=function(){return yt(ct.wrapper.CapsuleShape,lt.CapsuleCollider)?gt:new ct.wrapper.CapsuleShape},ft[L.CYLINDER]=function(){return yt(ct.wrapper.CylinderShape,lt.CylinderCollider)?gt:new ct.wrapper.CylinderShape},ft[L.CONE]=function(){return yt(ct.wrapper.ConeShape,lt.ConeCollider)?gt:new ct.wrapper.ConeShape},ft[L.MESH]=function(){return yt(ct.wrapper.TrimeshShape,lt.MeshCollider)?gt:new ct.wrapper.TrimeshShape},ft[L.TERRAIN]=function(){return yt(ct.wrapper.TerrainShape,lt.TerrainCollider)?gt:new ct.wrapper.TerrainShape},ft[L.SIMPLEX]=function(){return yt(ct.wrapper.SimplexShape,lt.SimplexCollider)?gt:new ct.wrapper.SimplexShape},ft[L.PLANE]=function(){return yt(ct.wrapper.PlaneShape,lt.PlaneCollider)?gt:new ct.wrapper.PlaneShape}),ft[t]()}(this.type),this._shape.initialize(this),this._shape.onLoad())},n.onEnable=function(){this._shape&&this._shape.onEnable()},n.onDisable=function(){this._shape&&this._shape.onDisable()},n.onDestroy=function(){this._shape&&(this._material&&this._material.off(st.EVENT_UPDATE,this._updateMaterial,this),this._shape.onDestroy()),this._boundingSphere&&this._boundingSphere.destroy()},n._updateMaterial=function(){this._shape&&this._shape.setMaterial(this._material)},n._updateNeedEvent=function(t){this.isValid&&(void 0!==t?("onCollisionEnter"!==t&&"onCollisionStay"!==t&&"onCollisionExit"!==t||(this._needCollisionEvent=!0),"onTriggerEnter"!==t&&"onTriggerStay"!==t&&"onTriggerExit"!==t||(this._needTriggerEvent=!0)):(this.hasEventListener("onTriggerEnter")||this.hasEventListener("onTriggerStay")||this.hasEventListener("onTriggerExit")||(this._needTriggerEvent=!1),this.hasEventListener("onCollisionEnter")||this.hasEventListener("onCollisionStay")||this.hasEventListener("onCollisionExit")||(this._needCollisionEvent=!1)),this._shape&&this._shape.updateEventListener())},r(e,[{key:"attachedRigidBody",get:function(){return t=this.node,(e=t.getComponent(Ae))&&e.isValid?e:null;var t,e}},{key:"sharedMaterial",get:function(){return this._material},set:function(t){this.material=t}},{key:"material",get:function(){return this._isSharedMaterial&&this._material&&(this._material.off(st.EVENT_UPDATE,this._updateMaterial,this),this._material=this._material.clone(),this._material.on(st.EVENT_UPDATE,this._updateMaterial,this),this._isSharedMaterial=!1),this._material},set:function(t){this._shape?(t&&this._material?this._material.id!==t.id&&(this._material.off(st.EVENT_UPDATE,this._updateMaterial,this),t.on(st.EVENT_UPDATE,this._updateMaterial,this),this._isSharedMaterial=!1,this._material=t):t&&!this._material?(t.on(st.EVENT_UPDATE,this._updateMaterial,this),this._material=t):!t&&this._material&&(this._material.off(st.EVENT_UPDATE,this._updateMaterial,this),this._material=t),this._updateMaterial()):this._material=t}},{key:"isTrigger",get:function(){return this._isTrigger},set:function(t){this._isTrigger=t,this._shape&&this._shape.setAsTrigger(this._isTrigger)}},{key:"center",get:function(){return this._center},set:function(t){u.copy(this._center,t),this._shape&&this._shape.setCenter(this._center)}},{key:"shape",get:function(){return this._shape}},{key:"worldBounds",get:function(){return null==this._aabb&&(this._aabb=new z),this._shape&&this._shape.getAABB(this._aabb),this._aabb}},{key:"boundingSphere",get:function(){return null==this._boundingSphere&&(this._boundingSphere=new A),this._shape&&this._shape.getBoundingSphere(this._boundingSphere),this._boundingSphere}},{key:"needTriggerEvent",get:function(){return this._needTriggerEvent}},{key:"needCollisionEvent",get:function(){return this._needCollisionEvent}},{key:"_isInitialized",get:function(){var t=null===this._shape;return t&&P("[Physics]: This component has not been call onLoad yet, please make sure the node has been added to the scene."),!t}}]),e}(O(D)),Me.Type=L,Me.Axis=Y,o((Pe=ze).prototype,"attachedRigidBody",[he,I,ye,_e,de],Object.getOwnPropertyDescriptor(Pe.prototype,"attachedRigidBody"),Pe.prototype),o(Pe.prototype,"sharedMaterial",[fe,ge,be,me],Object.getOwnPropertyDescriptor(Pe.prototype,"sharedMaterial"),Pe.prototype),o(Pe.prototype,"isTrigger",[we,ve],Object.getOwnPropertyDescriptor(Pe.prototype,"isTrigger"),Pe.prototype),o(Pe.prototype,"center",[Se,Ce,Te],Object.getOwnPropertyDescriptor(Pe.prototype,"center"),Pe.prototype),De=o(Pe.prototype,"_material",[ke],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=o(Pe.prototype,"_isTrigger",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ie=o(Pe.prototype,"_center",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),Ee=Pe))||Ee));function Be(t,e){t.__cc_wrapper__=e}function Fe(t){return t.__cc_wrapper__}function Ne(t){return Math.max(t.x,Math.max(t.y,t.z))}xe||(xe=t("C",{}));var je=t("V",new u),Re=t("o",{type:"onTriggerEnter",selfCollider:null,otherCollider:null,impl:null}),He=t("q",{type:"onCollisionEnter",selfCollider:null,otherCollider:null,contacts:[],impl:null});function Ge(t){var e=[];if(t.length>=3){e[0]=t[0],e[1]=t[1],e[2]=t[2];for(var i=t.length,r=3;r<i;r+=3){for(var n=t[r],o=t[r+1],s=t[r+2],a=e.length,p=!0,c=0;c<a;c+=3)if(l(n,e[c])&&l(o,e[c+1])&&l(s,e[c+2])){p=!1;break}p&&(e.push(n),e.push(o),e.push(s))}}return e}function Le(t){return t.x=Math.abs(t.x),t.y=Math.abs(t.y),t.z=Math.abs(t.z),t}var We,Ve,Ue,qe,Ye,Xe,Ke,Ze,Je,$e,Qe,ti,ei,ii,ri,ni,oi,si,ai,pi,li,ci,ui,hi,yi,_i,di,fi,gi,bi,mi,wi,vi,Si,Ci,Ti,ki,Ei,Pi,Di,Oi,Ii,Mi,zi,Ai,xi,Bi,Fi,Ni,ji,Ri,Hi,Gi,Li,Wi,Vi,Ui,qi,Yi,Xi,Ki,Zi,Ji,$i,Qi,tr,er,ir,rr,nr,or,sr,ar,pr,lr,cr,ur,hr,yr,_r,dr,fr,gr,br,mr,wr,vr,Sr,Cr,Tr,kr,Er,Pr,Dr,Or,Ir,Mr,zr,Ar,xr,Br,Fr,Nr,jr,Rr,Hr,Gr,Lr,Wr,Vr,Ur,qr,Yr,Xr,Kr,Zr,Jr,$r,Qr,tn,en,rn,nn,on,sn=Object.freeze({__proto__:null,setWrap:Be,getWrap:Fe,maxComponent:Ne,VEC3_0:je,TriggerEventObject:Re,CollisionEventObject:He,shrinkPositions:Ge,absolute:Le,cylinder:K}),an=t("B",(We=e("cc.BoxCollider"),Ve=v(),Ue=S(),qe=b(u),Ye=k(),We(Xe=Ve(Xe=Ue(Xe=m((Je=function(t){function e(){var e;return e=t.call(this,L.BOX)||this,a(e,"_size",Ze,p(e)),e}return i(e,t),r(e,[{key:"size",get:function(){return this._size},set:function(t){u.strictEquals(this._size,t)||(u.copy(this._size,t),Le(this._size),this._shape&&this.shape.updateSize())}},{key:"shape",get:function(){return this._shape}}]),e}(xe),o((Ke=Je).prototype,"size",[qe,Ye],Object.getOwnPropertyDescriptor(Ke.prototype,"size"),Ke.prototype),Ze=o(Ke.prototype,"_size",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(1,1,1)}}),Xe=Ke))||Xe)||Xe)||Xe)||Xe)),pn=t("S",($e=e("cc.SphereCollider"),Qe=v(),ti=S(),ei=k(),$e(ii=Qe(ii=ti(ii=m((oi=function(t){function e(){var e;return e=t.call(this,L.SPHERE)||this,a(e,"_radius",ni,p(e)),e}return i(e,t),r(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.updateRadius())}},{key:"shape",get:function(){return this._shape}}]),e}(xe),o((ri=oi).prototype,"radius",[ei],Object.getOwnPropertyDescriptor(ri.prototype,"radius"),ri.prototype),ni=o(ri.prototype,"_radius",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),ii=ri))||ii)||ii)||ii)||ii)),ln=t("b",(si=e("cc.CapsuleCollider"),ai=v(),pi=S(),li=k(),ci=k(),ui=b(Y),hi=k(),si(yi=ai(yi=pi(yi=m((bi=function(t){function e(){var e;return e=t.call(this,L.CAPSULE)||this,a(e,"_radius",di,p(e)),a(e,"_cylinderHeight",fi,p(e)),a(e,"_direction",gi,p(e)),e}i(e,t);var n=e.prototype;return n._getRadiusScale=function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction===Y.Y_AXIS?Math.abs(x(t.x,t.z)):this._direction===Y.X_AXIS?Math.abs(x(t.y,t.z)):Math.abs(x(t.x,t.y))},n._getHeightScale=function(){if(null==this.node)return 1;var t=this.node.worldScale;return this._direction===Y.Y_AXIS?Math.abs(t.y):this._direction===Y.X_AXIS?Math.abs(t.x):Math.abs(t.z)},r(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.setRadius(t))}},{key:"cylinderHeight",get:function(){return this._cylinderHeight},set:function(t){this._cylinderHeight!==t&&(this._cylinderHeight=Math.abs(t),this._shape&&this.shape.setCylinderHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){(t=Math.floor(t))<Y.X_AXIS||t>Y.Z_AXIS||this._direction!==t&&(this._direction=t,this._shape&&this.shape.setDirection(t))}},{key:"height",get:function(){return 2*this._radius+this._cylinderHeight},set:function(t){var e=t-2*this._radius;e<0&&(e=0),this.cylinderHeight=e}},{key:"worldHeight",get:function(){return 2*this._radius*this._getRadiusScale()+this._cylinderHeight*this._getHeightScale()}},{key:"shape",get:function(){return this._shape}}]),e}(xe),o((_i=bi).prototype,"radius",[li],Object.getOwnPropertyDescriptor(_i.prototype,"radius"),_i.prototype),o(_i.prototype,"cylinderHeight",[ci],Object.getOwnPropertyDescriptor(_i.prototype,"cylinderHeight"),_i.prototype),o(_i.prototype,"direction",[ui,hi],Object.getOwnPropertyDescriptor(_i.prototype,"direction"),_i.prototype),di=o(_i.prototype,"_radius",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),fi=o(_i.prototype,"_cylinderHeight",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),gi=o(_i.prototype,"_direction",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.Y_AXIS}}),yi=_i))||yi)||yi)||yi)||yi)),cn=t("c",(mi=e("cc.CylinderCollider"),wi=v(),vi=S(),Si=k(),Ci=k(),Ti=b(Y),ki=k(),mi(Ei=wi(Ei=vi(Ei=m((Mi=function(t){function e(){var e;return e=t.call(this,L.CYLINDER)||this,a(e,"_radius",Di,p(e)),a(e,"_height",Oi,p(e)),a(e,"_direction",Ii,p(e)),e}return i(e,t),r(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(this._height=Math.abs(t),this._shape&&this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!==t&&(t<Y.X_AXIS||t>Y.Z_AXIS||(this._direction=t,this._shape&&this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),e}(xe),o((Pi=Mi).prototype,"radius",[Si],Object.getOwnPropertyDescriptor(Pi.prototype,"radius"),Pi.prototype),o(Pi.prototype,"height",[Ci],Object.getOwnPropertyDescriptor(Pi.prototype,"height"),Pi.prototype),o(Pi.prototype,"direction",[Ti,ki],Object.getOwnPropertyDescriptor(Pi.prototype,"direction"),Pi.prototype),Di=o(Pi.prototype,"_radius",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Oi=o(Pi.prototype,"_height",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Ii=o(Pi.prototype,"_direction",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.Y_AXIS}}),Ei=Pi))||Ei)||Ei)||Ei)||Ei)),un=t("g",(zi=e("cc.ConeCollider"),Ai=v(),xi=S(),Bi=k(),Fi=k(),Ni=b(Y),ji=k(),zi(Ri=Ai(Ri=xi(Ri=m((Vi=function(t){function e(){var e;return e=t.call(this,L.CONE)||this,a(e,"_radius",Gi,p(e)),a(e,"_height",Li,p(e)),a(e,"_direction",Wi,p(e)),e}return i(e,t),r(e,[{key:"radius",get:function(){return this._radius},set:function(t){this._radius!==t&&(this._radius=Math.abs(t),this._shape&&this.shape.setRadius(t))}},{key:"height",get:function(){return this._height},set:function(t){this._height!==t&&(t<0&&(t=0),this._height=t,this._shape&&this.shape.setHeight(t))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!==t&&(t<Y.X_AXIS||t>Y.Z_AXIS||(this._direction=t,this._shape&&this.shape.setDirection(t)))}},{key:"shape",get:function(){return this._shape}}]),e}(xe),o((Hi=Vi).prototype,"radius",[Bi],Object.getOwnPropertyDescriptor(Hi.prototype,"radius"),Hi.prototype),o(Hi.prototype,"height",[Fi],Object.getOwnPropertyDescriptor(Hi.prototype,"height"),Hi.prototype),o(Hi.prototype,"direction",[Ni,ji],Object.getOwnPropertyDescriptor(Hi.prototype,"direction"),Hi.prototype),Gi=o(Hi.prototype,"_radius",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),Li=o(Hi.prototype,"_height",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Wi=o(Hi.prototype,"_direction",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.Y_AXIS}}),Ri=Hi))||Ri)||Ri)||Ri)||Ri)),hn=t("M",(Ui=e("cc.MeshCollider"),qi=v(),Yi=S(),Xi=b(G),Ki=k(),Zi=k(),Ui(Ji=qi(Ji=Yi(Ji=m((er=function(t){function e(){var e;return e=t.call(this,L.MESH)||this,a(e,"_mesh",Qi,p(e)),a(e,"_convex",tr,p(e)),e}return i(e,t),r(e,[{key:"mesh",get:function(){return this._mesh},set:function(t){this._mesh!==t&&(this._mesh=t,this._shape&&this.shape.setMesh(this._mesh))}},{key:"convex",get:function(){return this._convex},set:function(t){this._convex!==t&&(this._convex=t)}},{key:"shape",get:function(){return this._shape}}]),e}(xe),o(($i=er).prototype,"mesh",[Xi,Ki],Object.getOwnPropertyDescriptor($i.prototype,"mesh"),$i.prototype),o($i.prototype,"convex",[s,Zi],Object.getOwnPropertyDescriptor($i.prototype,"convex"),$i.prototype),Qi=o($i.prototype,"_mesh",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tr=o($i.prototype,"_convex",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ji=$i))||Ji)||Ji)||Ji)||Ji)),yn=t("e",(ir=e("cc.ConstantForce"),rr=v(),nr=B(Ae),or=S(),sr=T(),ar=k(),pr=T(),lr=k(),cr=T(),ur=k(),hr=T(),yr=k(),ir(_r=rr(_r=nr(_r=or(_r=w(_r=m((wr=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this)._rigidBody=null,a(e,"_force",fr,p(e)),a(e,"_localForce",gr,p(e)),a(e,"_torque",br,p(e)),a(e,"_localTorque",mr,p(e)),e._mask=0,e}i(e,t);var n=e.prototype;return n.onLoad=function(){this._rigidBody=this.node.getComponent(Ae),this._maskUpdate(this._force,1),this._maskUpdate(this._localForce,2),this._maskUpdate(this._torque,4),this._maskUpdate(this._localTorque,8)},n.lateUpdate=function(){null!=this._rigidBody&&0!==this._mask&&(1&this._mask&&this._rigidBody.applyForce(this._force),2&this._mask&&this._rigidBody.applyLocalForce(this.localForce),4&this._mask&&this._rigidBody.applyTorque(this._torque),8&this._mask&&this._rigidBody.applyLocalTorque(this._localTorque))},n._maskUpdate=function(t,e){t.strictEquals(u.ZERO)?this._mask&=~e:this._mask|=e},r(e,[{key:"force",get:function(){return this._force},set:function(t){u.copy(this._force,t),this._maskUpdate(this._force,1)}},{key:"localForce",get:function(){return this._localForce},set:function(t){u.copy(this._localForce,t),this._maskUpdate(this.localForce,2)}},{key:"torque",get:function(){return this._torque},set:function(t){u.copy(this._torque,t),this._maskUpdate(this._torque,4)}},{key:"localTorque",get:function(){return this._localTorque},set:function(t){u.copy(this._localTorque,t),this._maskUpdate(this._localTorque,8)}}]),e}(D),fr=o((dr=wr).prototype,"_force",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),gr=o(dr.prototype,"_localForce",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),br=o(dr.prototype,"_torque",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),mr=o(dr.prototype,"_localTorque",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),o(dr.prototype,"force",[sr,ar],Object.getOwnPropertyDescriptor(dr.prototype,"force"),dr.prototype),o(dr.prototype,"localForce",[pr,lr],Object.getOwnPropertyDescriptor(dr.prototype,"localForce"),dr.prototype),o(dr.prototype,"torque",[cr,ur],Object.getOwnPropertyDescriptor(dr.prototype,"torque"),dr.prototype),o(dr.prototype,"localTorque",[hr,yr],Object.getOwnPropertyDescriptor(dr.prototype,"localTorque"),dr.prototype),_r=dr))||_r)||_r)||_r)||_r)||_r)||_r)),_n=t("T",(vr=e("cc.TerrainCollider"),Sr=v(),Cr=S(),Tr=b(Z),kr=k(),vr(Er=Sr(Er=Cr(Er=m((Or=function(t){function e(){var e;return e=t.call(this,L.TERRAIN)||this,a(e,"_terrain",Dr,p(e)),e}return i(e,t),r(e,[{key:"terrain",get:function(){return this._terrain},set:function(t){this._terrain=t,this._shape&&this.shape.setTerrain(this._terrain)}},{key:"shape",get:function(){return this._shape}}]),e}(xe),o((Pr=Or).prototype,"terrain",[Tr,kr],Object.getOwnPropertyDescriptor(Pr.prototype,"terrain"),Pr.prototype),Dr=o(Pr.prototype,"_terrain",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Er=Pr))||Er)||Er)||Er)||Er)),dn=t("h",(Ir=e("cc.SimplexCollider"),Mr=v(),zr=S(),Ar=b(X),xr=k(),Br=k(),Fr=E(),Nr=k(),jr=E(),Rr=k(),Hr=E(),Gr=k(),Ir(Lr=Mr(Lr=zr(Lr=m((Yr=qr=function(t){function e(){var e;return e=t.call(this,L.SIMPLEX)||this,a(e,"_shapeType",Vr,p(e)),a(e,"_vertices",Ur,p(e)),e}return i(e,t),e.prototype.updateVertices=function(){this._shape&&this.shape.setVertices(this._vertices)},r(e,[{key:"shapeType",get:function(){return this._shapeType},set:function(t){this._shapeType=t,this._shape&&this.shape.setShapeType(t)}},{key:"vertex0",get:function(){return this._vertices[0]},set:function(t){u.copy(this._vertices[0],t),this.updateVertices()}},{key:"vertex1",get:function(){return this._vertices[1]},set:function(t){u.copy(this._vertices[1],t),this.updateVertices()}},{key:"vertex2",get:function(){return this._vertices[2]},set:function(t){u.copy(this._vertices[2],t),this.updateVertices()}},{key:"vertex3",get:function(){return this._vertices[3]},set:function(t){u.copy(this._vertices[3],t),this.updateVertices()}},{key:"shape",get:function(){return this._shape}},{key:"vertices",get:function(){return this._vertices}}]),e}(xe),qr.ESimplexType=X,o((Wr=Yr).prototype,"shapeType",[Ar,xr],Object.getOwnPropertyDescriptor(Wr.prototype,"shapeType"),Wr.prototype),o(Wr.prototype,"vertex0",[s,Br],Object.getOwnPropertyDescriptor(Wr.prototype,"vertex0"),Wr.prototype),o(Wr.prototype,"vertex1",[Fr,Nr],Object.getOwnPropertyDescriptor(Wr.prototype,"vertex1"),Wr.prototype),o(Wr.prototype,"vertex2",[jr,Rr],Object.getOwnPropertyDescriptor(Wr.prototype,"vertex2"),Wr.prototype),o(Wr.prototype,"vertex3",[Hr,Gr],Object.getOwnPropertyDescriptor(Wr.prototype,"vertex3"),Wr.prototype),Vr=o(Wr.prototype,"_shapeType",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return X.TETRAHEDRON}}),Ur=o(Wr.prototype,"_vertices",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[new u(0,0,0),new u(0,0,1),new u(1,0,0),new u(0,1,0)]}}),Lr=Wr))||Lr)||Lr)||Lr)||Lr));dn||(dn=t("h",{}));var fn,gn,bn,mn,wn,vn,Sn,Cn,Tn,kn,En,Pn,Dn,On,In,Mn,zn,An,xn,Bn,Fn,Nn,jn,Rn,Hn,Gn,Ln,Wn,Vn,Un=t("i",(Xr=e("cc.PlaneCollider"),Kr=v(),Zr=S(),Jr=b(u),$r=k(),Qr=k(),Xr(tn=Kr(tn=Zr(tn=m((on=function(t){function e(){var e;return e=t.call(this,L.PLANE)||this,a(e,"_normal",rn,p(e)),a(e,"_constant",nn,p(e)),e}return i(e,t),r(e,[{key:"normal",get:function(){return this._normal},set:function(t){u.strictEquals(this._normal,t)||(u.copy(this._normal,t),this._shape&&this.shape.setNormal(this._normal))}},{key:"constant",get:function(){return this._constant},set:function(t){this._constant!==t&&(this._constant=t,this._shape&&this.shape.setConstant(this._constant))}},{key:"shape",get:function(){return this._shape}}]),e}(xe),o((en=on).prototype,"normal",[Jr,$r],Object.getOwnPropertyDescriptor(en.prototype,"normal"),en.prototype),o(en.prototype,"constant",[s,Qr],Object.getOwnPropertyDescriptor(en.prototype,"constant"),en.prototype),rn=o(en.prototype,"_normal",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(0,1,0)}}),nn=o(en.prototype,"_constant",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tn=en))||tn)||tn)||tn)||tn)),qn=t("a",(fn=e("cc.Constraint"),gn=B(Ae),bn=b(Ae),mn=T(),wn=b(Ae),vn=T(),Sn=T(),Cn=b(Ae),fn(Tn=gn((On=Dn=function(t){function e(e){var i;return(i=t.call(this)||this).TYPE=void 0,a(i,"_enableCollision",En,p(i)),a(i,"_connectedBody",Pn,p(i)),i._constraint=null,i.TYPE=e,i}i(e,t);var n=e.prototype;return n.onLoad=function(){ct.runInEditor&&(this._constraint=function(t){return bt.INITED||(bt.INITED=!0,bt[W.POINT_TO_POINT]=function(){return yt(ct.wrapper.PointToPointConstraint,lt.PointToPointConstraint)?mt:new ct.wrapper.PointToPointConstraint},bt[W.HINGE]=function(){return yt(ct.wrapper.HingeConstraint,lt.HingeConstraint)?mt:new ct.wrapper.HingeConstraint},bt[W.CONE_TWIST]=function(){return yt(ct.wrapper.ConeTwistConstraint,lt.ConeTwistConstraint)?mt:new ct.wrapper.ConeTwistConstraint}),bt[t]()}(this.TYPE),this._constraint.initialize(this))},n.onEnable=function(){this._constraint&&this._constraint.onEnable()},n.onDisable=function(){this._constraint&&this._constraint.onDisable()},n.onDestroy=function(){this._constraint&&this._constraint.onDestroy()},r(e,[{key:"attachedBody",get:function(){return this.getComponent(Ae)}},{key:"connectedBody",get:function(){return this._connectedBody},set:function(t){this._connectedBody=t,this._constraint&&this._constraint.setConnectedBody(t)}},{key:"enableCollision",get:function(){return this._enableCollision},set:function(t){this._enableCollision=t,this._constraint&&this._constraint.setEnableCollision(t)}}]),e}(O(D)),Dn.Type=W,o((kn=On).prototype,"attachedBody",[bn,I,mn],Object.getOwnPropertyDescriptor(kn.prototype,"attachedBody"),kn.prototype),o(kn.prototype,"connectedBody",[wn,vn],Object.getOwnPropertyDescriptor(kn.prototype,"connectedBody"),kn.prototype),o(kn.prototype,"enableCollision",[Sn],Object.getOwnPropertyDescriptor(kn.prototype,"enableCollision"),kn.prototype),En=o(kn.prototype,"_enableCollision",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pn=o(kn.prototype,"_connectedBody",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tn=kn))||Tn)||Tn));qn||(qn=t("a",{}));var Yn,Xn,Kn,Zn,Jn,$n,Qn,to,eo,io,ro=t("H",(In=e("cc.HingeConstraint"),Mn=v(),zn=S(),An=b(u),xn=b(u),Bn=b(u),Fn=F("axisA"),Nn=F("pivotA"),jn=F("pivotB"),In(Rn=Mn(Rn=zn((Vn=function(t){function e(){var e;return e=t.call(this,W.HINGE)||this,a(e,"_axis",Gn,p(e)),a(e,"_pivotA",Ln,p(e)),a(e,"_pivotB",Wn,p(e)),e}return i(e,t),r(e,[{key:"pivotA",get:function(){return this._pivotA},set:function(t){u.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){u.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"axis",get:function(){return this._axis},set:function(t){u.copy(this._axis,t),this.constraint.setAxis(this._axis)}},{key:"constraint",get:function(){return this._constraint}}]),e}(qn),o((Hn=Vn).prototype,"pivotA",[An],Object.getOwnPropertyDescriptor(Hn.prototype,"pivotA"),Hn.prototype),o(Hn.prototype,"pivotB",[xn],Object.getOwnPropertyDescriptor(Hn.prototype,"pivotB"),Hn.prototype),o(Hn.prototype,"axis",[Bn],Object.getOwnPropertyDescriptor(Hn.prototype,"axis"),Hn.prototype),Gn=o(Hn.prototype,"_axis",[c,Fn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),Ln=o(Hn.prototype,"_pivotA",[c,Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),Wn=o(Hn.prototype,"_pivotB",[c,jn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),Rn=Hn))||Rn)||Rn)||Rn)),no=t("j",(Yn=e("cc.PointToPointConstraint"),Xn=v(),Kn=S(),Zn=b(u),Jn=b(u),Yn($n=Xn($n=Kn((io=function(t){function e(){var e;return e=t.call(this,W.POINT_TO_POINT)||this,a(e,"_pivotA",to,p(e)),a(e,"_pivotB",eo,p(e)),e}return i(e,t),r(e,[{key:"pivotA",get:function(){return this._pivotA},set:function(t){u.copy(this._pivotA,t),this.constraint.setPivotA(this._pivotA)}},{key:"pivotB",get:function(){return this._pivotB},set:function(t){u.copy(this._pivotB,t),this.constraint.setPivotB(this._pivotB)}},{key:"constraint",get:function(){return this._constraint}}]),e}(qn),o((Qn=io).prototype,"pivotA",[Zn],Object.getOwnPropertyDescriptor(Qn.prototype,"pivotA"),Qn.prototype),o(Qn.prototype,"pivotB",[Jn],Object.getOwnPropertyDescriptor(Qn.prototype,"pivotB"),Qn.prototype),to=o(Qn.prototype,"_pivotA",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),eo=o(Qn.prototype,"_pivotB",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),$n=Qn))||$n)||$n)||$n));y.PhysicsSystem=ce,y.PhysicsMaterial=st,y.PhysicsRayResult=at,y.ConstantForce=yn,t("p",Object.freeze({__proto__:null,PhysicsSystem:ce,PhysicsRayResult:at,get Collider(){return xe},BoxCollider:an,SphereCollider:pn,CapsuleCollider:ln,MeshCollider:hn,CylinderCollider:cn,ConeCollider:un,TerrainCollider:_n,get SimplexCollider(){return dn},PlaneCollider:Un,get Constraint(){return qn},HingeConstraint:ro,PointToPointConstraint:no,get RigidBody(){return Ae},PhysicsMaterial:st,ConstantForce:yn,selector:ct,utils:sn,get ERigidBodyType(){return q},get EAxisDirection(){return Y},get ESimplexType(){return X},get EColliderType(){return L},get EConstraintType(){return W},get PhysicsGroup(){return V}}))}}}));
