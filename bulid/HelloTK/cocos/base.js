System.register(["./json-asset-1a4fee7d.js","./index-60bf8166.js","./view-50c22e7e.js","./texture-buffer-pool-32e209c1.js","./deprecated-0fa1cf2f.js","./camera-component-ec549211.js","./renderable-component-b5e46bae.js","./transform-utils-65bf8251.js"],(function(e){"use strict";var t,r,a,n,o,i,l,u,s,c,d,p,g,m,f,b,S,h,T,C,v,y,I,P,A,R,B,D,F,N,_,M,w,E,V,x,O,L,j,k,z,H,U,G,Q,W,Y,J,X,q,K,Z,$,ee,te,re,ae,ne,oe,ie,le,ue,se,ce,de,pe,ge,me,fe,be,Se,he,Te,Ce,ve,ye,Ie,Pe,Ae,Re,Be,De,Fe,Ne,_e,Me,we,Ee,Ve,xe,Oe,Le,je,ke,ze,He,Ue,Ge,Qe,We,Ye,Je,Xe,qe,Ke,Ze,$e,et,tt,rt,at,nt,ot,it,lt,ut,st,ct,dt,pt,gt,mt,ft,bt,St,ht,Tt,Ct,vt,yt,It,Pt,At,Rt,Bt,Dt,Ft,Nt,_t,Mt,wt,Et,Vt,xt,Ot,Lt,jt,kt,zt,Ht,Ut,Gt,Qt,Wt,Yt,Jt,Xt,qt,Kt,Zt,$t,er,tr,rr,ar,nr,or,ir,lr,ur,sr,cr,dr,pr,gr,mr,fr,br,Sr,hr,Tr,Cr,vr,yr,Ir,Pr,Ar,Rr,Br,Dr,Fr,Nr,_r,Mr,wr,Er,Vr,xr,Or,Lr,jr,kr,zr,Hr,Ur,Gr,Qr,Wr,Yr,Jr,Xr,qr,Kr,Zr,$r,ea,ta,ra,aa,na,oa,ia,la,ua,sa,ca,da,pa,ga,ma;return{setters:[function(vr){t=vr.P,r=vr.R,a=vr.C,n=vr.l,o=vr.a,i=vr.w,l=vr.e,u=vr.b,s=vr._,c=vr.c,d=vr.d,p=vr.f,g=vr.g,m=vr.h,f=vr.j,b=vr.i,S=vr.m,h=vr.k,T=vr.n,C=vr.o,v=vr.p,y=vr.q,I=vr.s,P=vr.r,vr.t,A=vr.D,R=vr.B,B=vr.u,D=vr.O,F=vr.S,N=vr.A,_=vr.v,M=vr.F,w=vr.x,E=vr.y,V=vr.T,x=vr.z,O=vr.E,L=vr.M,j=vr.G,k=vr.H,z=vr.I,H=vr.J,U=vr.K,G=vr.L,Q=vr.N,W=vr.Q,Y=vr.U,J=vr.V,X=vr.W,q=vr.X,K=vr.Y,Z=vr.Z,$=vr.$,ee=vr.a0,te=vr.a1,re=vr.a2,ae=vr.a3,ne=vr.a4,oe=vr.a5,ie=vr.a6,le=vr.a7,ue=vr.a8,se=vr.a9,ce=vr.aa,de=vr.ab,pe=vr.ac,ge=vr.ad,me=vr.ae,fe=vr.af,be=vr.ag,Se=vr.ah,he=vr.ai,Te=vr.aj,Ce=vr.ak,ve=vr.al,ye=vr.am,Ie=vr.an,Pe=vr.ao,Ae=vr.ap,Re=vr.aq,Be=vr.ar,De=vr.as,Fe=vr.at,Ne=vr.au,_e=vr.av,Me=vr.aw,we=vr.ax,Ee=vr.ay,Ve=vr.az,xe=vr.aA,Oe=vr.aB,Le=vr.aC,je=vr.aD,ke=vr.aE,ze=vr.aF,He=vr.aG,Ue=vr.aH,Ge=vr.aI,Qe=vr.aJ,We=vr.aK,Ye=vr.aL,Je=vr.aM,Xe=vr.aN,qe=vr.aO,Ke=vr.aP,Ze=vr.aQ,$e=vr.aR,et=vr.aS,tt=vr.aT,rt=vr.aU,at=vr.aV,nt=vr.aW,ot=vr.aX,it=vr.aY,lt=vr.aZ,ut=vr.a_,st=vr.a$,ct=vr.b0,dt=vr.b1,pt=vr.b2,gt=vr.b3,mt=vr.b4,ft=vr.b5,bt=vr.b6,St=vr.b7,ht=vr.b8,Tt=vr.b9,Ct=vr.ba,vt=vr.bb,yt=vr.bc,It=vr.bd,Pt=vr.be,At=vr.bf,Rt=vr.bg,Bt=vr.bh,Dt=vr.bi,Ft=vr.bj,Nt=vr.bk,_t=vr.bl,Mt=vr.bm,wt=vr.bn,Et=vr.bo,Vt=vr.bp,xt=vr.bq,Ot=vr.br,Lt=vr.bs,jt=vr.bt,kt=vr.bu,zt=vr.bv,Ht=vr.bw,Ut=vr.bx,Gt=vr.by,Qt=vr.bz,Wt=vr.bA,Yt=vr.bB,Jt=vr.bC,Xt=vr.bD,qt=vr.bE,Kt=vr.bF,Zt=vr.bG,$t=vr.bH,er=vr.bI,tr=vr.bJ,rr=vr.bK,ar=vr.bL,nr=vr.bM,or=vr.bN,ir=vr.bO,lr=vr.bP,ur=vr.bQ,sr=vr.bR,cr=vr.bS,dr=vr.bT,pr=vr.bU,gr=vr.bV,mr=vr.bW,fr=vr.bX,br=vr.bY,Sr=vr.bZ,hr=vr.b_,Tr=vr.b$,Cr=vr.c0;var yr={};yr.AffineTransform=vr.ce,yr.Asset=vr.df,yr.BaseNode=vr.dG,yr.BitMask=vr.cI,yr.BufferAsset=vr.dg,yr.CCBoolean=vr.d6,yr.CCClass=vr.cZ,yr.CCFloat=vr.d5,yr.CCInteger=vr.d4,yr.CCObject=vr.c_,yr.CCString=vr.d7,yr.CachedArray=vr.C,yr.Color=vr.cj,yr.CompactValueTypeArray=vr.d8,yr.Component=vr.dO,yr.DebugMode=vr.dA,yr.Details=vr.d1,yr.EPSILON=vr.cl,yr.EffectAsset=vr.dq,yr.Enum=vr.cJ,yr.Event=vr.dc,yr.EventTarget=vr.dd,yr.Eventify=vr.de,yr.ExtrapolationMode=vr.dW,yr.ImageAsset=vr.dm,yr.JavaScript=vr.du,yr.JsonAsset=vr.dl,yr.Layers=vr.dJ,yr.MATH_FLOAT_ARRAY=vr.cG,yr.Mat3=vr.cb,yr.Mat4=vr.cc,yr.Material=vr.dr,yr.MathBase=vr.cH,yr.MissingScript=vr.dN,yr.Node=vr.dH,yr.NodeActivator=vr.dL,yr.ObjectCurve=vr.d_,yr.Pool=vr.P,yr.Prefab=vr.dh,yr.PrefabLink=vr.cP,yr.PrivateNode=vr.dM,yr.Quat=vr.c9,yr.QuatCurve=vr.dY,yr.QuatInterpolationMode=vr.dZ,yr.RealCurve=vr.dU,yr.RealInterpolationMode=vr.dV,yr.Rect=vr.ch,yr.RecyclePool=vr.R,yr.RenderTexture=vr.ds,yr.RenderingSubMesh=vr.di,yr.Scene=vr.dI,yr.SceneAsset=vr.dj,yr.Script=vr.dt,yr.Size=vr.cf,yr.SystemEventType=vr.dD,yr.TangentWeightMode=vr.dX,yr.TextAsset=vr.dk,yr.Texture2D=vr.dn,yr.TextureCube=vr.dp,yr.TypeScript=vr.dv,yr.VERSION=vr.c1,yr.ValueType=vr.cL,yr.Vec2=vr.c3,yr.Vec3=vr.c5,yr.Vec4=vr.c7,yr.WorldNode3DToLocalNodeUI=vr.cV,yr.WorldNode3DToWorldNodeUI=vr.cW,yr._decorator=vr.cY,yr.absMax=vr.cE,yr.absMaxComponent=vr.cD,yr.approx=vr.cn,yr.assert=vr.b,yr.assertID=vr.g,yr.bezier=vr.dS,yr.bezierByTime=vr.dT,yr.bits=vr.c2,yr.builtinResMgr=vr.dQ,yr.ccenum=vr.cK,yr.cclegacy=vr.l,yr.clamp=vr.co,yr.clamp01=vr.cp,yr.color=vr.ck,yr.convertUtils=vr.cX,yr.debug=vr.dw,yr.deserialize=vr.d0,yr.deserializeTag=vr.da,yr.easing=vr.dR,yr.editorExtrasTag=vr.d9,yr.effects=vr.dP,yr.enumerableProps=vr.cF,yr.equals=vr.cm,yr.error=vr.e,yr.errorID=vr.f,yr.find=vr.dK,yr.getError=vr.dz,yr.getPhaseID=vr.dF,yr.getSerializationMetadata=vr.d2,yr.instantiate=vr.d3,yr.inverseLerp=vr.cC,yr.isDisplayStats=vr.dx,yr.isValid=vr.c$,yr.js=vr.cM,yr.lerp=vr.cq,yr.log=vr.a,yr.logID=vr.c,yr.macro=vr.dC,yr.markAsWarning=vr.cT,yr.mat4=vr.cd,yr.misc=vr.cN,yr.murmurhash2_32_gc=vr.cU,yr.nextPow2=vr.cz,yr.path=vr.cO,yr.pingPong=vr.cB,yr.pipeline=vr.dE,yr.pseudoRandom=vr.cw,yr.pseudoRandomRange=vr.cx,yr.pseudoRandomRangeInt=vr.cy,yr.quat=vr.ca,yr.random=vr.ct,yr.randomRange=vr.cu,yr.randomRangeInt=vr.cv,yr.rect=vr.ci,yr.removeProperty=vr.cS,yr.repeat=vr.cA,yr.replaceProperty=vr.cR,yr.serializeTag=vr.db,yr.setDefaultLogTimes=vr.cQ,yr.setDisplayStats=vr.dy,yr.size=vr.cg,yr.sys=vr.dB,yr.toDegree=vr.cs,yr.toRadian=vr.cr,yr.v2=vr.c4,yr.v3=vr.c6,yr.v4=vr.c8,yr.warn=vr.w,yr.warnID=vr.d,e(yr)},function(t){vr=t.U,yr=t.M,Ir=t.a,Pr=t.b;var r={};r.AnimationManager=t.q,r.AssetLibrary=t.f,r.AssetManager=t.A,r.CCLoader=t.C,r.ComponentModifier=t.i,r.CurveValueAdapter=t.j,r.Director=t.D,r.EventHandler=t.E,r.HierachyModifier=t.H,r.Scheduler=t.S,r.System=t.h,r.UniformCurveValueAdapter=t.k,r.assetManager=t.e,r.createDefaultPipeline=t.c,r.director=t.d,r.geometry=t.g,r.isCustomTargetModifier=t.p,r.isElementModifier=t.o,r.isPropertyModifier=t.n,r.loader=t.l,r.math=t.m,r.resources=t.r,r.url=t.u,e(r)},function(t){Ar=t.C,Rr=t.a,Br=t.b,Dr=t.c,Fr=t.d,Nr=t.S,_r=t.e,Mr=t.f,wr=t.V,Er=t.D,Vr=t.g,xr=t.L,Or=t.n,Lr=t.h,jr=t.M,kr=t.i,zr=t.R,Hr=t.j,Ur=t.k,Gr=t.l,Qr=t.m,Wr=t.o,Yr=t.P;var r={};r.DeferredPipeline=t.H,r.EventAcceleration=t.t,r.EventKeyboard=t.u,r.EventMouse=t.E,r.EventTouch=t.r,r.ForwardFlow=t.A,r.ForwardPipeline=t.F,r.ForwardStage=t.B,r.Game=t.G,r.GbufferFlow=t.I,r.GbufferStage=t.J,r.InstancedBuffer=t.X,r.KeyCode=t.K,r.LightingFlow=t.N,r.LightingStage=t.O,r.PipelineStateManager=t.Y,r.PostprocessStage=t.Q,r.RenderFlow=t.y,r.RenderPipeline=t.x,r.RenderStage=t.z,r.ResolutionPolicy=t.q,r.ShadowFlow=t.U,r.ShadowStage=t.W,r.Touch=t.T,r.View=t.p,r.game=t.w,r.screen=t.s,r.view=t.v,e(r)},function(e){Jr=e.R,Xr=e.P,qr=e.n,Kr=e.T},function(t){var r={};r.SystemEvent=t.S,r.systemEvent=t.s,e(r)},function(t){var r={};r.Camera=t.C,r.CameraComponent=t.C,e(r)},function(t){e("RenderableComponent",t.R)},function(t){Zr=t.T,$r=t.a,ea=t.R,ta=t.V,ra=t.Q,aa=t.C,na=t.S,oa=t.O,ia=t.i,la=t.b,ua=t.H,sa=t.c,ca=t.d,da=t.e,pa=t.f,ga=t.g,ma=t.h;var r={};r.AnimCurve=t.m,r.Animation=t.k,r.AnimationClip=t.A,r.AnimationComponent=t.k,r.AnimationState=t.j,r.CubicSplineNumberValue=t.h,r.CubicSplineQuatValue=t.g,r.CubicSplineVec2Value=t.d,r.CubicSplineVec3Value=t.e,r.CubicSplineVec4Value=t.f,r.EventInfo=t.E,r.RatioSampler=t.l,r.computeRatioByType=t.n,r.getPathFromRoot=t.o,r.getWorldTransformUntilRoot=t.p,r.sampleAnimationCurve=t.s,e(r)}],execute:function(){e("memop",Object.freeze({__proto__:null,Pool:t,RecyclePool:r,CachedArray:a})),n.log=o,n.warn=i,n.error=l,n.assert=u,n._throw=s,n.logID=c,n.warnID=d,n.errorID=p,n.assertID=g,n.debug=m,n.path={join:f,extname:b,mainFileName:S,basename:h,dirname:T,changeExtname:C,changeBasename:v,_normalize:y,stripSep:I,get sep(){return P()}};var fa=0,ba={};e("gfx",Object.freeze({__proto__:null,DescriptorSet:A,Buffer:R,CommandBuffer:B,get ObjectType(){return D},get Status(){return F},get API(){return N},get SurfaceTransform(){return _},get Feature(){return M},get Format(){return w},get FormatType(){return E},get Type(){return V},get BufferUsageBit(){return x},get BufferFlagBit(){return O},get MemoryAccessBit(){return L},get MemoryUsageBit(){return j},get TextureType(){return k},get TextureUsageBit(){return z},get TextureFlagBit(){return H},get SampleCount(){return U},get Filter(){return G},get Address(){return Q},get ComparisonFunc(){return W},get StencilOp(){return Y},get BlendFactor(){return J},get BlendOp(){return X},get ColorMask(){return q},get ShaderStageFlagBit(){return K},get LoadOp(){return Z},get StoreOp(){return $},get AccessType(){return ee},get ResolveMode(){return te},get PipelineBindPoint(){return re},get PrimitiveMode(){return ae},get PolygonMode(){return ne},get ShadeModel(){return oe},get CullMode(){return ie},get DynamicStateFlagBit(){return le},get StencilFace(){return ue},get DescriptorType(){return se},get QueueType(){return ce},get CommandBufferType(){return de},get ClearFlagBit(){return pe},Size:ge,DeviceCaps:me,Offset:fe,Rect:be,Extent:Se,TextureSubresLayers:he,TextureSubresRange:Te,TextureCopy:Ce,TextureBlit:ve,BufferTextureCopy:ye,Viewport:Ie,Color:Pe,BindingMappingInfo:Ae,BufferInfo:Re,BufferViewInfo:Be,DrawInfo:De,DispatchInfo:Fe,IndirectBuffer:Ne,TextureInfo:_e,TextureViewInfo:Me,SamplerInfo:we,Uniform:Ee,UniformBlock:Ve,UniformSamplerTexture:xe,UniformSampler:Oe,UniformTexture:Le,UniformStorageImage:je,UniformStorageBuffer:ke,UniformInputAttachment:ze,ShaderStage:He,Attribute:Ue,ShaderInfo:Ge,InputAssemblerInfo:Qe,ColorAttachment:We,DepthStencilAttachment:Ye,SubpassInfo:Je,SubpassDependency:Xe,RenderPassInfo:qe,GlobalBarrierInfo:Ke,TextureBarrierInfo:Ze,FramebufferInfo:$e,DescriptorSetLayoutBinding:et,DescriptorSetLayoutInfo:tt,DescriptorSetInfo:rt,PipelineLayoutInfo:at,InputState:nt,CommandBufferInfo:ot,QueueInfo:it,FormatInfo:lt,MemoryStatus:ut,DynamicStencilStates:st,DynamicStates:ct,Obj:dt,DeviceInfo:pt,get AttributeName(){return gt},FormatInfos:mt,DESCRIPTOR_BUFFER_TYPE:ft,DESCRIPTOR_SAMPLER_TYPE:bt,DESCRIPTOR_DYNAMIC_TYPE:St,DRAW_INFO_SIZE:ht,IsPowerOf2:Tt,FormatSize:Ct,FormatSurfaceSize:vt,GetTypeSize:yt,getTypedArrayConstructor:It,Device:Pt,Framebuffer:At,InputAssembler:Rt,DescriptorSetLayout:Bt,PipelineLayout:Dt,RasterizerState:Ft,DepthStencilState:Nt,BlendTarget:_t,BlendState:Mt,PipelineStateInfo:wt,PipelineState:Et,Queue:Vt,RenderPass:xt,Sampler:Ot,Shader:Lt,Texture:jt,GlobalBarrier:kt,TextureBarrier:zt}));var Sa=Object.freeze({__proto__:null,Ambient:Ht,get CameraFOVAxis(){return Ar},get CameraProjection(){return Rr},get CameraAperture(){return Br},get CameraISO(){return Dr},get CameraShutter(){return Fr},SKYBOX_FLAG:Nr,Camera:_r,CameraVisFlags:Mr,VisibilityFlags:wr,DirectionalLight:Er,ColorTemperatureToRGB:Vr,get LightType(){return xr},nt2lm:Or,Light:Lr,get ModelType(){return jr},Model:kr,ShadowSize:Ut,ShadowType:Gt,PCFType:Qt,Shadows:Wt,RenderScene:zr,Skybox:Hr,SphereLight:Ur,SpotLight:Gr,SubModel:Qr,NativeNode:null,NativeScene:null,NativeAABB:null,NativeModel:null,NativeSkinningModel:null,NativeBakedAnimInfo:null,NativeBakedJointInfo:null,NativeBakedSkinningModel:null,NativeLight:null,NativeDirectionalLight:null,NativeSphereLight:null,NativeSpotLight:null,NaitveSkybox:null,NativeFog:null,NativeRenderWindow:null,NativeCamera:null,NativePass:null,NativeSubModel:null,NativeDrawBatch2D:null,NativeRenderScene:null,NativeAmbient:null,NativeShadow:null,NativeRoot:null,NativeJointTransform:null,NativeJointInfo:null,NativePipelineSharedSceneData:null}),ha=function(e){if(void 0===ba[e]){var t=1<<fa;ba[e]=t,fa+=1}},Ta=Object.freeze({__proto__:null,addStage:ha,scene:Sa,createIA:function(e,t){if(!t.positions)return console.error("The data must have positions field"),null;for(var r=[],a=t.positions.length/3,n=0;n<a;++n)r.push(t.positions[3*n],t.positions[3*n+1],t.positions[3*n+2]),t.normals&&r.push(t.normals[3*n],t.normals[3*n+1],t.normals[3*n+2]),t.uvs&&r.push(t.uvs[2*n],t.uvs[2*n+1]),t.colors&&r.push(t.colors[3*n],t.colors[3*n+1],t.colors[3*n+2]);var o=[];o.push(new Ue(gt.ATTR_POSITION,w.RGB32F)),t.normals&&o.push(new Ue(gt.ATTR_NORMAL,w.RGB32F)),t.uvs&&o.push(new Ue(gt.ATTR_TEX_COORD,w.RG32F)),t.colors&&o.push(new Ue(gt.ATTR_COLOR,w.RGB32F));var i=e.createBuffer(new Re(x.VERTEX|x.TRANSFER_DST,j.HOST|j.DEVICE,4*r.length,4*r.length/a));i.update(new Float32Array(r));var l=null;return t.indices&&(l=e.createBuffer(new Re(x.INDEX|x.TRANSFER_DST,j.HOST|j.DEVICE,2*t.indices.length,2))).update(new Uint16Array(t.indices)),e.createInputAssembler(new Qe(o,[i],l))},get RenderQueue(){return Jr},get PassStage(){return Xr},get PropertyType(){return Yt},genHandle:Jt,getPropertyTypeFromHandle:Xt,getTypeFromHandle:qt,getSetIndexFromHandle:Kt,getBindingFromHandle:Zt,getOffsetFromHandle:$t,customizeType:er,type2reader:tr,type2writer:rr,getDefaultFromType:ar,overrideMacros:nr,get BatchingSchemes(){return or},Pass:ir,getDeviceShaderVersion:lr,programLib:ur,get SamplerInfoIndex(){return sr},defaultSamplerHash:cr,genSamplerHash:dr,samplerLib:pr,nearestPOT:qr,TextureBufferPool:Kr,MaterialInstance:Wr,PassInstance:Yr,get PoolType(){return gr},NULL_HANDLE:mr,get NodeView(){return fr},NodePool:br,get PassView(){return Sr},PassPool:hr,get AABBView(){return Tr},AABBPool:Cr});e("renderer",Ta),e("animation",Object.freeze({__proto__:null,UniformProxyFactory:vr,MorphWeightValueProxy:yr,MorphWeightsValueProxy:Ir,MorphWeightsAllValueProxy:Pr,Track:Zr,TrackPath:$r,RealTrack:ea,VectorTrack:ta,QuatTrack:ra,ColorTrack:aa,SizeTrack:na,ObjectTrack:oa,isPropertyPath:ia,isCustomPath:la,HierarchyPath:ua,ComponentPath:sa,CubicSplineVec2Value:ca,CubicSplineVec3Value:da,CubicSplineVec4Value:pa,CubicSplineQuatValue:ga,CubicSplineNumberValue:ma}));var Ca=e("NodePool",function(){function e(e){this.poolHandlerComp=void 0,this._pool=void 0,this.poolHandlerComp=e,this._pool=[]}var t=e.prototype;return t.size=function(){return this._pool.length},t.clear=function(){for(var e=this._pool.length,t=0;t<e;++t)this._pool[t].destroy();this._pool.length=0},t.put=function(e){if(e&&-1===this._pool.indexOf(e)){e.removeFromParent();var t=this.poolHandlerComp?e.getComponent(this.poolHandlerComp):null;t&&t.unuse&&t.unuse(),this._pool.push(e)}},t.get=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=this._pool.length-1;if(a<0)return null;var n=this._pool[a];this._pool.length=a;var o=this.poolHandlerComp?n.getComponent(this.poolHandlerComp):null;return o&&o.reuse&&o.reuse(arguments),n},e}());n.NodePool=Ca,n.renderer=Ta}}}));
