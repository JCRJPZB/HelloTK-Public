{"version":3,"sources":["file:///E:/GitHub/HelloTK/assets/Script/Tools/AlertLbl.ts"],"names":["_decorator","Component","Label","tween","v3","Generator","ccclass","property","AlertLbl","constructor","name","gen","getInstance","ins","alert","content","parent","pos","lbl_node","generator","lbl","getComponent","string","by","position","easing","call","destroy","start"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,K,OAAAA,K;AAAaC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,E,OAAAA,E;;AACjDC,MAAAA,S,iBAAAA,S;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;0BAGjBQ,Q,WADZF,OAAO,CAAC,UAAD,C,mCAAR,MACaE,QADb,SAC8BP,SAD9B,CACwC;AAK5BQ,QAAAA,WAAW,CAACC,IAAD,EAAe;AAC9B,gBAAMA,IAAN;;AAD8B,uCAFF,IAEE;;AAE9B,eAAKC,GAAL,GAAW;AAAA;AAAA,sCAAUC,WAAV,EAAX;AACH;;AAEwB,eAAXA,WAAW,GAAG;AACxB,cAAI,CAACJ,QAAQ,CAACK,GAAd,EAAmB;AAAEL,YAAAA,QAAQ,CAACK,GAAT,GAAe,IAAIL,QAAJ,CAAa,UAAb,CAAf;AAA0C;;AAC/D,iBAAOA,QAAQ,CAACK,GAAhB;AACH;;AAEMC,QAAAA,KAAK,CAACC,OAAD,EAAkBC,MAAlB,EAAgCC,GAAhC,EAA2C;AACnD,cAAI,CAAC,KAAKN,GAAV,EAAe;AAAE,iBAAKA,GAAL,GAAW;AAAA;AAAA,wCAAUC,WAAV,EAAX;AAAqC;;AACtD,cAAIM,QAAQ,GAAG,KAAKP,GAAL,CAASQ,SAAT,CAAmBH,MAAnB,EAA2B,aAA3B,EAA0CC,GAA1C,CAAf;AACA,cAAIG,GAAG,GAAGF,QAAH,aAAGA,QAAH,uBAAGA,QAAQ,CAAEG,YAAV,CAAuBnB,KAAvB,CAAV;;AACA,cAAIkB,GAAJ,EAAS;AAAEA,YAAAA,GAAG,CAACE,MAAJ,GAAaP,OAAb;AAAuB;;AAClCZ,UAAAA,KAAK,CAACe,QAAD,CAAL,CACKK,EADL,CACQ,CADR,EACW;AAAEC,YAAAA,QAAQ,EAAEpB,EAAE,CAAC,CAAD,EAAI,GAAJ,EAAS,CAAT;AAAd,WADX,EACwC;AAAEqB,YAAAA,MAAM,EAAE;AAAV,WADxC,EAEKC,IAFL,CAEU,MAAM;AAAER,YAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,YAAAA,QAAQ,CAAES,OAAV;AAAsB,WAFxC,EAGKC,KAHL;AAIH;;AAxBmC,O","sourcesContent":["import { _decorator, Component, Node, Label, Vec3, tween, v3 } from 'cc';\r\nimport { Generator } from './Generator';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('AlertLbl')\r\nexport class AlertLbl extends Component {\r\n\r\n    private static ins: AlertLbl;\r\n    private gen: Generator | null = null;\r\n\r\n    private constructor(name: string) {\r\n        super(name);\r\n        this.gen = Generator.getInstance();\r\n    }\r\n\r\n    public static getInstance() {\r\n        if (!AlertLbl.ins) { AlertLbl.ins = new AlertLbl(\"AlertLbl\"); }\r\n        return AlertLbl.ins;\r\n    }\r\n\r\n    public alert(content: string, parent: Node, pos: Vec3) {\r\n        if (!this.gen) { this.gen = Generator.getInstance(); }\r\n        let lbl_node = this.gen.generator(parent, \"Alert_Label\", pos);\r\n        let lbl = lbl_node?.getComponent(Label);\r\n        if (lbl) { lbl.string = content; }\r\n        tween(lbl_node)\r\n            .by(1, { position: v3(0, 150, 0) }, { easing: \"fade\" })\r\n            .call(() => { lbl_node?.destroy(); })\r\n            .start();\r\n    }\r\n}\r\n"]}