{"version":3,"sources":["file:///E:/GitHub/HelloTK/assets/Script/Error/BasicException.ts"],"names":["_decorator","ccclass","property","BasicExceptionCode","PARAM_COUNT","PARAM_TYPE","PARAM_NULL","BasicException","Error","constructor","code","detail","script","func","Map","map","check","appendMap","has","msg","get","getCode","getMsg","getDetail","getErrPos","toString"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport const BasicExceptionCode = {\r\n    PARAM_COUNT: \"BASIC0001\",\r\n    PARAM_TYPE: \"BASIC0002\",\r\n    PARAM_NULL: \"BASIC0003\"\r\n}\r\n\r\n@ccclass('BasicException')\r\nexport class BasicException extends Error {\r\n    protected map: Map<string, string> = new Map<string, string>();\r\n    protected code: string = \"\";\r\n    protected msg: string | undefined = \"\";\r\n    protected detail: string = \"\";\r\n    protected script: string = \"\";\r\n    protected func: string = \"\";\r\n\r\n    constructor(code: string = \"BASIC9999\", detail: string = \"\", script: string = \"\", func: string = \"\") {\r\n        super();\r\n        this.map = new Map([\r\n            ['BASIC0001', '参数数量错误'],\r\n            ['BASIC0002', '参数类型错误'],\r\n            ['BASIC0003', '参数为空'],\r\n            ['BASIC9999', '未知错误']\r\n        ]);\r\n\r\n        this.check(code, detail, script, func);\r\n    }\r\n\r\n    protected appendMap(map: Map<string, string>) {\r\n        this.map = new Map<string, string>([...this.map, ...map]);\r\n    }\r\n\r\n    private check(\r\n        code: string = \"BASIC9999\",\r\n        detail: string = \"\",\r\n        script: string = \"Unknown\",\r\n        func: string = \"Unknown\") {\r\n        this.detail = detail;\r\n        this.script = script;\r\n        this.func = func;\r\n        if (this.map.has(code)) {\r\n            this.code = code;\r\n            this.msg = this.map.get(code);\r\n        } else {\r\n            this.code = \"BASIC9999\";\r\n            this.msg = this.map.get(code);\r\n        }\r\n\r\n    }\r\n\r\n    public getCode() {\r\n        return this.code;\r\n    }\r\n\r\n    //获取错误码中文描述\r\n    public getMsg() {\r\n        return this.msg;\r\n    }\r\n\r\n    //获取错误明细(错误明细是抛出错误时手动传入的)\r\n    public getDetail() {\r\n        return this.detail;\r\n    }\r\n\r\n    //获取错误位置\r\n    public getErrPos() {\r\n        return this.script + '.' + this.func;\r\n    }\r\n\r\n    // 转字符串\r\n    public toString() {\r\n        return `Error code:${this.code},msg:${this.msg},detail:${this.detail}\\nat: ${this.script}.${this.func}`;\r\n    }\r\n}\r\n"]}