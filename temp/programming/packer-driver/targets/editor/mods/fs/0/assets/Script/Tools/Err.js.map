{"version":3,"sources":["file:///E:/GitHub/HelloTK/assets/Script/Tools/Err.ts"],"names":["_decorator","game","Component","Subscribe","ccclass","property","Err","onLoad","listen","name","console","print","alert","err","Error","e","error","stopGame","pause"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,S,OAAAA,S;;AAClBC,MAAAA,S,iBAAAA,S;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;qBAGjBM,G,WADZF,OAAO,CAAC,KAAD,C,gBAAR,MACaE,GADb,SACyBJ,SADzB,CACkC;AAE9BK,QAAAA,MAAM,GAAG;AACL;AAAA;AAAA,sCAAUC,MAAV,CAAiB,SAAjB,EAA4B,KAAKC,IAAjC,EAAuC,KAAKC,OAA5C,EAAqD,IAArD;AACA;AAAA;AAAA,sCAAUF,MAAV,CAAiB,WAAjB,EAA8B,KAAKC,IAAnC,EAAyC,KAAKE,KAA9C,EAAqD,IAArD;AACA;AAAA;AAAA,sCAAUH,MAAV,CAAiB,WAAjB,EAA8B,KAAKC,IAAnC,EAAyC,KAAKG,KAA9C,EAAqD,IAArD;AACH;;AAEOF,QAAAA,OAAO,CAACG,GAAD,EAAc;AACzB,cAAI;AAAE,kBAAM,IAAIC,KAAJ,CAAUD,GAAV,CAAN;AAAuB,WAA7B,CACA,OAAOE,CAAP,EAAU;AAAEL,YAAAA,OAAO,CAACM,KAAR,CAAcD,CAAd;AAAmB;AAClC;;AAEOH,QAAAA,KAAK,CAACC,GAAD,EAAc;AACvB,eAAKH,OAAL,CAAaG,GAAb;AACA,eAAKI,QAAL;AACH;;AAEON,QAAAA,KAAK,CAACE,GAAD,EAAc;AACvB,eAAKH,OAAL,CAAaG,GAAb;AACA,eAAKI,QAAL;AACH;;AAEOA,QAAAA,QAAQ,GAAG;AACf;AACA;AACAhB,UAAAA,IAAI,CAACiB,KAAL;AACH;;AA3B6B,O","sourcesContent":["import { _decorator, game, Component } from 'cc';\r\nimport { Subscribe } from './Subscribe';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Err')\r\nexport class Err extends Component{\r\n\r\n    onLoad() {\r\n        Subscribe.listen(\"log err\", this.name, this.console, this);\r\n        Subscribe.listen(\"print err\", this.name, this.print, this);\r\n        Subscribe.listen(\"alert err\", this.name, this.alert, this);\r\n    }\r\n\r\n    private console(err: string) {\r\n        try { throw new Error(err); }\r\n        catch (e) { console.error(e); }\r\n    }\r\n\r\n    private alert(err: string) {\r\n        this.console(err);\r\n        this.stopGame();\r\n    }\r\n\r\n    private print(err: string) {\r\n        this.console(err);\r\n        this.stopGame();\r\n    }\r\n\r\n    private stopGame() {\r\n        // Stop and exit game;\r\n        // game.end();\r\n        game.pause();\r\n    }\r\n}\r\n"]}