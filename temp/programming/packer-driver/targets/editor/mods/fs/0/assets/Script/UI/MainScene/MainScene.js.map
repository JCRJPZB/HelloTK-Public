{"version":3,"sources":["file:///E:/GitHub/HelloTK/assets/Script/UI/MainScene/MainScene.ts"],"names":["_decorator","Component","PlayerMgr","Subscribe","ccclass","property","MainScene","onLoad","listen","name","scene_name","num","data","load_times","trigger","playerMgr","getInstance"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,S,iBAAAA,S;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;2BAGjBM,S,WADZF,OAAO,CAAC,WAAD,C,yBAAR,MACaE,SADb,SAC+BL,SAD/B,CACyC;AAAA;AAAA;;AAAA,6CAEC,IAFD;;AAAA,8CAGR,CAHQ;;AAAA,wCAMtB,EANsB;AAAA;;AAOrC;AAEAM,QAAAA,MAAM,GAAG;AACL;AAAA;AAAA,sCAAUC,MAAV,CAAiB,kBAAjB,EAAqC,KAAKC,IAA1C,EAAgD,CAACC,UAAD,EAAqBC,GAArB,EAAkCC,IAAlC,KAAgD;AAC5F,gBAAIF,UAAU,KAAK,MAAnB,EAA2B;AACvB,mBAAKG,UAAL,GAAkBF,GAAlB;AACA;AAAA;AAAA,0CAAUG,OAAV,CAAkB,SAAlB,EAA6B,UAA7B,EAAyC,MAAzC;;AACA,kBAAI,KAAKD,UAAL,KAAoB,CAAxB,EAA2B;AACvB;AAAA;AAAA,4CAAUC,OAAV,CAAkB,SAAlB,EAA6B,MAA7B,EAAqC,MAArC;AACH;AACJ;AACJ,WARD;AASA;AAAA;AAAA,sCAAUN,MAAV,CAAiB,iBAAjB,EAAoC,KAAKC,IAAzC,EAA+C,MAAM;AACjD;AAAA;AAAA,wCAAUK,OAAV,CAAkB,YAAlB,EAAgC,YAAhC,EAA8C,MAA9C;AACH,WAFD;AAGA,eAAKC,SAAL,GAAiB;AAAA;AAAA,sCAAUC,WAAV,EAAjB;AACH;;AAvBoC,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nimport { PlayerMgr } from '../../Player/PlayerMgr';\r\nimport { Subscribe } from '../../Tools/Subscribe';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('MainScene')\r\nexport class MainScene extends Component {\r\n\r\n    private playerMgr: PlayerMgr | null = null;\r\n    private load_times: number = 0;\r\n\r\n    // ##########################################\r\n    private data = {}\r\n    // ##########################################\r\n\r\n    onLoad() {\r\n        Subscribe.listen(\"UI manager ready\", this.name, (scene_name: string, num: number, data: any) => {\r\n            if (scene_name === \"Main\") {\r\n                this.load_times = num;\r\n                Subscribe.trigger(\"open UI\", \"MainPage\", \"Page\");\r\n                if (this.load_times === 1) {\r\n                    Subscribe.trigger(\"open UI\", \"Mail\", \"Page\");\r\n                }\r\n            }\r\n        });\r\n        Subscribe.listen(\"show Expedition\", this.name, () => {\r\n            Subscribe.trigger(\"load scene\", \"Expedition\", \"main\");\r\n        });\r\n        this.playerMgr = PlayerMgr.getInstance();\r\n    }\r\n}\r\n"]}