{"version":3,"sources":["file:///E:/GitHub/HelloTK/assets/Script/UI/UIBase.ts"],"names":["_decorator","Component","Subscribe","UIContainer","ccclass","property","UIBase","init","params","_strName","node","name","_ui","find","onInit","open","active","onOpen","close","onClose","getNode","getComp","type","addClickEvent","nodeName","cb","target","btnNode","trigger","on"],"mappings":";;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;AACZC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,W,iBAAAA,W;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;wBAGjBM,M,WADZF,OAAO,CAAC,QAAD,C,yBAAR,MACaE,MADb,SAC4BL,SAD5B,CACsC;AAAA;AAAA;;AAAA,4CAER,EAFQ;;AAAA,uCAGL;AAAA;AAAA,2CAHK;AAAA;;AAIlC;AAEOM,QAAAA,IAAI,CAACC,MAAD,EAAe;AACtB,eAAKC,QAAL,GAAgB,KAAKC,IAAL,CAAUC,IAA1B;;AACA,eAAKC,GAAL,CAASC,IAAT,CAAc,KAAKH,IAAnB;;AACA,eAAKI,MAAL,CAAYN,MAAZ;AACH;;AAEMO,QAAAA,IAAI,CAACP,MAAD,EAAe;AACtB,cAAI,CAAC,KAAKE,IAAL,CAAUM,MAAf,EAAuB;AACnB,iBAAKN,IAAL,CAAUM,MAAV,GAAmB,IAAnB;AACH;;AACD,eAAKC,MAAL,CAAYT,MAAZ;AACH;;AAEMU,QAAAA,KAAK,CAACV,MAAD,EAAe;AACvB,cAAI,KAAKE,IAAL,CAAUM,MAAd,EAAsB;AAClB,iBAAKN,IAAL,CAAUM,MAAV,GAAmB,KAAnB;AACH;;AACD,eAAKG,OAAL,CAAaX,MAAb;AACH;;AAEMY,QAAAA,OAAO,CAACT,IAAD,EAAe;AACzB,iBAAO,KAAKC,GAAL,CAASQ,OAAT,CAAiBT,IAAjB,CAAP;AACH;;AAEMU,QAAAA,OAAO,CAACV,IAAD,EAAeW,IAAf,EAA6B;AACvC,iBAAO,KAAKV,GAAL,CAASS,OAAT,CAAiBV,IAAjB,EAAuBW,IAAvB,CAAP;AACH;;AAEMC,QAAAA,aAAa,CAACC,QAAD,EAAmBC,EAAnB,EAAiCC,MAAjC,EAAmD;AACnE,cAAIC,OAAO,GAAG,KAAKP,OAAL,CAAaI,QAAb,CAAd;;AACA,cAAI,CAACG,OAAL,EAAc;AACV;AAAA;AAAA,wCAAUC,OAAV,CAAkB,SAAlB,EAA6B,6BAA6BJ,QAA7B,GAAwC,eAAxC,GAA0D,KAAKf,QAA/D,GAA0E,KAAvG;AACA;AACH;;AACDkB,UAAAA,OAAO,CAACE,EAAR,CAAW,OAAX,EAAoBJ,EAApB,EAAwBC,MAAxB;AACH,SAzCiC,CA2ClC;AAEA;;;AAEUZ,QAAAA,MAAM,CAACN,MAAD,EAAe;AAC3B,WAD2B,CACzB;AACL;;AAESS,QAAAA,MAAM,CAACT,MAAD,EAAe;AAC3B,WAD2B,CACzB;AACL;;AAESW,QAAAA,OAAO,CAACX,MAAD,EAAe;AAC5B,WAD4B,CAC1B;AACL,SAzDiC,CA2DlC;AACA;AACA;;;AA7DkC,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nimport { Subscribe } from '../Tools/Subscribe';\r\nimport { UIContainer } from './UIContainer';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UIBase')\r\nexport class UIBase extends Component {\r\n\r\n    public _strName: string = '';\r\n    protected _ui: UIContainer = new UIContainer();\r\n    // protected _arrWatcher: Watcher[] = [];\r\n\r\n    public init(params?: any) {\r\n        this._strName = this.node.name;\r\n        this._ui.find(this.node);\r\n        this.onInit(params);\r\n    }\r\n\r\n    public open(params?: any) {\r\n        if (!this.node.active) {\r\n            this.node.active = true;\r\n        }\r\n        this.onOpen(params);\r\n    }\r\n\r\n    public close(params?: any) {\r\n        if (this.node.active) {\r\n            this.node.active = false;\r\n        }\r\n        this.onClose(params);\r\n    }\r\n\r\n    public getNode(name: string) {\r\n        return this._ui.getNode(name);\r\n    }\r\n\r\n    public getComp(name: string, type: string) {\r\n        return this._ui.getComp(name, type);\r\n    }\r\n\r\n    public addClickEvent(nodeName: string, cb: Function, target?: unknown) {\r\n        let btnNode = this.getNode(nodeName);\r\n        if (!btnNode) {\r\n            Subscribe.trigger(\"log err\", \"Can't find node named \\'\" + nodeName + \"\\' at page \\'\" + this._strName + \"\\'.\");\r\n            return;\r\n        }\r\n        btnNode.on(\"click\", cb, target);\r\n    }\r\n\r\n    // public bindCb(func: Function, params?: any) { if (params && params.length === 1) { params = params[0]; }}\r\n\r\n    // public bindComp(name: string, type: string) { }\r\n\r\n    protected onInit(params?: any) {\r\n        ; //\r\n    }\r\n\r\n    protected onOpen(params?: any) {\r\n        ; //\r\n    }\r\n\r\n    protected onClose(params?: any) {\r\n        ; //\r\n    }\r\n\r\n    // protected onDestroy(params: any) {\r\n    //     ; //\r\n    // }\r\n}\r\n"]}