{"version":3,"sources":["file:///E:/GitHub/HelloTK/assets/Script/BattleField/Attack/Info.ts"],"names":["_decorator","Component","ParticleSystem","Subscribe","ccclass","property","Info","onLoad","init","id","camp","conf","__id","__camp","__conf","atkEff__name","__atkEff","node","getChildByName","getComponent","hitEff__name","__hitEff","trigger","atkEff","hitEff","getConf","arg"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,c,OAAAA,c;;AAC7BC,MAAAA,S,iBAAAA,S;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;sBAGjBM,I,WADZF,OAAO,CAAC,MAAD,C,yBAAR,MACaE,IADb,SAC0BL,SAD1B,CACoC;AAAA;AAAA;;AAAA,wCAET,EAFS;;AAAA;;AAAA;;AAAA,0CAKP,EALO;;AAAA;AAAA;;AAMX;AAErBM,QAAAA,MAAM,GAAG,CAAG;;AAEZC,QAAAA,IAAI,CAACC,EAAD,EAAaC,IAAb,EAA2BC,IAA3B,EAAsC;AAAA;;AACtC,eAAKC,IAAL,GAAYH,EAAZ;AACA,eAAKI,MAAL,GAAcH,IAAd;AACA,eAAKI,MAAL,GAAcH,IAAd;AACA,cAAII,YAAY,GAAG,KAAKD,MAAL,CAAY,QAAZ,CAAnB;AACA,eAAKE,QAAL,4BAAgB,KAAKC,IAAL,CAAUC,cAAV,CAAyBH,YAAzB,CAAhB,0DAAgB,sBAAwCI,YAAxC,CAAqDjB,cAArD,CAAhB;AACA,cAAIkB,YAAY,GAAG,KAAKN,MAAL,CAAY,QAAZ,CAAnB;AACA,eAAKO,QAAL,6BAAgB,KAAKJ,IAAL,CAAUC,cAAV,CAAyBE,YAAzB,CAAhB,2DAAgB,uBAAwCD,YAAxC,CAAqDjB,cAArD,CAAhB;;AACA,cAAI,CAAC,KAAKc,QAAV,EAAoB;AAAE;AAAA;AAAA,wCAAUM,OAAV,CAAkB,SAAlB,EAA6B,gCAA7B;AAAgE;AAAS;AAClG;;AAEY,YAAFb,EAAE,GAAW;AAAE,iBAAO,KAAKG,IAAZ;AAAmB;;AAE5B,YAANW,MAAM,GAAsC;AAAE,iBAAO,KAAKP,QAAZ;AAAuB;;AAE/D,YAANQ,MAAM,GAAsC;AAAE,iBAAO,KAAKH,QAAZ;AAAuB;;AAEjE,YAAJX,IAAI,GAAW;AAAE,iBAAO,KAAKG,MAAZ;AAAqB;;AAE1CY,QAAAA,OAAO,CAACC,GAAD,EAAmB;AAAE,iBAAO,KAAKZ,MAAL,CAAYY,GAAZ,CAAP;AAA0B;;AA7B7B,O","sourcesContent":["import { _decorator, Component, Node, ParticleSystem } from 'cc';\r\nimport { Subscribe } from '../../Tools/Subscribe';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Info')\r\nexport class Info extends Component {\r\n\r\n    private __id: string = \"\"; // 角色ID\r\n    private __atkEff: ParticleSystem | null | undefined; // 攻击特效\r\n    private __hitEff: ParticleSystem | null | undefined; // 受击特效\r\n    private __camp: string = \"\"; // 阵营\r\n    private __conf: any; // 配置\r\n\r\n    onLoad() { }\r\n\r\n    init(id: string, camp: string, conf: any) {\r\n        this.__id = id;\r\n        this.__camp = camp;\r\n        this.__conf = conf;\r\n        let atkEff__name = this.__conf[\"atkEff\"];\r\n        this.__atkEff = this.node.getChildByName(atkEff__name)?.getComponent(ParticleSystem);\r\n        let hitEff__name = this.__conf[\"hitEff\"];\r\n        this.__hitEff = this.node.getChildByName(hitEff__name)?.getComponent(ParticleSystem);\r\n        if (!this.__atkEff) { Subscribe.trigger(\"log err\", \"Can't find child or component!\"); return; }\r\n    }\r\n\r\n    public get id(): string { return this.__id; }\r\n\r\n    public get atkEff(): ParticleSystem | null | undefined { return this.__atkEff; }\r\n\r\n    public get hitEff(): ParticleSystem | null | undefined { return this.__hitEff; }\r\n\r\n    public get camp(): string { return this.__camp; }\r\n\r\n    public getConf(arg: string): any { return this.__conf[arg]; }\r\n\r\n}\r\n"]}